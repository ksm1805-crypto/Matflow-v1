(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mo={exports:{}},hl={},xo={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=Symbol.for("react.element"),Rc=Symbol.for("react.portal"),Lc=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),Mc=Symbol.for("react.profiler"),Dc=Symbol.for("react.provider"),Ic=Symbol.for("react.context"),Tc=Symbol.for("react.forward_ref"),Ac=Symbol.for("react.suspense"),zc=Symbol.for("react.memo"),Fc=Symbol.for("react.lazy"),Qa=Symbol.iterator;function $c(e){return e===null||typeof e!="object"?null:(e=Qa&&e[Qa]||e["@@iterator"],typeof e=="function"?e:null)}var ho={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},go=Object.assign,vo={};function jn(e,t,n){this.props=e,this.context=t,this.refs=vo,this.updater=n||ho}jn.prototype.isReactComponent={};jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yo(){}yo.prototype=jn.prototype;function na(e,t,n){this.props=e,this.context=t,this.refs=vo,this.updater=n||ho}var ra=na.prototype=new yo;ra.constructor=na;go(ra,jn.prototype);ra.isPureReactComponent=!0;var Ja=Array.isArray,jo=Object.prototype.hasOwnProperty,la={current:null},bo={key:!0,ref:!0,__self:!0,__source:!0};function No(e,t,n){var l,s={},a=null,i=null;if(t!=null)for(l in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)jo.call(t,l)&&!bo.hasOwnProperty(l)&&(s[l]=t[l]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)s[l]===void 0&&(s[l]=o[l]);return{$$typeof:ir,type:e,key:a,ref:i,props:s,_owner:la.current}}function Uc(e,t){return{$$typeof:ir,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===ir}function Yc(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Za=/\/+/g;function Il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yc(""+e.key):t.toString(36)}function Mr(e,t,n,l,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ir:case Rc:i=!0}}if(i)return i=e,s=s(i),e=l===""?"."+Il(i,0):l,Ja(s)?(n="",e!=null&&(n=e.replace(Za,"$&/")+"/"),Mr(s,t,n,"",function(c){return c})):s!=null&&(sa(s)&&(s=Uc(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Za,"$&/")+"/")+e)),t.push(s)),1;if(i=0,l=l===""?".":l+":",Ja(e))for(var o=0;o<e.length;o++){a=e[o];var u=l+Il(a,o);i+=Mr(a,t,n,u,s)}else if(u=$c(e),typeof u=="function")for(e=u.call(e),o=0;!(a=e.next()).done;)a=a.value,u=l+Il(a,o++),i+=Mr(a,t,n,u,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pr(e,t,n){if(e==null)return e;var l=[],s=0;return Mr(e,l,"","",function(a){return t.call(n,a,s++)}),l}function Vc(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ge={current:null},Dr={transition:null},Oc={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Dr,ReactCurrentOwner:la};function wo(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:pr,forEach:function(e,t,n){pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pr(e,function(){t++}),t},toArray:function(e){return pr(e,function(t){return t})||[]},only:function(e){if(!sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=jn;F.Fragment=Lc;F.Profiler=Mc;F.PureComponent=na;F.StrictMode=_c;F.Suspense=Ac;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oc;F.act=wo;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=go({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=la.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)jo.call(t,u)&&!bo.hasOwnProperty(u)&&(l[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];l.children=o}return{$$typeof:ir,type:e.type,key:s,ref:a,props:l,_owner:i}};F.createContext=function(e){return e={$$typeof:Ic,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dc,_context:e},e.Consumer=e};F.createElement=No;F.createFactory=function(e){var t=No.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Tc,render:e}};F.isValidElement=sa;F.lazy=function(e){return{$$typeof:Fc,_payload:{_status:-1,_result:e},_init:Vc}};F.memo=function(e,t){return{$$typeof:zc,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=Dr.transition;Dr.transition={};try{e()}finally{Dr.transition=t}};F.unstable_act=wo;F.useCallback=function(e,t){return ge.current.useCallback(e,t)};F.useContext=function(e){return ge.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return ge.current.useDeferredValue(e)};F.useEffect=function(e,t){return ge.current.useEffect(e,t)};F.useId=function(){return ge.current.useId()};F.useImperativeHandle=function(e,t,n){return ge.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return ge.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return ge.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return ge.current.useMemo(e,t)};F.useReducer=function(e,t,n){return ge.current.useReducer(e,t,n)};F.useRef=function(e){return ge.current.useRef(e)};F.useState=function(e){return ge.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return ge.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return ge.current.useTransition()};F.version="18.3.1";xo.exports=F;var z=xo.exports;const Hc=Pc(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=z,Wc=Symbol.for("react.element"),Bc=Symbol.for("react.fragment"),Kc=Object.prototype.hasOwnProperty,Xc=Gc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qc={key:!0,ref:!0,__self:!0,__source:!0};function So(e,t,n){var l,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(l in t)Kc.call(t,l)&&!Qc.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)s[l]===void 0&&(s[l]=t[l]);return{$$typeof:Wc,type:e,key:a,ref:i,props:s,_owner:Xc.current}}hl.Fragment=Bc;hl.jsx=So;hl.jsxs=So;mo.exports=hl;var r=mo.exports,is={},ko={exports:{}},Pe={},Eo={exports:{}},Co={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,L){var A=_.length;_.push(L);e:for(;0<A;){var O=A-1>>>1,Q=_[O];if(0<s(Q,L))_[O]=L,_[A]=Q,A=O;else break e}}function n(_){return _.length===0?null:_[0]}function l(_){if(_.length===0)return null;var L=_[0],A=_.pop();if(A!==L){_[0]=A;e:for(var O=0,Q=_.length,Pt=Q>>>1;O<Pt;){var Rt=2*(O+1)-1,Dl=_[Rt],Lt=Rt+1,fr=_[Lt];if(0>s(Dl,A))Lt<Q&&0>s(fr,Dl)?(_[O]=fr,_[Lt]=A,O=Lt):(_[O]=Dl,_[Rt]=A,O=Rt);else if(Lt<Q&&0>s(fr,A))_[O]=fr,_[Lt]=A,O=Lt;else break e}}return L}function s(_,L){var A=_.sortIndex-L.sortIndex;return A!==0?A:_.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var u=[],c=[],b=1,f=null,m=3,g=!1,y=!1,S=!1,h=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(_){for(var L=n(c);L!==null;){if(L.callback===null)l(c);else if(L.startTime<=_)l(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(c)}}function N(_){if(S=!1,x(_),!y)if(n(u)!==null)y=!0,V(w);else{var L=n(c);L!==null&&ne(N,L.startTime-_)}}function w(_,L){y=!1,S&&(S=!1,d(k),k=-1),g=!0;var A=m;try{for(x(L),f=n(u);f!==null&&(!(f.expirationTime>L)||_&&!E());){var O=f.callback;if(typeof O=="function"){f.callback=null,m=f.priorityLevel;var Q=O(f.expirationTime<=L);L=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(u)&&l(u),x(L)}else l(u);f=n(u)}if(f!==null)var Pt=!0;else{var Rt=n(c);Rt!==null&&ne(N,Rt.startTime-L),Pt=!1}return Pt}finally{f=null,m=A,g=!1}}var j=!1,v=null,k=-1,R=5,P=-1;function E(){return!(e.unstable_now()-P<R)}function T(){if(v!==null){var _=e.unstable_now();P=_;var L=!0;try{L=v(!0,_)}finally{L?I():(j=!1,v=null)}}else j=!1}var I;if(typeof p=="function")I=function(){p(T)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,U=$.port2;$.port1.onmessage=T,I=function(){U.postMessage(null)}}else I=function(){h(T,0)};function V(_){v=_,j||(j=!0,I())}function ne(_,L){k=h(function(){_(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,V(w))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var A=m;m=L;try{return _()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,L){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var A=m;m=_;try{return L()}finally{m=A}},e.unstable_scheduleCallback=function(_,L,A){var O=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?O+A:O):A=O,_){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=A+Q,_={id:b++,callback:L,priorityLevel:_,startTime:A,expirationTime:Q,sortIndex:-1},A>O?(_.sortIndex=A,t(c,_),n(u)===null&&_===n(c)&&(S?(d(k),k=-1):S=!0,ne(N,A-O))):(_.sortIndex=Q,t(u,_),y||g||(y=!0,V(w))),_},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(_){var L=m;return function(){var A=m;m=L;try{return _.apply(this,arguments)}finally{m=A}}}})(Co);Eo.exports=Co;var Jc=Eo.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc=z,Ce=Jc;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Po=new Set,Hn={};function Ot(e,t){fn(e,t),fn(e+"Capture",t)}function fn(e,t){for(Hn[e]=t,e=0;e<t.length;e++)Po.add(t[e])}var nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=Object.prototype.hasOwnProperty,qc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qa={},ei={};function ed(e){return os.call(ei,e)?!0:os.call(qa,e)?!1:qc.test(e)?ei[e]=!0:(qa[e]=!0,!1)}function td(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nd(e,t,n,l){if(t===null||typeof t>"u"||td(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,n,l,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ce[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ce[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ce[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ce[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ce[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ce[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ce[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ce[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ce[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var aa=/[\-:]([a-z])/g;function ia(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aa,ia);ce[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aa,ia);ce[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aa,ia);ce[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ce[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});ce.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ce[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function oa(e,t,n,l){var s=ce.hasOwnProperty(t)?ce[t]:null;(s!==null?s.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nd(t,n,s,l)&&(n=null),l||s===null?ed(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,l=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var at=Zc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mr=Symbol.for("react.element"),Bt=Symbol.for("react.portal"),Kt=Symbol.for("react.fragment"),ua=Symbol.for("react.strict_mode"),us=Symbol.for("react.profiler"),Ro=Symbol.for("react.provider"),Lo=Symbol.for("react.context"),ca=Symbol.for("react.forward_ref"),cs=Symbol.for("react.suspense"),ds=Symbol.for("react.suspense_list"),da=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),_o=Symbol.for("react.offscreen"),ti=Symbol.iterator;function wn(e){return e===null||typeof e!="object"?null:(e=ti&&e[ti]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,Tl;function _n(e){if(Tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Al=!1;function zl(e,t){if(!e||Al)return"";Al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var l=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){l=c}e.call(t.prototype)}else{try{throw Error()}catch(c){l=c}e()}}catch(c){if(c&&l&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=l.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var u=`
`+s[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=o);break}}}finally{Al=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_n(e):""}function rd(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function fs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kt:return"Fragment";case Bt:return"Portal";case us:return"Profiler";case ua:return"StrictMode";case cs:return"Suspense";case ds:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lo:return(e.displayName||"Context")+".Consumer";case Ro:return(e._context.displayName||"Context")+".Provider";case ca:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case da:return t=e.displayName||null,t!==null?t:fs(e.type)||"Memo";case ut:t=e._payload,e=e._init;try{return fs(e(t))}catch{}}return null}function ld(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fs(t);case 8:return t===ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sd(e){var t=Mo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){l=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xr(e){e._valueTracker||(e._valueTracker=sd(e))}function Do(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Mo(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Hr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ps(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ni(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=wt(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Io(e,t){t=t.checked,t!=null&&oa(e,"checked",t,!1)}function ms(e,t){Io(e,t);var n=wt(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xs(e,t.type,n):t.hasOwnProperty("defaultValue")&&xs(e,t.type,wt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ri(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xs(e,t,n){(t!=="number"||Hr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mn=Array.isArray;function sn(e,t,n,l){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&l&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function li(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Mn(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wt(n)}}function To(e,t){var n=wt(t.value),l=wt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function si(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ao(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ao(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hr,zo=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ad=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(e){ad.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tn[t]=Tn[e]})});function Fo(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tn.hasOwnProperty(e)&&Tn[e]?(""+t).trim():t+"px"}function $o(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,s=Fo(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,s):e[n]=s}}var id=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vs(e,t){if(t){if(id[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function ys(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function fa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,an=null,on=null;function ai(e){if(e=cr(e)){if(typeof bs!="function")throw Error(C(280));var t=e.stateNode;t&&(t=bl(t),bs(e.stateNode,e.type,t))}}function Uo(e){an?on?on.push(e):on=[e]:an=e}function Yo(){if(an){var e=an,t=on;if(on=an=null,ai(e),t)for(e=0;e<t.length;e++)ai(t[e])}}function Vo(e,t){return e(t)}function Oo(){}var Fl=!1;function Ho(e,t,n){if(Fl)return e(t,n);Fl=!0;try{return Vo(e,t,n)}finally{Fl=!1,(an!==null||on!==null)&&(Oo(),Yo())}}function Wn(e,t){var n=e.stateNode;if(n===null)return null;var l=bl(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Ns=!1;if(nt)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Ns=!1}function od(e,t,n,l,s,a,i,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(b){this.onError(b)}}var An=!1,Gr=null,Wr=!1,ws=null,ud={onError:function(e){An=!0,Gr=e}};function cd(e,t,n,l,s,a,i,o,u){An=!1,Gr=null,od.apply(ud,arguments)}function dd(e,t,n,l,s,a,i,o,u){if(cd.apply(this,arguments),An){if(An){var c=Gr;An=!1,Gr=null}else throw Error(C(198));Wr||(Wr=!0,ws=c)}}function Ht(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Go(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ii(e){if(Ht(e)!==e)throw Error(C(188))}function fd(e){var t=e.alternate;if(!t){if(t=Ht(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,l=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(l=s.return,l!==null){n=l;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return ii(s),e;if(a===l)return ii(s),t;a=a.sibling}throw Error(C(188))}if(n.return!==l.return)n=s,l=a;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,l=a;break}if(o===l){i=!0,l=s,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,l=s;break}if(o===l){i=!0,l=a,n=s;break}o=o.sibling}if(!i)throw Error(C(189))}}if(n.alternate!==l)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Wo(e){return e=fd(e),e!==null?Bo(e):null}function Bo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bo(e);if(t!==null)return t;e=e.sibling}return null}var Ko=Ce.unstable_scheduleCallback,oi=Ce.unstable_cancelCallback,pd=Ce.unstable_shouldYield,md=Ce.unstable_requestPaint,te=Ce.unstable_now,xd=Ce.unstable_getCurrentPriorityLevel,pa=Ce.unstable_ImmediatePriority,Xo=Ce.unstable_UserBlockingPriority,Br=Ce.unstable_NormalPriority,hd=Ce.unstable_LowPriority,Qo=Ce.unstable_IdlePriority,gl=null,Xe=null;function gd(e){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(gl,e,void 0,(e.current.flags&128)===128)}catch{}}var Oe=Math.clz32?Math.clz32:jd,vd=Math.log,yd=Math.LN2;function jd(e){return e>>>=0,e===0?32:31-(vd(e)/yd|0)|0}var gr=64,vr=4194304;function Dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kr(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~s;o!==0?l=Dn(o):(a&=i,a!==0&&(l=Dn(a)))}else i=n&~s,i!==0?l=Dn(i):a!==0&&(l=Dn(a));if(l===0)return 0;if(t!==0&&t!==l&&!(t&s)&&(s=l&-l,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-Oe(t),s=1<<n,l|=e[n],t&=~s;return l}function bd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nd(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Oe(a),o=1<<i,u=s[i];u===-1?(!(o&n)||o&l)&&(s[i]=bd(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}}function Ss(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jo(){var e=gr;return gr<<=1,!(gr&4194240)&&(gr=64),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function or(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oe(t),e[t]=n}function wd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Oe(n),a=1<<s;t[s]=0,l[s]=-1,e[s]=-1,n&=~a}}function ma(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Oe(n),s=1<<l;s&t|e[l]&t&&(e[l]|=t),n&=~s}}var H=0;function Zo(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qo,xa,eu,tu,nu,ks=!1,yr=[],xt=null,ht=null,gt=null,Bn=new Map,Kn=new Map,dt=[],Sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ui(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":ht=null;break;case"mouseover":case"mouseout":gt=null;break;case"pointerover":case"pointerout":Bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(t.pointerId)}}function kn(e,t,n,l,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:a,targetContainers:[s]},t!==null&&(t=cr(t),t!==null&&xa(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kd(e,t,n,l,s){switch(t){case"focusin":return xt=kn(xt,e,t,n,l,s),!0;case"dragenter":return ht=kn(ht,e,t,n,l,s),!0;case"mouseover":return gt=kn(gt,e,t,n,l,s),!0;case"pointerover":var a=s.pointerId;return Bn.set(a,kn(Bn.get(a)||null,e,t,n,l,s)),!0;case"gotpointercapture":return a=s.pointerId,Kn.set(a,kn(Kn.get(a)||null,e,t,n,l,s)),!0}return!1}function ru(e){var t=Dt(e.target);if(t!==null){var n=Ht(t);if(n!==null){if(t=n.tag,t===13){if(t=Go(n),t!==null){e.blockedOn=t,nu(e.priority,function(){eu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ir(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Es(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);js=l,n.target.dispatchEvent(l),js=null}else return t=cr(n),t!==null&&xa(t),e.blockedOn=n,!1;t.shift()}return!0}function ci(e,t,n){Ir(e)&&n.delete(t)}function Ed(){ks=!1,xt!==null&&Ir(xt)&&(xt=null),ht!==null&&Ir(ht)&&(ht=null),gt!==null&&Ir(gt)&&(gt=null),Bn.forEach(ci),Kn.forEach(ci)}function En(e,t){e.blockedOn===t&&(e.blockedOn=null,ks||(ks=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,Ed)))}function Xn(e){function t(s){return En(s,e)}if(0<yr.length){En(yr[0],e);for(var n=1;n<yr.length;n++){var l=yr[n];l.blockedOn===e&&(l.blockedOn=null)}}for(xt!==null&&En(xt,e),ht!==null&&En(ht,e),gt!==null&&En(gt,e),Bn.forEach(t),Kn.forEach(t),n=0;n<dt.length;n++)l=dt[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<dt.length&&(n=dt[0],n.blockedOn===null);)ru(n),n.blockedOn===null&&dt.shift()}var un=at.ReactCurrentBatchConfig,Xr=!0;function Cd(e,t,n,l){var s=H,a=un.transition;un.transition=null;try{H=1,ha(e,t,n,l)}finally{H=s,un.transition=a}}function Pd(e,t,n,l){var s=H,a=un.transition;un.transition=null;try{H=4,ha(e,t,n,l)}finally{H=s,un.transition=a}}function ha(e,t,n,l){if(Xr){var s=Es(e,t,n,l);if(s===null)Xl(e,t,l,Qr,n),ui(e,l);else if(kd(s,e,t,n,l))l.stopPropagation();else if(ui(e,l),t&4&&-1<Sd.indexOf(e)){for(;s!==null;){var a=cr(s);if(a!==null&&qo(a),a=Es(e,t,n,l),a===null&&Xl(e,t,l,Qr,n),a===s)break;s=a}s!==null&&l.stopPropagation()}else Xl(e,t,l,null,n)}}var Qr=null;function Es(e,t,n,l){if(Qr=null,e=fa(l),e=Dt(e),e!==null)if(t=Ht(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Go(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qr=e,null}function lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xd()){case pa:return 1;case Xo:return 4;case Br:case hd:return 16;case Qo:return 536870912;default:return 16}default:return 16}}var pt=null,ga=null,Tr=null;function su(){if(Tr)return Tr;var e,t=ga,n=t.length,l,s="value"in pt?pt.value:pt.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(l=1;l<=i&&t[n-l]===s[a-l];l++);return Tr=s.slice(e,1<l?1-l:void 0)}function Ar(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jr(){return!0}function di(){return!1}function Re(e){function t(n,l,s,a,i){this._reactName=n,this._targetInst=s,this.type=l,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jr:di,this.isPropagationStopped=di,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Re(bn),ur=q({},bn,{view:0,detail:0}),Rd=Re(ur),Ul,Yl,Cn,vl=q({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cn&&(Cn&&e.type==="mousemove"?(Ul=e.screenX-Cn.screenX,Yl=e.screenY-Cn.screenY):Yl=Ul=0,Cn=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Yl}}),fi=Re(vl),Ld=q({},vl,{dataTransfer:0}),_d=Re(Ld),Md=q({},ur,{relatedTarget:0}),Vl=Re(Md),Dd=q({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Id=Re(Dd),Td=q({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ad=Re(Td),zd=q({},bn,{data:0}),pi=Re(zd),Fd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$d={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ud[e])?!!t[e]:!1}function ya(){return Yd}var Vd=q({},ur,{key:function(e){if(e.key){var t=Fd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$d[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Od=Re(Vd),Hd=q({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mi=Re(Hd),Gd=q({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),Wd=Re(Gd),Bd=q({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kd=Re(Bd),Xd=q({},vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qd=Re(Xd),Jd=[9,13,27,32],ja=nt&&"CompositionEvent"in window,zn=null;nt&&"documentMode"in document&&(zn=document.documentMode);var Zd=nt&&"TextEvent"in window&&!zn,au=nt&&(!ja||zn&&8<zn&&11>=zn),xi=" ",hi=!1;function iu(e,t){switch(e){case"keyup":return Jd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xt=!1;function qd(e,t){switch(e){case"compositionend":return ou(t);case"keypress":return t.which!==32?null:(hi=!0,xi);case"textInput":return e=t.data,e===xi&&hi?null:e;default:return null}}function e0(e,t){if(Xt)return e==="compositionend"||!ja&&iu(e,t)?(e=su(),Tr=ga=pt=null,Xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return au&&t.locale!=="ko"?null:t.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t0[e.type]:t==="textarea"}function uu(e,t,n,l){Uo(l),t=Jr(t,"onChange"),0<t.length&&(n=new va("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Fn=null,Qn=null;function n0(e){ju(e,0)}function yl(e){var t=Zt(e);if(Do(t))return e}function r0(e,t){if(e==="change")return t}var cu=!1;if(nt){var Ol;if(nt){var Hl="oninput"in document;if(!Hl){var vi=document.createElement("div");vi.setAttribute("oninput","return;"),Hl=typeof vi.oninput=="function"}Ol=Hl}else Ol=!1;cu=Ol&&(!document.documentMode||9<document.documentMode)}function yi(){Fn&&(Fn.detachEvent("onpropertychange",du),Qn=Fn=null)}function du(e){if(e.propertyName==="value"&&yl(Qn)){var t=[];uu(t,Qn,e,fa(e)),Ho(n0,t)}}function l0(e,t,n){e==="focusin"?(yi(),Fn=t,Qn=n,Fn.attachEvent("onpropertychange",du)):e==="focusout"&&yi()}function s0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(Qn)}function a0(e,t){if(e==="click")return yl(t)}function i0(e,t){if(e==="input"||e==="change")return yl(t)}function o0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ge=typeof Object.is=="function"?Object.is:o0;function Jn(e,t){if(Ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var s=n[l];if(!os.call(t,s)||!Ge(e[s],t[s]))return!1}return!0}function ji(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bi(e,t){var n=ji(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ji(n)}}function fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pu(){for(var e=window,t=Hr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hr(e.document)}return t}function ba(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u0(e){var t=pu(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fu(n.ownerDocument.documentElement,n)){if(l!==null&&ba(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(l.start,s);l=l.end===void 0?a:Math.min(l.end,s),!e.extend&&a>l&&(s=l,l=a,a=s),s=bi(n,a);var i=bi(n,l);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c0=nt&&"documentMode"in document&&11>=document.documentMode,Qt=null,Cs=null,$n=null,Ps=!1;function Ni(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ps||Qt==null||Qt!==Hr(l)||(l=Qt,"selectionStart"in l&&ba(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$n&&Jn($n,l)||($n=l,l=Jr(Cs,"onSelect"),0<l.length&&(t=new va("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Qt)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jt={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Gl={},mu={};nt&&(mu=document.createElement("div").style,"AnimationEvent"in window||(delete Jt.animationend.animation,delete Jt.animationiteration.animation,delete Jt.animationstart.animation),"TransitionEvent"in window||delete Jt.transitionend.transition);function jl(e){if(Gl[e])return Gl[e];if(!Jt[e])return e;var t=Jt[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mu)return Gl[e]=t[n];return e}var xu=jl("animationend"),hu=jl("animationiteration"),gu=jl("animationstart"),vu=jl("transitionend"),yu=new Map,wi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kt(e,t){yu.set(e,t),Ot(t,[e])}for(var Wl=0;Wl<wi.length;Wl++){var Bl=wi[Wl],d0=Bl.toLowerCase(),f0=Bl[0].toUpperCase()+Bl.slice(1);kt(d0,"on"+f0)}kt(xu,"onAnimationEnd");kt(hu,"onAnimationIteration");kt(gu,"onAnimationStart");kt("dblclick","onDoubleClick");kt("focusin","onFocus");kt("focusout","onBlur");kt(vu,"onTransitionEnd");fn("onMouseEnter",["mouseout","mouseover"]);fn("onMouseLeave",["mouseout","mouseover"]);fn("onPointerEnter",["pointerout","pointerover"]);fn("onPointerLeave",["pointerout","pointerover"]);Ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ot("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p0=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Si(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,dd(l,t,void 0,e),e.currentTarget=null}function ju(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],s=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var i=l.length-1;0<=i;i--){var o=l[i],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&s.isPropagationStopped())break e;Si(s,o,c),a=u}else for(i=0;i<l.length;i++){if(o=l[i],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&s.isPropagationStopped())break e;Si(s,o,c),a=u}}}if(Wr)throw e=ws,Wr=!1,ws=null,e}function W(e,t){var n=t[Ds];n===void 0&&(n=t[Ds]=new Set);var l=e+"__bubble";n.has(l)||(bu(t,e,2,!1),n.add(l))}function Kl(e,t,n){var l=0;t&&(l|=4),bu(n,e,l,t)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Zn(e){if(!e[Nr]){e[Nr]=!0,Po.forEach(function(n){n!=="selectionchange"&&(p0.has(n)||Kl(n,!1,e),Kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nr]||(t[Nr]=!0,Kl("selectionchange",!1,t))}}function bu(e,t,n,l){switch(lu(t)){case 1:var s=Cd;break;case 4:s=Pd;break;default:s=ha}n=s.bind(null,t,n,e),s=void 0,!Ns||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Xl(e,t,n,l,s){var a=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var o=l.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=l.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;o!==null;){if(i=Dt(o),i===null)return;if(u=i.tag,u===5||u===6){l=a=i;continue e}o=o.parentNode}}l=l.return}Ho(function(){var c=a,b=fa(n),f=[];e:{var m=yu.get(e);if(m!==void 0){var g=va,y=e;switch(e){case"keypress":if(Ar(n)===0)break e;case"keydown":case"keyup":g=Od;break;case"focusin":y="focus",g=Vl;break;case"focusout":y="blur",g=Vl;break;case"beforeblur":case"afterblur":g=Vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Wd;break;case xu:case hu:case gu:g=Id;break;case vu:g=Kd;break;case"scroll":g=Rd;break;case"wheel":g=Qd;break;case"copy":case"cut":case"paste":g=Ad;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mi}var S=(t&4)!==0,h=!S&&e==="scroll",d=S?m!==null?m+"Capture":null:m;S=[];for(var p=c,x;p!==null;){x=p;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,d!==null&&(N=Wn(p,d),N!=null&&S.push(qn(p,N,x)))),h)break;p=p.return}0<S.length&&(m=new g(m,y,null,n,b),f.push({event:m,listeners:S}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==js&&(y=n.relatedTarget||n.fromElement)&&(Dt(y)||y[rt]))break e;if((g||m)&&(m=b.window===b?b:(m=b.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?Dt(y):null,y!==null&&(h=Ht(y),y!==h||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(S=fi,N="onMouseLeave",d="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(S=mi,N="onPointerLeave",d="onPointerEnter",p="pointer"),h=g==null?m:Zt(g),x=y==null?m:Zt(y),m=new S(N,p+"leave",g,n,b),m.target=h,m.relatedTarget=x,N=null,Dt(b)===c&&(S=new S(d,p+"enter",y,n,b),S.target=x,S.relatedTarget=h,N=S),h=N,g&&y)t:{for(S=g,d=y,p=0,x=S;x;x=Gt(x))p++;for(x=0,N=d;N;N=Gt(N))x++;for(;0<p-x;)S=Gt(S),p--;for(;0<x-p;)d=Gt(d),x--;for(;p--;){if(S===d||d!==null&&S===d.alternate)break t;S=Gt(S),d=Gt(d)}S=null}else S=null;g!==null&&ki(f,m,g,S,!1),y!==null&&h!==null&&ki(f,h,y,S,!0)}}e:{if(m=c?Zt(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var w=r0;else if(gi(m))if(cu)w=i0;else{w=s0;var j=l0}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=a0);if(w&&(w=w(e,c))){uu(f,w,n,b);break e}j&&j(e,m,c),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&xs(m,"number",m.value)}switch(j=c?Zt(c):window,e){case"focusin":(gi(j)||j.contentEditable==="true")&&(Qt=j,Cs=c,$n=null);break;case"focusout":$n=Cs=Qt=null;break;case"mousedown":Ps=!0;break;case"contextmenu":case"mouseup":case"dragend":Ps=!1,Ni(f,n,b);break;case"selectionchange":if(c0)break;case"keydown":case"keyup":Ni(f,n,b)}var v;if(ja)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xt?iu(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(au&&n.locale!=="ko"&&(Xt||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xt&&(v=su()):(pt=b,ga="value"in pt?pt.value:pt.textContent,Xt=!0)),j=Jr(c,k),0<j.length&&(k=new pi(k,e,null,n,b),f.push({event:k,listeners:j}),v?k.data=v:(v=ou(n),v!==null&&(k.data=v)))),(v=Zd?qd(e,n):e0(e,n))&&(c=Jr(c,"onBeforeInput"),0<c.length&&(b=new pi("onBeforeInput","beforeinput",null,n,b),f.push({event:b,listeners:c}),b.data=v))}ju(f,t)})}function qn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jr(e,t){for(var n=t+"Capture",l=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Wn(e,n),a!=null&&l.unshift(qn(e,a,s)),a=Wn(e,t),a!=null&&l.push(qn(e,a,s))),e=e.return}return l}function Gt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ki(e,t,n,l,s){for(var a=t._reactName,i=[];n!==null&&n!==l;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===l)break;o.tag===5&&c!==null&&(o=c,s?(u=Wn(n,a),u!=null&&i.unshift(qn(n,u,o))):s||(u=Wn(n,a),u!=null&&i.push(qn(n,u,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var m0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function Ei(e){return(typeof e=="string"?e:""+e).replace(m0,`
`).replace(x0,"")}function wr(e,t,n){if(t=Ei(t),Ei(e)!==t&&n)throw Error(C(425))}function Zr(){}var Rs=null,Ls=null;function _s(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ms=typeof setTimeout=="function"?setTimeout:void 0,h0=typeof clearTimeout=="function"?clearTimeout:void 0,Ci=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ci<"u"?function(e){return Ci.resolve(null).then(e).catch(v0)}:Ms;function v0(e){setTimeout(function(){throw e})}function Ql(e,t){var n=t,l=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(l===0){e.removeChild(s),Xn(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=s}while(n);Xn(t)}function vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nn=Math.random().toString(36).slice(2),Ke="__reactFiber$"+Nn,er="__reactProps$"+Nn,rt="__reactContainer$"+Nn,Ds="__reactEvents$"+Nn,y0="__reactListeners$"+Nn,j0="__reactHandles$"+Nn;function Dt(e){var t=e[Ke];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rt]||n[Ke]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pi(e);e!==null;){if(n=e[Ke])return n;e=Pi(e)}return t}e=n,n=e.parentNode}return null}function cr(e){return e=e[Ke]||e[rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function bl(e){return e[er]||null}var Is=[],qt=-1;function Et(e){return{current:e}}function B(e){0>qt||(e.current=Is[qt],Is[qt]=null,qt--)}function G(e,t){qt++,Is[qt]=e.current,e.current=t}var St={},me=Et(St),be=Et(!1),Ft=St;function pn(e,t){var n=e.type.contextTypes;if(!n)return St;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(e){return e=e.childContextTypes,e!=null}function qr(){B(be),B(me)}function Ri(e,t,n){if(me.current!==St)throw Error(C(168));G(me,t),G(be,n)}function Nu(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var s in l)if(!(s in t))throw Error(C(108,ld(e)||"Unknown",s));return q({},n,l)}function el(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||St,Ft=me.current,G(me,e),G(be,be.current),!0}function Li(e,t,n){var l=e.stateNode;if(!l)throw Error(C(169));n?(e=Nu(e,t,Ft),l.__reactInternalMemoizedMergedChildContext=e,B(be),B(me),G(me,e)):B(be),G(be,n)}var Ze=null,Nl=!1,Jl=!1;function wu(e){Ze===null?Ze=[e]:Ze.push(e)}function b0(e){Nl=!0,wu(e)}function Ct(){if(!Jl&&Ze!==null){Jl=!0;var e=0,t=H;try{var n=Ze;for(H=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}Ze=null,Nl=!1}catch(s){throw Ze!==null&&(Ze=Ze.slice(e+1)),Ko(pa,Ct),s}finally{H=t,Jl=!1}}return null}var en=[],tn=0,tl=null,nl=0,Le=[],_e=0,$t=null,qe=1,et="";function _t(e,t){en[tn++]=nl,en[tn++]=tl,tl=e,nl=t}function Su(e,t,n){Le[_e++]=qe,Le[_e++]=et,Le[_e++]=$t,$t=e;var l=qe;e=et;var s=32-Oe(l)-1;l&=~(1<<s),n+=1;var a=32-Oe(t)+s;if(30<a){var i=s-s%5;a=(l&(1<<i)-1).toString(32),l>>=i,s-=i,qe=1<<32-Oe(t)+s|n<<s|l,et=a+e}else qe=1<<a|n<<s|l,et=e}function Na(e){e.return!==null&&(_t(e,1),Su(e,1,0))}function wa(e){for(;e===tl;)tl=en[--tn],en[tn]=null,nl=en[--tn],en[tn]=null;for(;e===$t;)$t=Le[--_e],Le[_e]=null,et=Le[--_e],Le[_e]=null,qe=Le[--_e],Le[_e]=null}var Ee=null,ke=null,K=!1,Ue=null;function ku(e,t){var n=Me(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _i(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ee=e,ke=vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ee=e,ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$t!==null?{id:qe,overflow:et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Me(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ee=e,ke=null,!0):!1;default:return!1}}function Ts(e){return(e.mode&1)!==0&&(e.flags&128)===0}function As(e){if(K){var t=ke;if(t){var n=t;if(!_i(e,t)){if(Ts(e))throw Error(C(418));t=vt(n.nextSibling);var l=Ee;t&&_i(e,t)?ku(l,n):(e.flags=e.flags&-4097|2,K=!1,Ee=e)}}else{if(Ts(e))throw Error(C(418));e.flags=e.flags&-4097|2,K=!1,Ee=e}}}function Mi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ee=e}function Sr(e){if(e!==Ee)return!1;if(!K)return Mi(e),K=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_s(e.type,e.memoizedProps)),t&&(t=ke)){if(Ts(e))throw Eu(),Error(C(418));for(;t;)ku(e,t),t=vt(t.nextSibling)}if(Mi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ke=vt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ke=null}}else ke=Ee?vt(e.stateNode.nextSibling):null;return!0}function Eu(){for(var e=ke;e;)e=vt(e.nextSibling)}function mn(){ke=Ee=null,K=!1}function Sa(e){Ue===null?Ue=[e]:Ue.push(e)}var N0=at.ReactCurrentBatchConfig;function Pn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var l=n.stateNode}if(!l)throw Error(C(147,e));var s=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function kr(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Di(e){var t=e._init;return t(e._payload)}function Cu(e){function t(d,p){if(e){var x=d.deletions;x===null?(d.deletions=[p],d.flags|=16):x.push(p)}}function n(d,p){if(!e)return null;for(;p!==null;)t(d,p),p=p.sibling;return null}function l(d,p){for(d=new Map;p!==null;)p.key!==null?d.set(p.key,p):d.set(p.index,p),p=p.sibling;return d}function s(d,p){return d=Nt(d,p),d.index=0,d.sibling=null,d}function a(d,p,x){return d.index=x,e?(x=d.alternate,x!==null?(x=x.index,x<p?(d.flags|=2,p):x):(d.flags|=2,p)):(d.flags|=1048576,p)}function i(d){return e&&d.alternate===null&&(d.flags|=2),d}function o(d,p,x,N){return p===null||p.tag!==6?(p=ls(x,d.mode,N),p.return=d,p):(p=s(p,x),p.return=d,p)}function u(d,p,x,N){var w=x.type;return w===Kt?b(d,p,x.props.children,N,x.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ut&&Di(w)===p.type)?(N=s(p,x.props),N.ref=Pn(d,p,x),N.return=d,N):(N=Or(x.type,x.key,x.props,null,d.mode,N),N.ref=Pn(d,p,x),N.return=d,N)}function c(d,p,x,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=ss(x,d.mode,N),p.return=d,p):(p=s(p,x.children||[]),p.return=d,p)}function b(d,p,x,N,w){return p===null||p.tag!==7?(p=zt(x,d.mode,N,w),p.return=d,p):(p=s(p,x),p.return=d,p)}function f(d,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ls(""+p,d.mode,x),p.return=d,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case mr:return x=Or(p.type,p.key,p.props,null,d.mode,x),x.ref=Pn(d,null,p),x.return=d,x;case Bt:return p=ss(p,d.mode,x),p.return=d,p;case ut:var N=p._init;return f(d,N(p._payload),x)}if(Mn(p)||wn(p))return p=zt(p,d.mode,x,null),p.return=d,p;kr(d,p)}return null}function m(d,p,x,N){var w=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(d,p,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mr:return x.key===w?u(d,p,x,N):null;case Bt:return x.key===w?c(d,p,x,N):null;case ut:return w=x._init,m(d,p,w(x._payload),N)}if(Mn(x)||wn(x))return w!==null?null:b(d,p,x,N,null);kr(d,x)}return null}function g(d,p,x,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return d=d.get(x)||null,o(p,d,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case mr:return d=d.get(N.key===null?x:N.key)||null,u(p,d,N,w);case Bt:return d=d.get(N.key===null?x:N.key)||null,c(p,d,N,w);case ut:var j=N._init;return g(d,p,x,j(N._payload),w)}if(Mn(N)||wn(N))return d=d.get(x)||null,b(p,d,N,w,null);kr(p,N)}return null}function y(d,p,x,N){for(var w=null,j=null,v=p,k=p=0,R=null;v!==null&&k<x.length;k++){v.index>k?(R=v,v=null):R=v.sibling;var P=m(d,v,x[k],N);if(P===null){v===null&&(v=R);break}e&&v&&P.alternate===null&&t(d,v),p=a(P,p,k),j===null?w=P:j.sibling=P,j=P,v=R}if(k===x.length)return n(d,v),K&&_t(d,k),w;if(v===null){for(;k<x.length;k++)v=f(d,x[k],N),v!==null&&(p=a(v,p,k),j===null?w=v:j.sibling=v,j=v);return K&&_t(d,k),w}for(v=l(d,v);k<x.length;k++)R=g(v,d,k,x[k],N),R!==null&&(e&&R.alternate!==null&&v.delete(R.key===null?k:R.key),p=a(R,p,k),j===null?w=R:j.sibling=R,j=R);return e&&v.forEach(function(E){return t(d,E)}),K&&_t(d,k),w}function S(d,p,x,N){var w=wn(x);if(typeof w!="function")throw Error(C(150));if(x=w.call(x),x==null)throw Error(C(151));for(var j=w=null,v=p,k=p=0,R=null,P=x.next();v!==null&&!P.done;k++,P=x.next()){v.index>k?(R=v,v=null):R=v.sibling;var E=m(d,v,P.value,N);if(E===null){v===null&&(v=R);break}e&&v&&E.alternate===null&&t(d,v),p=a(E,p,k),j===null?w=E:j.sibling=E,j=E,v=R}if(P.done)return n(d,v),K&&_t(d,k),w;if(v===null){for(;!P.done;k++,P=x.next())P=f(d,P.value,N),P!==null&&(p=a(P,p,k),j===null?w=P:j.sibling=P,j=P);return K&&_t(d,k),w}for(v=l(d,v);!P.done;k++,P=x.next())P=g(v,d,k,P.value,N),P!==null&&(e&&P.alternate!==null&&v.delete(P.key===null?k:P.key),p=a(P,p,k),j===null?w=P:j.sibling=P,j=P);return e&&v.forEach(function(T){return t(d,T)}),K&&_t(d,k),w}function h(d,p,x,N){if(typeof x=="object"&&x!==null&&x.type===Kt&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case mr:e:{for(var w=x.key,j=p;j!==null;){if(j.key===w){if(w=x.type,w===Kt){if(j.tag===7){n(d,j.sibling),p=s(j,x.props.children),p.return=d,d=p;break e}}else if(j.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ut&&Di(w)===j.type){n(d,j.sibling),p=s(j,x.props),p.ref=Pn(d,j,x),p.return=d,d=p;break e}n(d,j);break}else t(d,j);j=j.sibling}x.type===Kt?(p=zt(x.props.children,d.mode,N,x.key),p.return=d,d=p):(N=Or(x.type,x.key,x.props,null,d.mode,N),N.ref=Pn(d,p,x),N.return=d,d=N)}return i(d);case Bt:e:{for(j=x.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(d,p.sibling),p=s(p,x.children||[]),p.return=d,d=p;break e}else{n(d,p);break}else t(d,p);p=p.sibling}p=ss(x,d.mode,N),p.return=d,d=p}return i(d);case ut:return j=x._init,h(d,p,j(x._payload),N)}if(Mn(x))return y(d,p,x,N);if(wn(x))return S(d,p,x,N);kr(d,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(d,p.sibling),p=s(p,x),p.return=d,d=p):(n(d,p),p=ls(x,d.mode,N),p.return=d,d=p),i(d)):n(d,p)}return h}var xn=Cu(!0),Pu=Cu(!1),rl=Et(null),ll=null,nn=null,ka=null;function Ea(){ka=nn=ll=null}function Ca(e){var t=rl.current;B(rl),e._currentValue=t}function zs(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){ll=e,ka=nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function Te(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},nn===null){if(ll===null)throw Error(C(308));nn=e,ll.dependencies={lanes:0,firstContext:e}}else nn=nn.next=e;return t}var It=null;function Pa(e){It===null?It=[e]:It.push(e)}function Ru(e,t,n,l){var s=t.interleaved;return s===null?(n.next=n,Pa(t)):(n.next=s.next,s.next=n),t.interleaved=n,lt(e,l)}function lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ct=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yt(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Y&2){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,lt(e,n)}return s=l.interleaved,s===null?(t.next=t,Pa(l)):(t.next=s.next,s.next=t),l.interleaved=t,lt(e,n)}function zr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ma(e,n)}}function Ii(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sl(e,t,n,l){var s=e.updateQueue;ct=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,i===null?a=c:i.next=c,i=u;var b=e.alternate;b!==null&&(b=b.updateQueue,o=b.lastBaseUpdate,o!==i&&(o===null?b.firstBaseUpdate=c:o.next=c,b.lastBaseUpdate=u))}if(a!==null){var f=s.baseState;i=0,b=c=u=null,o=a;do{var m=o.lane,g=o.eventTime;if((l&m)===m){b!==null&&(b=b.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,S=o;switch(m=t,g=n,S.tag){case 1:if(y=S.payload,typeof y=="function"){f=y.call(g,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,m=typeof y=="function"?y.call(g,f,m):y,m==null)break e;f=q({},f,m);break e;case 2:ct=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else g={eventTime:g,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},b===null?(c=b=g,u=f):b=b.next=g,i|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(b===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=b,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Yt|=i,e.lanes=i,e.memoizedState=f}}function Ti(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],s=l.callback;if(s!==null){if(l.callback=null,l=n,typeof s!="function")throw Error(C(191,s));s.call(l)}}}var dr={},Qe=Et(dr),tr=Et(dr),nr=Et(dr);function Tt(e){if(e===dr)throw Error(C(174));return e}function La(e,t){switch(G(nr,t),G(tr,e),G(Qe,dr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gs(t,e)}B(Qe),G(Qe,t)}function hn(){B(Qe),B(tr),B(nr)}function _u(e){Tt(nr.current);var t=Tt(Qe.current),n=gs(t,e.type);t!==n&&(G(tr,e),G(Qe,n))}function _a(e){tr.current===e&&(B(Qe),B(tr))}var J=Et(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zl=[];function Ma(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var Fr=at.ReactCurrentDispatcher,ql=at.ReactCurrentBatchConfig,Ut=0,Z=null,le=null,ae=null,il=!1,Un=!1,rr=0,w0=0;function de(){throw Error(C(321))}function Da(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ge(e[n],t[n]))return!1;return!0}function Ia(e,t,n,l,s,a){if(Ut=a,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fr.current=e===null||e.memoizedState===null?C0:P0,e=n(l,s),Un){a=0;do{if(Un=!1,rr=0,25<=a)throw Error(C(301));a+=1,ae=le=null,t.updateQueue=null,Fr.current=R0,e=n(l,s)}while(Un)}if(Fr.current=ol,t=le!==null&&le.next!==null,Ut=0,ae=le=Z=null,il=!1,t)throw Error(C(300));return e}function Ta(){var e=rr!==0;return rr=0,e}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?Z.memoizedState=ae=e:ae=ae.next=e,ae}function Ae(){if(le===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ae===null?Z.memoizedState:ae.next;if(t!==null)ae=t,le=e;else{if(e===null)throw Error(C(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ae===null?Z.memoizedState=ae=e:ae=ae.next=e}return ae}function lr(e,t){return typeof t=="function"?t(e):t}function es(e){var t=Ae(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var l=le,s=l.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}l.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,l=l.baseState;var o=i=null,u=null,c=a;do{var b=c.lane;if((Ut&b)===b)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),l=c.hasEagerState?c.eagerState:e(l,c.action);else{var f={lane:b,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,i=l):u=u.next=f,Z.lanes|=b,Yt|=b}c=c.next}while(c!==null&&c!==a);u===null?i=l:u.next=o,Ge(l,t.memoizedState)||(je=!0),t.memoizedState=l,t.baseState=i,t.baseQueue=u,n.lastRenderedState=l}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Z.lanes|=a,Yt|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ts(e){var t=Ae(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var l=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Ge(a,t.memoizedState)||(je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function Mu(){}function Du(e,t){var n=Z,l=Ae(),s=t(),a=!Ge(l.memoizedState,s);if(a&&(l.memoizedState=s,je=!0),l=l.queue,Aa(Au.bind(null,n,l,e),[e]),l.getSnapshot!==t||a||ae!==null&&ae.memoizedState.tag&1){if(n.flags|=2048,sr(9,Tu.bind(null,n,l,s,t),void 0,null),ie===null)throw Error(C(349));Ut&30||Iu(n,t,s)}return s}function Iu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tu(e,t,n,l){t.value=n,t.getSnapshot=l,zu(t)&&Fu(e)}function Au(e,t,n){return n(function(){zu(t)&&Fu(e)})}function zu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ge(e,n)}catch{return!0}}function Fu(e){var t=lt(e,1);t!==null&&He(t,e,1,-1)}function Ai(e){var t=Be();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:e},t.queue=e,e=e.dispatch=E0.bind(null,Z,e),[t.memoizedState,e]}function sr(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function $u(){return Ae().memoizedState}function $r(e,t,n,l){var s=Be();Z.flags|=e,s.memoizedState=sr(1|t,n,void 0,l===void 0?null:l)}function wl(e,t,n,l){var s=Ae();l=l===void 0?null:l;var a=void 0;if(le!==null){var i=le.memoizedState;if(a=i.destroy,l!==null&&Da(l,i.deps)){s.memoizedState=sr(t,n,a,l);return}}Z.flags|=e,s.memoizedState=sr(1|t,n,a,l)}function zi(e,t){return $r(8390656,8,e,t)}function Aa(e,t){return wl(2048,8,e,t)}function Uu(e,t){return wl(4,2,e,t)}function Yu(e,t){return wl(4,4,e,t)}function Vu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ou(e,t,n){return n=n!=null?n.concat([e]):null,wl(4,4,Vu.bind(null,t,e),n)}function za(){}function Hu(e,t){var n=Ae();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Da(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Gu(e,t){var n=Ae();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Da(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function Wu(e,t,n){return Ut&21?(Ge(n,t)||(n=Jo(),Z.lanes|=n,Yt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function S0(e,t){var n=H;H=n!==0&&4>n?n:4,e(!0);var l=ql.transition;ql.transition={};try{e(!1),t()}finally{H=n,ql.transition=l}}function Bu(){return Ae().memoizedState}function k0(e,t,n){var l=bt(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},Ku(e))Xu(t,n);else if(n=Ru(e,t,n,l),n!==null){var s=he();He(n,e,l,s),Qu(n,t,l)}}function E0(e,t,n){var l=bt(e),s={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Xu(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,Ge(o,i)){var u=t.interleaved;u===null?(s.next=s,Pa(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Ru(e,t,s,l),n!==null&&(s=he(),He(n,e,l,s),Qu(n,t,l))}}function Ku(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function Xu(e,t){Un=il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qu(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ma(e,n)}}var ol={readContext:Te,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},C0={readContext:Te,useCallback:function(e,t){return Be().memoizedState=[e,t===void 0?null:t],e},useContext:Te,useEffect:zi,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$r(4194308,4,Vu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $r(4194308,4,e,t)},useInsertionEffect:function(e,t){return $r(4,2,e,t)},useMemo:function(e,t){var n=Be();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=Be();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=k0.bind(null,Z,e),[l.memoizedState,e]},useRef:function(e){var t=Be();return e={current:e},t.memoizedState=e},useState:Ai,useDebugValue:za,useDeferredValue:function(e){return Be().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=S0.bind(null,e[1]),Be().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=Z,s=Be();if(K){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ie===null)throw Error(C(349));Ut&30||Iu(l,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,zi(Au.bind(null,l,a,e),[e]),l.flags|=2048,sr(9,Tu.bind(null,l,a,n,t),void 0,null),n},useId:function(){var e=Be(),t=ie.identifierPrefix;if(K){var n=et,l=qe;n=(l&~(1<<32-Oe(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=w0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},P0={readContext:Te,useCallback:Hu,useContext:Te,useEffect:Aa,useImperativeHandle:Ou,useInsertionEffect:Uu,useLayoutEffect:Yu,useMemo:Gu,useReducer:es,useRef:$u,useState:function(){return es(lr)},useDebugValue:za,useDeferredValue:function(e){var t=Ae();return Wu(t,le.memoizedState,e)},useTransition:function(){var e=es(lr)[0],t=Ae().memoizedState;return[e,t]},useMutableSource:Mu,useSyncExternalStore:Du,useId:Bu,unstable_isNewReconciler:!1},R0={readContext:Te,useCallback:Hu,useContext:Te,useEffect:Aa,useImperativeHandle:Ou,useInsertionEffect:Uu,useLayoutEffect:Yu,useMemo:Gu,useReducer:ts,useRef:$u,useState:function(){return ts(lr)},useDebugValue:za,useDeferredValue:function(e){var t=Ae();return le===null?t.memoizedState=e:Wu(t,le.memoizedState,e)},useTransition:function(){var e=ts(lr)[0],t=Ae().memoizedState;return[e,t]},useMutableSource:Mu,useSyncExternalStore:Du,useId:Bu,unstable_isNewReconciler:!1};function Fe(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fs(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sl={isMounted:function(e){return(e=e._reactInternals)?Ht(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=he(),s=bt(e),a=tt(l,s);a.payload=t,n!=null&&(a.callback=n),t=yt(e,a,s),t!==null&&(He(t,e,s,l),zr(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=he(),s=bt(e),a=tt(l,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=yt(e,a,s),t!==null&&(He(t,e,s,l),zr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=he(),l=bt(e),s=tt(n,l);s.tag=2,t!=null&&(s.callback=t),t=yt(e,s,l),t!==null&&(He(t,e,l,n),zr(t,e,l))}};function Fi(e,t,n,l,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,i):t.prototype&&t.prototype.isPureReactComponent?!Jn(n,l)||!Jn(s,a):!0}function Ju(e,t,n){var l=!1,s=St,a=t.contextType;return typeof a=="object"&&a!==null?a=Te(a):(s=Ne(t)?Ft:me.current,l=t.contextTypes,a=(l=l!=null)?pn(e,s):St),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sl,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function $i(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Sl.enqueueReplaceState(t,t.state,null)}function $s(e,t,n,l){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ra(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Te(a):(a=Ne(t)?Ft:me.current,s.context=pn(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fs(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sl.enqueueReplaceState(s,s.state,null),sl(e,n,s,l),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function gn(e,t){try{var n="",l=t;do n+=rd(l),l=l.return;while(l);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function ns(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Us(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var L0=typeof WeakMap=="function"?WeakMap:Map;function Zu(e,t,n){n=tt(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){cl||(cl=!0,Qs=l),Us(e,t)},n}function qu(e,t,n){n=tt(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var s=t.value;n.payload=function(){return l(s)},n.callback=function(){Us(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Us(e,t),typeof l!="function"&&(jt===null?jt=new Set([this]):jt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ui(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new L0;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(n)||(s.add(n),e=H0.bind(null,e,t,n),t.then(e,e))}function Yi(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vi(e,t,n,l,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=tt(-1,1),t.tag=2,yt(n,t,1))),n.lanes|=1),e)}var _0=at.ReactCurrentOwner,je=!1;function xe(e,t,n,l){t.child=e===null?Pu(t,null,n,l):xn(t,e.child,n,l)}function Oi(e,t,n,l,s){n=n.render;var a=t.ref;return cn(t,s),l=Ia(e,t,n,l,a,s),n=Ta(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,st(e,t,s)):(K&&n&&Na(t),t.flags|=1,xe(e,t,l,s),t.child)}function Hi(e,t,n,l,s){if(e===null){var a=n.type;return typeof a=="function"&&!Ga(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ec(e,t,a,l,s)):(e=Or(n.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Jn,n(i,l)&&e.ref===t.ref)return st(e,t,s)}return t.flags|=1,e=Nt(a,l),e.ref=t.ref,e.return=t,t.child=e}function ec(e,t,n,l,s){if(e!==null){var a=e.memoizedProps;if(Jn(a,l)&&e.ref===t.ref)if(je=!1,t.pendingProps=l=a,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,st(e,t,s)}return Ys(e,t,n,l,s)}function tc(e,t,n){var l=t.pendingProps,s=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ln,Se),Se|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(ln,Se),Se|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:n,G(ln,Se),Se|=l}else a!==null?(l=a.baseLanes|n,t.memoizedState=null):l=n,G(ln,Se),Se|=l;return xe(e,t,s,n),t.child}function nc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ys(e,t,n,l,s){var a=Ne(n)?Ft:me.current;return a=pn(t,a),cn(t,s),n=Ia(e,t,n,l,a,s),l=Ta(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,st(e,t,s)):(K&&l&&Na(t),t.flags|=1,xe(e,t,n,s),t.child)}function Gi(e,t,n,l,s){if(Ne(n)){var a=!0;el(t)}else a=!1;if(cn(t,s),t.stateNode===null)Ur(e,t),Ju(t,n,l),$s(t,n,l,s),l=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Te(c):(c=Ne(n)?Ft:me.current,c=pn(t,c));var b=n.getDerivedStateFromProps,f=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==l||u!==c)&&$i(t,i,l,c),ct=!1;var m=t.memoizedState;i.state=m,sl(t,l,i,s),u=t.memoizedState,o!==l||m!==u||be.current||ct?(typeof b=="function"&&(Fs(t,n,b,l),u=t.memoizedState),(o=ct||Fi(t,n,o,l,m,u,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=u),i.props=l,i.state=u,i.context=c,l=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Lu(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Fe(t.type,o),i.props=c,f=t.pendingProps,m=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Te(u):(u=Ne(n)?Ft:me.current,u=pn(t,u));var g=n.getDerivedStateFromProps;(b=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||m!==u)&&$i(t,i,l,u),ct=!1,m=t.memoizedState,i.state=m,sl(t,l,i,s);var y=t.memoizedState;o!==f||m!==y||be.current||ct?(typeof g=="function"&&(Fs(t,n,g,l),y=t.memoizedState),(c=ct||Fi(t,n,c,l,m,y,u)||!1)?(b||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,y,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,y,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=y),i.props=l,i.state=y,i.context=u,l=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),l=!1)}return Vs(e,t,n,l,a,s)}function Vs(e,t,n,l,s,a){nc(e,t);var i=(t.flags&128)!==0;if(!l&&!i)return s&&Li(t,n,!1),st(e,t,a);l=t.stateNode,_0.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&i?(t.child=xn(t,e.child,null,a),t.child=xn(t,null,o,a)):xe(e,t,o,a),t.memoizedState=l.state,s&&Li(t,n,!0),t.child}function rc(e){var t=e.stateNode;t.pendingContext?Ri(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(e,t.context,!1),La(e,t.containerInfo)}function Wi(e,t,n,l,s){return mn(),Sa(s),t.flags|=256,xe(e,t,n,l),t.child}var Os={dehydrated:null,treeContext:null,retryLane:0};function Hs(e){return{baseLanes:e,cachePool:null,transitions:null}}function lc(e,t,n){var l=t.pendingProps,s=J.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(J,s&1),e===null)return As(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=l.children,e=l.fallback,a?(l=t.mode,a=t.child,i={mode:"hidden",children:i},!(l&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Cl(i,l,0,null),e=zt(e,l,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hs(n),t.memoizedState=Os,e):Fa(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return M0(e,t,i,l,o,s,n);if(a){a=l.fallback,i=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:l.children};return!(i&1)&&t.child!==s?(l=t.child,l.childLanes=0,l.pendingProps=u,t.deletions=null):(l=Nt(s,u),l.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=Nt(o,a):(a=zt(a,i,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,i=e.child.memoizedState,i=i===null?Hs(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Os,l}return a=e.child,e=a.sibling,l=Nt(a,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Fa(e,t){return t=Cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Er(e,t,n,l){return l!==null&&Sa(l),xn(t,e.child,null,n),e=Fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M0(e,t,n,l,s,a,i){if(n)return t.flags&256?(t.flags&=-257,l=ns(Error(C(422))),Er(e,t,i,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,s=t.mode,l=Cl({mode:"visible",children:l.children},s,0,null),a=zt(a,s,i,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,t.mode&1&&xn(t,e.child,null,i),t.child.memoizedState=Hs(i),t.memoizedState=Os,a);if(!(t.mode&1))return Er(e,t,i,null);if(s.data==="$!"){if(l=s.nextSibling&&s.nextSibling.dataset,l)var o=l.dgst;return l=o,a=Error(C(419)),l=ns(a,l,void 0),Er(e,t,i,l)}if(o=(i&e.childLanes)!==0,je||o){if(l=ie,l!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(l.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,lt(e,s),He(l,e,s,-1))}return Ha(),l=ns(Error(C(421))),Er(e,t,i,l)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=G0.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ke=vt(s.nextSibling),Ee=t,K=!0,Ue=null,e!==null&&(Le[_e++]=qe,Le[_e++]=et,Le[_e++]=$t,qe=e.id,et=e.overflow,$t=t),t=Fa(t,l.children),t.flags|=4096,t)}function Bi(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),zs(e.return,t,n)}function rs(e,t,n,l,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=n,a.tailMode=s)}function sc(e,t,n){var l=t.pendingProps,s=l.revealOrder,a=l.tail;if(xe(e,t,l.children,n),l=J.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bi(e,n,t);else if(e.tag===19)Bi(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(G(J,l),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&al(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),rs(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&al(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}rs(t,!0,n,null,a);break;case"together":rs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ur(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function st(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Nt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function D0(e,t,n){switch(t.tag){case 3:rc(t),mn();break;case 5:_u(t);break;case 1:Ne(t.type)&&el(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,s=t.memoizedProps.value;G(rl,l._currentValue),l._currentValue=s;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(G(J,J.current&1),t.flags|=128,null):n&t.child.childLanes?lc(e,t,n):(G(J,J.current&1),e=st(e,t,n),e!==null?e.sibling:null);G(J,J.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return sc(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(J,J.current),l)break;return null;case 22:case 23:return t.lanes=0,tc(e,t,n)}return st(e,t,n)}var ac,Gs,ic,oc;ac=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gs=function(){};ic=function(e,t,n,l){var s=e.memoizedProps;if(s!==l){e=t.stateNode,Tt(Qe.current);var a=null;switch(n){case"input":s=ps(e,s),l=ps(e,l),a=[];break;case"select":s=q({},s,{value:void 0}),l=q({},l,{value:void 0}),a=[];break;case"textarea":s=hs(e,s),l=hs(e,l),a=[];break;default:typeof s.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Zr)}vs(n,l);var i;n=null;for(c in s)if(!l.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hn.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in l){var u=l[c];if(o=s!=null?s[c]:void 0,l.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&o[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&W("scroll",e),a||o===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};oc=function(e,t,n,l){n!==l&&(t.flags|=4)};function Rn(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags&14680064,l|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function I0(e,t,n){var l=t.pendingProps;switch(wa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Ne(t.type)&&qr(),fe(t),null;case 3:return l=t.stateNode,hn(),B(be),B(me),Ma(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Sr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ue!==null&&(qs(Ue),Ue=null))),Gs(e,t),fe(t),null;case 5:_a(t);var s=Tt(nr.current);if(n=t.type,e!==null&&t.stateNode!=null)ic(e,t,n,l,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(C(166));return fe(t),null}if(e=Tt(Qe.current),Sr(t)){l=t.stateNode,n=t.type;var a=t.memoizedProps;switch(l[Ke]=t,l[er]=a,e=(t.mode&1)!==0,n){case"dialog":W("cancel",l),W("close",l);break;case"iframe":case"object":case"embed":W("load",l);break;case"video":case"audio":for(s=0;s<In.length;s++)W(In[s],l);break;case"source":W("error",l);break;case"img":case"image":case"link":W("error",l),W("load",l);break;case"details":W("toggle",l);break;case"input":ni(l,a),W("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},W("invalid",l);break;case"textarea":li(l,a),W("invalid",l)}vs(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?l.textContent!==o&&(a.suppressHydrationWarning!==!0&&wr(l.textContent,o,e),s=["children",o]):typeof o=="number"&&l.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&wr(l.textContent,o,e),s=["children",""+o]):Hn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&W("scroll",l)}switch(n){case"input":xr(l),ri(l,a,!0);break;case"textarea":xr(l),si(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=Zr)}l=s,t.updateQueue=l,l!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ao(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=i.createElement(n,{is:l.is}):(e=i.createElement(n),n==="select"&&(i=e,l.multiple?i.multiple=!0:l.size&&(i.size=l.size))):e=i.createElementNS(e,n),e[Ke]=t,e[er]=l,ac(e,t,!1,!1),t.stateNode=e;e:{switch(i=ys(n,l),n){case"dialog":W("cancel",e),W("close",e),s=l;break;case"iframe":case"object":case"embed":W("load",e),s=l;break;case"video":case"audio":for(s=0;s<In.length;s++)W(In[s],e);s=l;break;case"source":W("error",e),s=l;break;case"img":case"image":case"link":W("error",e),W("load",e),s=l;break;case"details":W("toggle",e),s=l;break;case"input":ni(e,l),s=ps(e,l),W("invalid",e);break;case"option":s=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},s=q({},l,{value:void 0}),W("invalid",e);break;case"textarea":li(e,l),s=hs(e,l),W("invalid",e);break;default:s=l}vs(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?$o(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&zo(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Gn(e,u):typeof u=="number"&&Gn(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hn.hasOwnProperty(a)?u!=null&&a==="onScroll"&&W("scroll",e):u!=null&&oa(e,a,u,i))}switch(n){case"input":xr(e),ri(e,l,!1);break;case"textarea":xr(e),si(e);break;case"option":l.value!=null&&e.setAttribute("value",""+wt(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?sn(e,!!l.multiple,a,!1):l.defaultValue!=null&&sn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)oc(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(C(166));if(n=Tt(nr.current),Tt(Qe.current),Sr(t)){if(l=t.stateNode,n=t.memoizedProps,l[Ke]=t,(a=l.nodeValue!==n)&&(e=Ee,e!==null))switch(e.tag){case 3:wr(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wr(l.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[Ke]=t,t.stateNode=l}return fe(t),null;case 13:if(B(J),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(K&&ke!==null&&t.mode&1&&!(t.flags&128))Eu(),mn(),t.flags|=98560,a=!1;else if(a=Sr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(C(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(C(317));a[Ke]=t}else mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),a=!1}else Ue!==null&&(qs(Ue),Ue=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||J.current&1?se===0&&(se=3):Ha())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return hn(),Gs(e,t),e===null&&Zn(t.stateNode.containerInfo),fe(t),null;case 10:return Ca(t.type._context),fe(t),null;case 17:return Ne(t.type)&&qr(),fe(t),null;case 19:if(B(J),a=t.memoizedState,a===null)return fe(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)Rn(a,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=al(e),i!==null){for(t.flags|=128,Rn(a,!1),l=i.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)a=n,e=l,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(J,J.current&1|2),t.child}e=e.sibling}a.tail!==null&&te()>vn&&(t.flags|=128,l=!0,Rn(a,!1),t.lanes=4194304)}else{if(!l)if(e=al(i),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!K)return fe(t),null}else 2*te()-a.renderingStartTime>vn&&n!==1073741824&&(t.flags|=128,l=!0,Rn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,n=J.current,G(J,l?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return Oa(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Se&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function T0(e,t){switch(wa(t),t.tag){case 1:return Ne(t.type)&&qr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),B(be),B(me),Ma(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _a(t),null;case 13:if(B(J),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(J),null;case 4:return hn(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return Oa(),null;case 24:return null;default:return null}}var Cr=!1,pe=!1,A0=typeof WeakSet=="function"?WeakSet:Set,M=null;function rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){ee(e,t,l)}else n.current=null}function Ws(e,t,n){try{n()}catch(l){ee(e,t,l)}}var Ki=!1;function z0(e,t){if(Rs=Xr,e=pu(),ba(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var s=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,u=-1,c=0,b=0,f=e,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(o=i+s),f!==a||l!==0&&f.nodeType!==3||(u=i+l),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++c===s&&(o=i),m===a&&++b===l&&(u=i),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ls={focusedElem:e,selectionRange:n},Xr=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,h=y.memoizedState,d=t.stateNode,p=d.getSnapshotBeforeUpdate(t.elementType===t.type?S:Fe(t.type,S),h);d.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(N){ee(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return y=Ki,Ki=!1,y}function Yn(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var s=l=l.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Ws(t,n,a)}s=s.next}while(s!==l)}}function kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Bs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uc(e){var t=e.alternate;t!==null&&(e.alternate=null,uc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ke],delete t[er],delete t[Ds],delete t[y0],delete t[j0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cc(e){return e.tag===5||e.tag===3||e.tag===4}function Xi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ks(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zr));else if(l!==4&&(e=e.child,e!==null))for(Ks(e,t,n),e=e.sibling;e!==null;)Ks(e,t,n),e=e.sibling}function Xs(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Xs(e,t,n),e=e.sibling;e!==null;)Xs(e,t,n),e=e.sibling}var oe=null,$e=!1;function it(e,t,n){for(n=n.child;n!==null;)dc(e,t,n),n=n.sibling}function dc(e,t,n){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(gl,n)}catch{}switch(n.tag){case 5:pe||rn(n,t);case 6:var l=oe,s=$e;oe=null,it(e,t,n),oe=l,$e=s,oe!==null&&($e?(e=oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&($e?(e=oe,n=n.stateNode,e.nodeType===8?Ql(e.parentNode,n):e.nodeType===1&&Ql(e,n),Xn(e)):Ql(oe,n.stateNode));break;case 4:l=oe,s=$e,oe=n.stateNode.containerInfo,$e=!0,it(e,t,n),oe=l,$e=s;break;case 0:case 11:case 14:case 15:if(!pe&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){s=l=l.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Ws(n,t,i),s=s.next}while(s!==l)}it(e,t,n);break;case 1:if(!pe&&(rn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(o){ee(n,t,o)}it(e,t,n);break;case 21:it(e,t,n);break;case 22:n.mode&1?(pe=(l=pe)||n.memoizedState!==null,it(e,t,n),pe=l):it(e,t,n);break;default:it(e,t,n)}}function Qi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new A0),t.forEach(function(l){var s=W0.bind(null,e,l);n.has(l)||(n.add(l),l.then(s,s))})}}function ze(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:oe=o.stateNode,$e=!1;break e;case 3:oe=o.stateNode.containerInfo,$e=!0;break e;case 4:oe=o.stateNode.containerInfo,$e=!0;break e}o=o.return}if(oe===null)throw Error(C(160));dc(a,i,s),oe=null,$e=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ee(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fc(t,e),t=t.sibling}function fc(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ze(t,e),We(e),l&4){try{Yn(3,e,e.return),kl(3,e)}catch(S){ee(e,e.return,S)}try{Yn(5,e,e.return)}catch(S){ee(e,e.return,S)}}break;case 1:ze(t,e),We(e),l&512&&n!==null&&rn(n,n.return);break;case 5:if(ze(t,e),We(e),l&512&&n!==null&&rn(n,n.return),e.flags&32){var s=e.stateNode;try{Gn(s,"")}catch(S){ee(e,e.return,S)}}if(l&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Io(s,a),ys(o,i);var c=ys(o,a);for(i=0;i<u.length;i+=2){var b=u[i],f=u[i+1];b==="style"?$o(s,f):b==="dangerouslySetInnerHTML"?zo(s,f):b==="children"?Gn(s,f):oa(s,b,f,c)}switch(o){case"input":ms(s,a);break;case"textarea":To(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?sn(s,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?sn(s,!!a.multiple,a.defaultValue,!0):sn(s,!!a.multiple,a.multiple?[]:"",!1))}s[er]=a}catch(S){ee(e,e.return,S)}}break;case 6:if(ze(t,e),We(e),l&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(S){ee(e,e.return,S)}}break;case 3:if(ze(t,e),We(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Xn(t.containerInfo)}catch(S){ee(e,e.return,S)}break;case 4:ze(t,e),We(e);break;case 13:ze(t,e),We(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ya=te())),l&4&&Qi(e);break;case 22:if(b=n!==null&&n.memoizedState!==null,e.mode&1?(pe=(c=pe)||b,ze(t,e),pe=c):ze(t,e),We(e),l&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!b&&e.mode&1)for(M=e,b=e.child;b!==null;){for(f=M=b;M!==null;){switch(m=M,g=m.child,m.tag){case 0:case 11:case 14:case 15:Yn(4,m,m.return);break;case 1:rn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){l=m,n=m.return;try{t=l,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(S){ee(l,n,S)}}break;case 5:rn(m,m.return);break;case 22:if(m.memoizedState!==null){Zi(f);continue}}g!==null?(g.return=m,M=g):Zi(f)}b=b.sibling}e:for(b=null,f=e;;){if(f.tag===5){if(b===null){b=f;try{s=f.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,u=f.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Fo("display",i))}catch(S){ee(e,e.return,S)}}}else if(f.tag===6){if(b===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){ee(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;b===f&&(b=null),f=f.return}b===f&&(b=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ze(t,e),We(e),l&4&&Qi(e);break;case 21:break;default:ze(t,e),We(e)}}function We(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cc(n)){var l=n;break e}n=n.return}throw Error(C(160))}switch(l.tag){case 5:var s=l.stateNode;l.flags&32&&(Gn(s,""),l.flags&=-33);var a=Xi(e);Xs(e,a,s);break;case 3:case 4:var i=l.stateNode.containerInfo,o=Xi(e);Ks(e,o,i);break;default:throw Error(C(161))}}catch(u){ee(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function F0(e,t,n){M=e,pc(e)}function pc(e,t,n){for(var l=(e.mode&1)!==0;M!==null;){var s=M,a=s.child;if(s.tag===22&&l){var i=s.memoizedState!==null||Cr;if(!i){var o=s.alternate,u=o!==null&&o.memoizedState!==null||pe;o=Cr;var c=pe;if(Cr=i,(pe=u)&&!c)for(M=s;M!==null;)i=M,u=i.child,i.tag===22&&i.memoizedState!==null?qi(s):u!==null?(u.return=i,M=u):qi(s);for(;a!==null;)M=a,pc(a),a=a.sibling;M=s,Cr=o,pe=c}Ji(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,M=a):Ji(e)}}function Ji(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pe||kl(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!pe)if(n===null)l.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Fe(t.type,n.memoizedProps);l.componentDidUpdate(s,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ti(t,a,l);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ti(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var b=c.memoizedState;if(b!==null){var f=b.dehydrated;f!==null&&Xn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}pe||t.flags&512&&Bs(t)}catch(m){ee(t,t.return,m)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function Zi(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function qi(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kl(4,t)}catch(u){ee(t,n,u)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var s=t.return;try{l.componentDidMount()}catch(u){ee(t,s,u)}}var a=t.return;try{Bs(t)}catch(u){ee(t,a,u)}break;case 5:var i=t.return;try{Bs(t)}catch(u){ee(t,i,u)}}}catch(u){ee(t,t.return,u)}if(t===e){M=null;break}var o=t.sibling;if(o!==null){o.return=t.return,M=o;break}M=t.return}}var $0=Math.ceil,ul=at.ReactCurrentDispatcher,$a=at.ReactCurrentOwner,De=at.ReactCurrentBatchConfig,Y=0,ie=null,re=null,ue=0,Se=0,ln=Et(0),se=0,ar=null,Yt=0,El=0,Ua=0,Vn=null,ye=null,Ya=0,vn=1/0,Je=null,cl=!1,Qs=null,jt=null,Pr=!1,mt=null,dl=0,On=0,Js=null,Yr=-1,Vr=0;function he(){return Y&6?te():Yr!==-1?Yr:Yr=te()}function bt(e){return e.mode&1?Y&2&&ue!==0?ue&-ue:N0.transition!==null?(Vr===0&&(Vr=Jo()),Vr):(e=H,e!==0||(e=window.event,e=e===void 0?16:lu(e.type)),e):1}function He(e,t,n,l){if(50<On)throw On=0,Js=null,Error(C(185));or(e,n,l),(!(Y&2)||e!==ie)&&(e===ie&&(!(Y&2)&&(El|=n),se===4&&ft(e,ue)),we(e,l),n===1&&Y===0&&!(t.mode&1)&&(vn=te()+500,Nl&&Ct()))}function we(e,t){var n=e.callbackNode;Nd(e,t);var l=Kr(e,e===ie?ue:0);if(l===0)n!==null&&oi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&oi(n),t===1)e.tag===0?b0(eo.bind(null,e)):wu(eo.bind(null,e)),g0(function(){!(Y&6)&&Ct()}),n=null;else{switch(Zo(l)){case 1:n=pa;break;case 4:n=Xo;break;case 16:n=Br;break;case 536870912:n=Qo;break;default:n=Br}n=bc(n,mc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mc(e,t){if(Yr=-1,Vr=0,Y&6)throw Error(C(327));var n=e.callbackNode;if(dn()&&e.callbackNode!==n)return null;var l=Kr(e,e===ie?ue:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=fl(e,l);else{t=l;var s=Y;Y|=2;var a=hc();(ie!==e||ue!==t)&&(Je=null,vn=te()+500,At(e,t));do try{V0();break}catch(o){xc(e,o)}while(!0);Ea(),ul.current=a,Y=s,re!==null?t=0:(ie=null,ue=0,t=se)}if(t!==0){if(t===2&&(s=Ss(e),s!==0&&(l=s,t=Zs(e,s))),t===1)throw n=ar,At(e,0),ft(e,l),we(e,te()),n;if(t===6)ft(e,l);else{if(s=e.current.alternate,!(l&30)&&!U0(s)&&(t=fl(e,l),t===2&&(a=Ss(e),a!==0&&(l=a,t=Zs(e,a))),t===1))throw n=ar,At(e,0),ft(e,l),we(e,te()),n;switch(e.finishedWork=s,e.finishedLanes=l,t){case 0:case 1:throw Error(C(345));case 2:Mt(e,ye,Je);break;case 3:if(ft(e,l),(l&130023424)===l&&(t=Ya+500-te(),10<t)){if(Kr(e,0)!==0)break;if(s=e.suspendedLanes,(s&l)!==l){he(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ms(Mt.bind(null,e,ye,Je),t);break}Mt(e,ye,Je);break;case 4:if(ft(e,l),(l&4194240)===l)break;for(t=e.eventTimes,s=-1;0<l;){var i=31-Oe(l);a=1<<i,i=t[i],i>s&&(s=i),l&=~a}if(l=s,l=te()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*$0(l/1960))-l,10<l){e.timeoutHandle=Ms(Mt.bind(null,e,ye,Je),l);break}Mt(e,ye,Je);break;case 5:Mt(e,ye,Je);break;default:throw Error(C(329))}}}return we(e,te()),e.callbackNode===n?mc.bind(null,e):null}function Zs(e,t){var n=Vn;return e.current.memoizedState.isDehydrated&&(At(e,t).flags|=256),e=fl(e,t),e!==2&&(t=ye,ye=n,t!==null&&qs(t)),e}function qs(e){ye===null?ye=e:ye.push.apply(ye,e)}function U0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var s=n[l],a=s.getSnapshot;s=s.value;try{if(!Ge(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ft(e,t){for(t&=~Ua,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oe(t),l=1<<n;e[n]=-1,t&=~l}}function eo(e){if(Y&6)throw Error(C(327));dn();var t=Kr(e,0);if(!(t&1))return we(e,te()),null;var n=fl(e,t);if(e.tag!==0&&n===2){var l=Ss(e);l!==0&&(t=l,n=Zs(e,l))}if(n===1)throw n=ar,At(e,0),ft(e,t),we(e,te()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mt(e,ye,Je),we(e,te()),null}function Va(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(vn=te()+500,Nl&&Ct())}}function Vt(e){mt!==null&&mt.tag===0&&!(Y&6)&&dn();var t=Y;Y|=1;var n=De.transition,l=H;try{if(De.transition=null,H=1,e)return e()}finally{H=l,De.transition=n,Y=t,!(Y&6)&&Ct()}}function Oa(){Se=ln.current,B(ln)}function At(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,h0(n)),re!==null)for(n=re.return;n!==null;){var l=n;switch(wa(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&qr();break;case 3:hn(),B(be),B(me),Ma();break;case 5:_a(l);break;case 4:hn();break;case 13:B(J);break;case 19:B(J);break;case 10:Ca(l.type._context);break;case 22:case 23:Oa()}n=n.return}if(ie=e,re=e=Nt(e.current,null),ue=Se=t,se=0,ar=null,Ua=El=Yt=0,ye=Vn=null,It!==null){for(t=0;t<It.length;t++)if(n=It[t],l=n.interleaved,l!==null){n.interleaved=null;var s=l.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,l.next=i}n.pending=l}It=null}return e}function xc(e,t){do{var n=re;try{if(Ea(),Fr.current=ol,il){for(var l=Z.memoizedState;l!==null;){var s=l.queue;s!==null&&(s.pending=null),l=l.next}il=!1}if(Ut=0,ae=le=Z=null,Un=!1,rr=0,$a.current=null,n===null||n.return===null){se=1,ar=t,re=null;break}e:{var a=e,i=n.return,o=n,u=t;if(t=ue,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,b=o,f=b.tag;if(!(b.mode&1)&&(f===0||f===11||f===15)){var m=b.alternate;m?(b.updateQueue=m.updateQueue,b.memoizedState=m.memoizedState,b.lanes=m.lanes):(b.updateQueue=null,b.memoizedState=null)}var g=Yi(i);if(g!==null){g.flags&=-257,Vi(g,i,o,a,t),g.mode&1&&Ui(a,c,t),t=g,u=c;var y=t.updateQueue;if(y===null){var S=new Set;S.add(u),t.updateQueue=S}else y.add(u);break e}else{if(!(t&1)){Ui(a,c,t),Ha();break e}u=Error(C(426))}}else if(K&&o.mode&1){var h=Yi(i);if(h!==null){!(h.flags&65536)&&(h.flags|=256),Vi(h,i,o,a,t),Sa(gn(u,o));break e}}a=u=gn(u,o),se!==4&&(se=2),Vn===null?Vn=[a]:Vn.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var d=Zu(a,u,t);Ii(a,d);break e;case 1:o=u;var p=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(jt===null||!jt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=qu(a,o,t);Ii(a,N);break e}}a=a.return}while(a!==null)}vc(n)}catch(w){t=w,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function hc(){var e=ul.current;return ul.current=ol,e===null?ol:e}function Ha(){(se===0||se===3||se===2)&&(se=4),ie===null||!(Yt&268435455)&&!(El&268435455)||ft(ie,ue)}function fl(e,t){var n=Y;Y|=2;var l=hc();(ie!==e||ue!==t)&&(Je=null,At(e,t));do try{Y0();break}catch(s){xc(e,s)}while(!0);if(Ea(),Y=n,ul.current=l,re!==null)throw Error(C(261));return ie=null,ue=0,se}function Y0(){for(;re!==null;)gc(re)}function V0(){for(;re!==null&&!pd();)gc(re)}function gc(e){var t=jc(e.alternate,e,Se);e.memoizedProps=e.pendingProps,t===null?vc(e):re=t,$a.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=T0(n,t),n!==null){n.flags&=32767,re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{se=6,re=null;return}}else if(n=I0(n,t,Se),n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);se===0&&(se=5)}function Mt(e,t,n){var l=H,s=De.transition;try{De.transition=null,H=1,O0(e,t,n,l)}finally{De.transition=s,H=l}return null}function O0(e,t,n,l){do dn();while(mt!==null);if(Y&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(wd(e,a),e===ie&&(re=ie=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pr||(Pr=!0,bc(Br,function(){return dn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=De.transition,De.transition=null;var i=H;H=1;var o=Y;Y|=4,$a.current=null,z0(e,n),fc(n,e),u0(Ls),Xr=!!Rs,Ls=Rs=null,e.current=n,F0(n),md(),Y=o,H=i,De.transition=a}else e.current=n;if(Pr&&(Pr=!1,mt=e,dl=s),a=e.pendingLanes,a===0&&(jt=null),gd(n.stateNode),we(e,te()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],l(s.value,{componentStack:s.stack,digest:s.digest});if(cl)throw cl=!1,e=Qs,Qs=null,e;return dl&1&&e.tag!==0&&dn(),a=e.pendingLanes,a&1?e===Js?On++:(On=0,Js=e):On=0,Ct(),null}function dn(){if(mt!==null){var e=Zo(dl),t=De.transition,n=H;try{if(De.transition=null,H=16>e?16:e,mt===null)var l=!1;else{if(e=mt,mt=null,dl=0,Y&6)throw Error(C(331));var s=Y;for(Y|=4,M=e.current;M!==null;){var a=M,i=a.child;if(M.flags&16){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(M=c;M!==null;){var b=M;switch(b.tag){case 0:case 11:case 15:Yn(8,b,a)}var f=b.child;if(f!==null)f.return=b,M=f;else for(;M!==null;){b=M;var m=b.sibling,g=b.return;if(uc(b),b===c){M=null;break}if(m!==null){m.return=g,M=m;break}M=g}}}var y=a.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var h=S.sibling;S.sibling=null,S=h}while(S!==null)}}M=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,M=i;else e:for(;M!==null;){if(a=M,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yn(9,a,a.return)}var d=a.sibling;if(d!==null){d.return=a.return,M=d;break e}M=a.return}}var p=e.current;for(M=p;M!==null;){i=M;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,M=x;else e:for(i=p;M!==null;){if(o=M,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:kl(9,o)}}catch(w){ee(o,o.return,w)}if(o===i){M=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,M=N;break e}M=o.return}}if(Y=s,Ct(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(gl,e)}catch{}l=!0}return l}finally{H=n,De.transition=t}}return!1}function to(e,t,n){t=gn(n,t),t=Zu(e,t,1),e=yt(e,t,1),t=he(),e!==null&&(or(e,1,t),we(e,t))}function ee(e,t,n){if(e.tag===3)to(e,e,n);else for(;t!==null;){if(t.tag===3){to(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jt===null||!jt.has(l))){e=gn(n,e),e=qu(t,e,1),t=yt(t,e,1),e=he(),t!==null&&(or(t,1,e),we(t,e));break}}t=t.return}}function H0(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=he(),e.pingedLanes|=e.suspendedLanes&n,ie===e&&(ue&n)===n&&(se===4||se===3&&(ue&130023424)===ue&&500>te()-Ya?At(e,0):Ua|=n),we(e,t)}function yc(e,t){t===0&&(e.mode&1?(t=vr,vr<<=1,!(vr&130023424)&&(vr=4194304)):t=1);var n=he();e=lt(e,t),e!==null&&(or(e,t,n),we(e,n))}function G0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yc(e,n)}function W0(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(C(314))}l!==null&&l.delete(t),yc(e,n)}var jc;jc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||be.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,D0(e,t,n);je=!!(e.flags&131072)}else je=!1,K&&t.flags&1048576&&Su(t,nl,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Ur(e,t),e=t.pendingProps;var s=pn(t,me.current);cn(t,n),s=Ia(null,t,l,e,s,n);var a=Ta();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ne(l)?(a=!0,el(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ra(t),s.updater=Sl,t.stateNode=s,s._reactInternals=t,$s(t,l,e,n),t=Vs(null,t,l,!0,a,n)):(t.tag=0,K&&a&&Na(t),xe(null,t,s,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Ur(e,t),e=t.pendingProps,s=l._init,l=s(l._payload),t.type=l,s=t.tag=K0(l),e=Fe(l,e),s){case 0:t=Ys(null,t,l,e,n);break e;case 1:t=Gi(null,t,l,e,n);break e;case 11:t=Oi(null,t,l,e,n);break e;case 14:t=Hi(null,t,l,Fe(l.type,e),n);break e}throw Error(C(306,l,""))}return t;case 0:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Fe(l,s),Ys(e,t,l,s,n);case 1:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Fe(l,s),Gi(e,t,l,s,n);case 3:e:{if(rc(t),e===null)throw Error(C(387));l=t.pendingProps,a=t.memoizedState,s=a.element,Lu(e,t),sl(t,l,null,n);var i=t.memoizedState;if(l=i.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=gn(Error(C(423)),t),t=Wi(e,t,l,n,s);break e}else if(l!==s){s=gn(Error(C(424)),t),t=Wi(e,t,l,n,s);break e}else for(ke=vt(t.stateNode.containerInfo.firstChild),Ee=t,K=!0,Ue=null,n=Pu(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mn(),l===s){t=st(e,t,n);break e}xe(e,t,l,n)}t=t.child}return t;case 5:return _u(t),e===null&&As(t),l=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,_s(l,s)?i=null:a!==null&&_s(l,a)&&(t.flags|=32),nc(e,t),xe(e,t,i,n),t.child;case 6:return e===null&&As(t),null;case 13:return lc(e,t,n);case 4:return La(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=xn(t,null,l,n):xe(e,t,l,n),t.child;case 11:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Fe(l,s),Oi(e,t,l,s,n);case 7:return xe(e,t,t.pendingProps,n),t.child;case 8:return xe(e,t,t.pendingProps.children,n),t.child;case 12:return xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,G(rl,l._currentValue),l._currentValue=i,a!==null)if(Ge(a.value,i)){if(a.children===s.children&&!be.current){t=st(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var u=o.firstContext;u!==null;){if(u.context===l){if(a.tag===1){u=tt(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var b=c.pending;b===null?u.next=u:(u.next=b.next,b.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),zs(a.return,n,t),o.lanes|=n;break}u=u.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(C(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),zs(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,l=t.pendingProps.children,cn(t,n),s=Te(s),l=l(s),t.flags|=1,xe(e,t,l,n),t.child;case 14:return l=t.type,s=Fe(l,t.pendingProps),s=Fe(l.type,s),Hi(e,t,l,s,n);case 15:return ec(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Fe(l,s),Ur(e,t),t.tag=1,Ne(l)?(e=!0,el(t)):e=!1,cn(t,n),Ju(t,l,s),$s(t,l,s,n),Vs(null,t,l,!0,e,n);case 19:return sc(e,t,n);case 22:return tc(e,t,n)}throw Error(C(156,t.tag))};function bc(e,t){return Ko(e,t)}function B0(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(e,t,n,l){return new B0(e,t,n,l)}function Ga(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K0(e){if(typeof e=="function")return Ga(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ca)return 11;if(e===da)return 14}return 2}function Nt(e,t){var n=e.alternate;return n===null?(n=Me(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Or(e,t,n,l,s,a){var i=2;if(l=e,typeof e=="function")Ga(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Kt:return zt(n.children,s,a,t);case ua:i=8,s|=8;break;case us:return e=Me(12,n,t,s|2),e.elementType=us,e.lanes=a,e;case cs:return e=Me(13,n,t,s),e.elementType=cs,e.lanes=a,e;case ds:return e=Me(19,n,t,s),e.elementType=ds,e.lanes=a,e;case _o:return Cl(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ro:i=10;break e;case Lo:i=9;break e;case ca:i=11;break e;case da:i=14;break e;case ut:i=16,l=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Me(i,n,t,s),t.elementType=e,t.type=l,t.lanes=a,t}function zt(e,t,n,l){return e=Me(7,e,l,t),e.lanes=n,e}function Cl(e,t,n,l){return e=Me(22,e,l,t),e.elementType=_o,e.lanes=n,e.stateNode={isHidden:!1},e}function ls(e,t,n){return e=Me(6,e,null,t),e.lanes=n,e}function ss(e,t,n){return t=Me(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function X0(e,t,n,l,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=l,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wa(e,t,n,l,s,a,i,o,u){return e=new X0(e,t,n,o,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Me(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Q0(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bt,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function Nc(e){if(!e)return St;e=e._reactInternals;e:{if(Ht(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ne(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Ne(n))return Nu(e,n,t)}return t}function wc(e,t,n,l,s,a,i,o,u){return e=Wa(n,l,!0,e,s,a,i,o,u),e.context=Nc(null),n=e.current,l=he(),s=bt(n),a=tt(l,s),a.callback=t??null,yt(n,a,s),e.current.lanes=s,or(e,s,l),we(e,l),e}function Pl(e,t,n,l){var s=t.current,a=he(),i=bt(s);return n=Nc(n),t.context===null?t.context=n:t.pendingContext=n,t=tt(a,i),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=yt(s,t,i),e!==null&&(He(e,s,i,a),zr(e,s,i)),i}function pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function no(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ba(e,t){no(e,t),(e=e.alternate)&&no(e,t)}function J0(){return null}var Sc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ka(e){this._internalRoot=e}Rl.prototype.render=Ka.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Pl(e,t,null,null)};Rl.prototype.unmount=Ka.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vt(function(){Pl(null,e,null,null)}),t[rt]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=tu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dt.length&&t!==0&&t<dt[n].priority;n++);dt.splice(n,0,e),n===0&&ru(e)}};function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ro(){}function Z0(e,t,n,l,s){if(s){if(typeof l=="function"){var a=l;l=function(){var c=pl(i);a.call(c)}}var i=wc(t,l,e,0,null,!1,!1,"",ro);return e._reactRootContainer=i,e[rt]=i.current,Zn(e.nodeType===8?e.parentNode:e),Vt(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof l=="function"){var o=l;l=function(){var c=pl(u);o.call(c)}}var u=Wa(e,0,!1,null,null,!1,!1,"",ro);return e._reactRootContainer=u,e[rt]=u.current,Zn(e.nodeType===8?e.parentNode:e),Vt(function(){Pl(t,u,n,l)}),u}function _l(e,t,n,l,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var u=pl(i);o.call(u)}}Pl(t,i,e,s)}else i=Z0(n,t,e,s,l);return pl(i)}qo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dn(t.pendingLanes);n!==0&&(ma(t,n|1),we(t,te()),!(Y&6)&&(vn=te()+500,Ct()))}break;case 13:Vt(function(){var l=lt(e,1);if(l!==null){var s=he();He(l,e,1,s)}}),Ba(e,1)}};xa=function(e){if(e.tag===13){var t=lt(e,134217728);if(t!==null){var n=he();He(t,e,134217728,n)}Ba(e,134217728)}};eu=function(e){if(e.tag===13){var t=bt(e),n=lt(e,t);if(n!==null){var l=he();He(n,e,t,l)}Ba(e,t)}};tu=function(){return H};nu=function(e,t){var n=H;try{return H=e,t()}finally{H=n}};bs=function(e,t,n){switch(t){case"input":if(ms(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var s=bl(l);if(!s)throw Error(C(90));Do(l),ms(l,s)}}}break;case"textarea":To(e,n);break;case"select":t=n.value,t!=null&&sn(e,!!n.multiple,t,!1)}};Vo=Va;Oo=Vt;var q0={usingClientEntryPoint:!1,Events:[cr,Zt,bl,Uo,Yo,Va]},Ln={findFiberByHostInstance:Dt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ef={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:at.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wo(e),e===null?null:e.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||J0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rr.isDisabled&&Rr.supportsFiber)try{gl=Rr.inject(ef),Xe=Rr}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q0;Pe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xa(t))throw Error(C(200));return Q0(e,t,null,n)};Pe.createRoot=function(e,t){if(!Xa(e))throw Error(C(299));var n=!1,l="",s=Sc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wa(e,1,!1,null,null,n,!1,l,s),e[rt]=t.current,Zn(e.nodeType===8?e.parentNode:e),new Ka(t)};Pe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Wo(t),e=e===null?null:e.stateNode,e};Pe.flushSync=function(e){return Vt(e)};Pe.hydrate=function(e,t,n){if(!Ll(t))throw Error(C(200));return _l(null,e,t,!0,n)};Pe.hydrateRoot=function(e,t,n){if(!Xa(e))throw Error(C(405));var l=n!=null&&n.hydratedSources||null,s=!1,a="",i=Sc;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=wc(t,null,e,1,n??null,s,!1,a,i),e[rt]=t.current,Zn(e),l)for(e=0;e<l.length;e++)n=l[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Rl(t)};Pe.render=function(e,t,n){if(!Ll(t))throw Error(C(200));return _l(null,e,t,!1,n)};Pe.unmountComponentAtNode=function(e){if(!Ll(e))throw Error(C(40));return e._reactRootContainer?(Vt(function(){_l(null,null,e,!1,function(){e._reactRootContainer=null,e[rt]=null})}),!0):!1};Pe.unstable_batchedUpdates=Va;Pe.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!Ll(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return _l(e,t,n,!1,l)};Pe.version="18.3.1-next-f1338f8080-20240426";function kc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kc)}catch(e){console.error(e)}}kc(),ko.exports=Pe;var tf=ko.exports,lo=tf;is.createRoot=lo.createRoot,is.hydrateRoot=lo.hydrateRoot;const ea={ADMIN:{id:"ADMIN",name:"Administrator",canEdit:!0,manageUsers:!0,restrictedTabs:[]},RESEARCHER:{id:"RESEARCHER",name:"Researcher",canEdit:!0,manageUsers:!1,restrictedTabs:[]},GUEST:{id:"GUEST",name:"Guest Viewer",canEdit:!1,manageUsers:!1,restrictedTabs:["specification","analysis","thermal","cost","impurity","regression"]}},Lr={DEV:{id:"DEV",name:"Development",color:"text-amber-600 border-amber-200 bg-amber-50"},PRE_MASS:{id:"PRE_MASS",name:"Pre-Mass",color:"text-blue-600 border-blue-200 bg-blue-50"},MASS:{id:"MASS",name:"Mass Production",color:"text-emerald-600 border-emerald-200 bg-emerald-50"}},Ml=["Fe","Na","K","Ca","Cr","Ni","Mg","Cu"],so=["SONG-DAEH-OITC-HEM1","MANA-RECO-PRIN-CE82","OLED-FORE-EVER-2026","OLED-2025-USER-0001","OLED-2025-USER-0002","OLED-2025-USER-0003","OLED-2025-USER-0004","OLED-2025-USER-0005","OLED-2025-USER-0006","OLED-2025-USER-0007","OLED-2025-USER-0008","OLED-2025-USER-0009","OLED-2025-USER-0010","OLED-2025-USER-0011","OLED-2025-USER-0012","OLED-2025-USER-0013","OLED-2025-USER-0014","OLED-2025-USER-0015","OLED-2025-USER-0016","OLED-2025-USER-0017","OLED-2025-USER-0018","OLED-2025-USER-0019","OLED-2025-USER-0020","SAMS-UNGD-ISPL-2025","LGDI-SPLA-YCOR-2025","BOET-ECHG-ROUP-2025","CSOT-DISP-LAY0-2025","VISI-ONOX-OLED-2025","TIAN-MA00-OLED-2025","JOLE-D000-JAPA-2025","APPL-EINC-OLED-2025","UDC0-OLED-MATL-2025","DOW0-ELEC-MATL-2025","MERK-GRP0-MATL-2025","IDEM-ITSU-KOSA-2025","LGCH-EM00-MATL-2025","SAMS-UNG0-SDI0-2025","DUPO-NT00-OLED-2025","HODG-AYA0-CHEM-2025","JNC0-CORP-OLED-2025","CYNA-GORA-MATL-2025","KYUL-UX00-OLED-2025","UNIV-LABS-TEST-2025","RENW-2026-KEY0-0001","RENW-2026-KEY0-0002","RENW-2026-KEY0-0003","RENW-2026-KEY0-0004","RENW-2026-KEY0-0005","RENW-2026-KEY0-0006","RENW-2026-KEY0-0007","RENW-2026-KEY0-0008","RENW-2026-KEY0-0009","RENW-2026-KEY0-0010","RENW-2026-KEY0-0011","RENW-2026-KEY0-0012","RENW-2026-KEY0-0013","RENW-2026-KEY0-0014","RENW-2026-KEY0-0015","RENW-2026-KEY0-0016","RENW-2026-KEY0-0017","RENW-2026-KEY0-0018","RENW-2026-KEY0-0019","RENW-2026-KEY0-0020","YEAR-2027-EXTD-0001","YEAR-2027-EXTD-0002","YEAR-2027-EXTD-0003","YEAR-2027-EXTD-0004","YEAR-2027-EXTD-0005","YEAR-2027-EXTD-0006","YEAR-2027-EXTD-0007","YEAR-2027-EXTD-0008","YEAR-2027-EXTD-0009","YEAR-2027-EXTD-0010","YEAR-2027-EXTD-0011","YEAR-2027-EXTD-0012","YEAR-2027-EXTD-0013","YEAR-2027-EXTD-0014","YEAR-2027-EXTD-0015","YEAR-2027-EXTD-0016","YEAR-2027-EXTD-0017","YEAR-2027-EXTD-0018","YEAR-2027-EXTD-0019","YEAR-2027-EXTD-0020","A1B2-C3D4-E5F6-G7H8","X9Y8-Z7W6-V5U4-T3S2","K1L2-M3N4-O5P6-Q7R8","H9J8-K7L6-M5N4-B3V2","Q1W2-E3R4-T5Y6-U7I8","P9O8-I7U6-Y5T4-R3E2","Z1X2-C3V4-B5N6-M7K8","L9K8-J7H6-G5F4-D3S2","M1N2-B3V4-C5X6-Z7A8","O9I8-U7Y6-T5R4-E3W2","F1G2-H3J4-K5L6-Z7X8","D9S8-A7P6-O5I4-U3Y2","T1R2-E3W4-Q5A6-S7D8","G9F8-D7S6-A5P4-O3I2","Y1U2-I3O4-P5L6-K7J8","H9G8-F7D6-S5A4-M3N2","B1V2-C3X4-Z5L6-K7J8","N9M8-K7J6-H5G4-F3D2","R1E2-W3Q4-A5S6-D7F8","V9C8-X7Z6-L5K4-J3H2"],ao="oled_matflow_data",as="oled_matflow_license",io="oled_users",oo="oled_global_inventory",nf=e=>{if(!e)return 9999;const t=new Date(e);if(isNaN(t.getTime()))return 9999;const l=Math.abs(new Date-t);return Math.ceil(l/(1e3*60*60*24))},Ye={users:{getAll:()=>{try{return JSON.parse(localStorage.getItem(io)||"[]")}catch{return[]}},saveAll:e=>localStorage.setItem(io,JSON.stringify(e))},inventory:{getGlobal:()=>{try{return JSON.parse(localStorage.getItem(oo)||"[]")}catch{return[]}},saveGlobal:e=>localStorage.setItem(oo,JSON.stringify(e))},materials:{getAll:async()=>{try{const e=localStorage.getItem(ao);return e?JSON.parse(e):[]}catch(e){return console.error("Data Parse Error",e),[]}},saveAll:async e=>(localStorage.setItem(ao,JSON.stringify(e)),!0)},license:{get:async()=>{const e=localStorage.getItem(as);if(!e)return{isValid:!1,isExpired:!1};try{const t=JSON.parse(e);if(!t||typeof t!="object"||!t.key)throw new Error("Invalid format");const{key:n,activationDate:l}=t;if(!so.includes(n))return{isValid:!1,isExpired:!1};const s=nf(l);return{isValid:!0,isExpired:s>365,daysLeft:365-s,activationDate:l}}catch{return localStorage.removeItem(as),{isValid:!1,isExpired:!1}}},activate:async e=>{if(so.includes(e)){const t={key:e,activationDate:new Date().toISOString()};return localStorage.setItem(as,JSON.stringify(t)),{success:!0}}return{success:!1}}}},rf={activity:r.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"}),"alert-triangle":r.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0zM12 9v4m0 4h.01"}),"bar-chart-2":r.jsx("path",{d:"M18 20V10M12 20V4M6 20v-6"}),box:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),r.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),r.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),check:r.jsx("polyline",{points:"20 6 9 17 4 12"}),"check-circle":r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"chevron-right":r.jsx("polyline",{points:"9 18 15 12 9 6"}),"chevron-down":r.jsx("polyline",{points:"6 9 12 15 18 9"}),clock:r.jsxs(r.Fragment,{children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),coins:r.jsxs(r.Fragment,{children:[r.jsx("circle",{cx:"8",cy:"8",r:"6"}),r.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}),r.jsx("path",{d:"M7 6h1v4"}),r.jsx("path",{d:"M17.12 12.23A6 6 0 0 1 5 13.5"})]}),copy:r.jsxs(r.Fragment,{children:[r.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),r.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),download:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.jsx("polyline",{points:"7 10 12 15 17 10"}),r.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),upload:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.jsx("polyline",{points:"17 8 12 3 7 8"}),r.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"file-text":r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),fingerprint:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 6"}),r.jsx("path",{d:"M5 15.88A7 7 0 0 1 5 8.12"}),r.jsx("path",{d:"M15 13a3 3 0 0 0-3-3 3 3 0 0 0-3 3"}),r.jsx("path",{d:"M17.5 19c1.65-.54 2.5-2.2 2.5-4a5 5 0 0 0-5-5 5 5 0 0 0-5 5c0 1.33.2 2.65.6 3.9"}),r.jsx("path",{d:"M12 18v3"}),r.jsx("path",{d:"M19.5 8c.83 1.25 1.5 2.6 1.5 4a7 7 0 0 1-7 7 7 7 0 0 1-7-7c0-2.1.88-4.05 2.5-5.5"})]}),flame:r.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.1.2-2.2.5-3.3.3-1.12.5-1.68 1-2.5 1 1.1 1.5 2.5 1.5 4.3z"}),"flask-conical":r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2"}),r.jsx("line",{x1:"8.5",y1:"2",x2:"15.5",y2:"2"}),r.jsx("line",{x1:"8.5",y1:"14",x2:"15.5",y2:"14"})]}),"git-branch":r.jsxs(r.Fragment,{children:[r.jsx("line",{x1:"6",y1:"3",x2:"6",y2:"15"}),r.jsx("circle",{cx:"18",cy:"6",r:"3"}),r.jsx("circle",{cx:"6",cy:"18",r:"3"}),r.jsx("path",{d:"M18 9a9 9 0 0 1-9 9"})]}),"git-merge":r.jsxs(r.Fragment,{children:[r.jsx("circle",{cx:"18",cy:"18",r:"3"}),r.jsx("circle",{cx:"6",cy:"6",r:"3"}),r.jsx("path",{d:"M6 21V9a9 9 0 0 0 9 9"})]}),grid:r.jsxs(r.Fragment,{children:[r.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),r.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),r.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),r.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),image:r.jsxs(r.Fragment,{children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),r.jsx("polyline",{points:"21 15 16 10 5 21"})]}),"image-plus":r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}),r.jsx("line",{x1:"16",y1:"5",x2:"22",y2:"5"}),r.jsx("line",{x1:"19",y1:"2",x2:"19",y2:"8"}),r.jsx("circle",{cx:"9",cy:"9",r:"2"}),r.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),layers:r.jsxs(r.Fragment,{children:[r.jsx("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),r.jsx("polyline",{points:"2 17 12 22 22 17"}),r.jsx("polyline",{points:"2 12 12 17 22 12"})]}),"maximize-2":r.jsxs(r.Fragment,{children:[r.jsx("polyline",{points:"15 3 21 3 21 9"}),r.jsx("polyline",{points:"9 21 3 21 3 15"}),r.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),r.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"minimize-2":r.jsxs(r.Fragment,{children:[r.jsx("polyline",{points:"4 14 10 14 10 20"}),r.jsx("polyline",{points:"20 10 14 10 14 4"}),r.jsx("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),r.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"minus-circle":r.jsxs(r.Fragment,{children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),package:r.jsxs(r.Fragment,{children:[r.jsx("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}),r.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),r.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),r.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),paperclip:r.jsx("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}),plus:r.jsxs(r.Fragment,{children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),save:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),r.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),r.jsx("polyline",{points:"7 3 7 8 15 8"})]}),table:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M9 3H5a2 2 0 0 0-2 2v4h6V3z"}),r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2v-4h6v6z"}),r.jsx("path",{d:"M21 21h-4v-6h6v4a2 2 0 0 1-2 2z"}),r.jsx("path",{d:"M21 9h-6V3h4a2 2 0 0 1 2 2v4z"}),r.jsx("rect",{x:"9",y:"3",width:"6",height:"18"})]}),thermometer:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"}),r.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"12"}),r.jsx("path",{d:"M12 12h0"})]}),"trash-2":r.jsxs(r.Fragment,{children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2-2v2"}),r.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),r.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),"trending-up":r.jsxs(r.Fragment,{children:[r.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),r.jsx("polyline",{points:"17 6 23 6 23 12"})]}),truck:r.jsxs(r.Fragment,{children:[r.jsx("rect",{x:"1",y:"3",width:"15",height:"13"}),r.jsx("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),r.jsx("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),r.jsx("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),user:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),users:r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),x:r.jsxs(r.Fragment,{children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),zap:r.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}),lock:r.jsxs(r.Fragment,{children:[r.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),r.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"log-out":r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),shield:r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),"scatter-chart":r.jsxs(r.Fragment,{children:[r.jsx("circle",{cx:"5",cy:"5",r:"2"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"}),r.jsx("circle",{cx:"19",cy:"19",r:"2"}),r.jsx("circle",{cx:"12",cy:"5",r:"2"}),r.jsx("circle",{cx:"19",cy:"12",r:"2"})]}),star:r.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})},D=z.memo(({name:e,size:t=16,className:n=""})=>{const l=rf[e]||r.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"gray"});return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:l})}),Ie=()=>Math.random().toString(36).substr(2,9),ml=e=>{var S,h;if(!e)return{synYield:0,subYield:0,unitCost:0,actualOutput:0,theoreticalOutput:0};const t=e.steps.reduce((d,p)=>d*(parseFloat(p.yield||0)/100),1),n=(t*100).toFixed(1),l=parseFloat(e.subYield1||0)/100,s=parseFloat(e.subYield2||0)/100,a=(l*s*100).toFixed(1),i=t*l*s,u=(((h=(S=e.steps[0])==null?void 0:S.materials[0])==null?void 0:h.mol)||0)*(e.targetMw||0),c=u*i,b=c.toFixed(1);let f=0;e.steps.forEach(d=>d.materials.forEach(p=>{f+=p.mol*p.mw/1e3*p.price}));const m=(e.processCostPerDay||0)*(e.processDays||0),g=f+m,y=c>0?(g/c).toFixed(0):0;return{synYield:n,subYield:a,unitCost:y,actualOutput:b,theoreticalOutput:u}},ot=e=>{let t=1,n=0;return e.map((l,s)=>{var i;s===0?(t=1,n=parseFloat((i=l.materials[0])==null?void 0:i.mol)||0):t*=(parseFloat(e[s-1].yield)||100)/100;const a=l.materials.map((o,u)=>s===0&&u===0?o:s>0&&u===0?{...o,eq:1,mol:n*t}:{...o,mol:n*t*(o.eq||0)});return{...l,materials:a}})},Ec=e=>{if(!e||!Array.isArray(e))return[];const t=[],n=.05;return e.forEach(l=>{if(!l||!l.hplcGrid||!Array.isArray(l.hplcGrid)||l.hplcGrid.length<4)return;const s=l.hplcGrid.findIndex(i=>i[0]&&String(i[0]).trim().toUpperCase()==="RRT"),a=l.hplcGrid.findIndex(i=>i[0]&&String(i[0]).includes("Content"));if(!(s===-1||a===-1))for(let i=1;i<l.hplcGrid[s].length;i++){const o=parseFloat(l.hplcGrid[s][i]),u=parseFloat(l.hplcGrid[a][i]);if(!isNaN(o)&&o>=0&&!isNaN(u)){let c=t.find(b=>Math.abs(b.rrt-o)<=n);c?c.contents[l.id]=u:t.push({rrt:o,contents:{[l.id]:u}})}}}),t.sort((l,s)=>l.rrt-s.rrt)},Cc=e=>{let t=e.metalResults||{};const n=["Parameter","Peak 1","Peak 2","Peak 3","Peak 4"],l=a=>[["RT",...Array(a).fill("")],["RRT",...Array(a).fill("")],["Content (%)",...Array(a).fill("")]],s=a=>Array.isArray(a)&&a.length>0?a:[n,...l(4)];return{id:e.id||Ie(),name:e.name||"New Lot",synDateStart:e.synDateStart||"",synDateEnd:e.synDateEnd||"",synYield:e.synYield||"",subYield:e.subYield||"",unitCost:e.unitCost||"",actualOutput:e.actualOutput||"",hplcSyn:e.hplcSyn||"",hplcSub:e.hplcSub||"",isMix:e.isMix||!1,mixCount:e.mixCount||2,comp1Label:e.comp1Label||"P",comp2Label:e.comp2Label||"N",comp3Label:e.comp3Label||"3rd",pRatio:e.pRatio||"",nRatio:e.nRatio||"",mixRatio3:e.mixRatio3||"",synYieldP:e.synYieldP||"",subYieldP:e.subYieldP||"",hplcSynP:e.hplcSynP||"",hplcSubP:e.hplcSubP||"",dRateP:e.dRateP||"",synYieldN:e.synYieldN||"",subYieldN:e.subYieldN||"",hplcSynN:e.hplcSynN||"",hplcSubN:e.hplcSubN||"",dRateN:e.dRateN||"",synYield3:e.synYield3||"",subYield3:e.subYield3||"",hplcSyn3:e.hplcSyn3||"",hplcSub3:e.hplcSub3||"",dRate3:e.dRate3||"",dRate:e.dRate||"",hplcMethodVersion:e.hplcMethodVersion||"",synHistory:e.synHistory||"",hplcGrid:s(e.hplcGrid),hplcGridP:s(e.hplcGridP),hplcGridN:s(e.hplcGridN),hplcGrid3:s(e.hplcGrid3),hplcSynFiles:Array.isArray(e.hplcSynFiles)?e.hplcSynFiles:[],hplcSubFiles:Array.isArray(e.hplcSubFiles)?e.hplcSubFiles:[],td1:e.td1||"",td5:e.td5||"",metalResults:t,halogen:e.halogen||{f:"",cl:"",br:""},ivlEff:e.ivlEff||"",lifetime:e.lifetime||"",deviceImages:Array.isArray(e.deviceImages)?e.deviceImages:[],tgaImages:Array.isArray(e.tgaImages)?e.tgaImages:[],dscImages:Array.isArray(e.dscImages)?e.dscImages:[],shipments:Array.isArray(e.shipments)?e.shipments:[],costData:e.costData||{steps:[]}}},_r=e=>{var t,n,l,s,a,i,o;return{id:e.id||Ie(),name:e.name||"New Material",year:e.year||new Date().getFullYear(),stage:e.stage||"DEV",lots:Array.isArray(e.lots)?e.lots.map(Cc):[],thermalData:Array.isArray(e.thermalData)?e.thermalData:Array(5).fill(null).map(()=>({temp:"",hplc:"",device:"",hplcImg:null,deviceImg:null})),residueData:Array.isArray(e.residueData)?e.residueData:[],impurityData:{peaks:Array.from({length:10},(u,c)=>{var b,f;return((f=(b=e.impurityData)==null?void 0:b.peaks)==null?void 0:f[c])||{id:Ie(),rt:"",rrt:"",mw:"",content:""}})},methods:e.methods||[],salesParams:e.salesParams||{fixedRatio:"10"},specification:{subPurityMin:((t=e.specification)==null?void 0:t.subPurityMin)||"99.9",halogen:((n=e.specification)==null?void 0:n.halogen)||{f:"2",cl:"2",br:"2"},metalElements:((l=e.specification)==null?void 0:l.metalElements)||[...Ml],metal:((s=e.specification)==null?void 0:s.metal)||{},ivl:((a=e.specification)==null?void 0:a.ivl)||{min:"97",max:"103"},life:((i=e.specification)==null?void 0:i.life)||{min:"90",max:"110"},dsc:((o=e.specification)==null?void 0:o.dsc)||{ref:"",range:""}},inventory:Array.isArray(e.inventory)?e.inventory:[]}},lf=[{id:"lot_ex_1",name:"GH_unknown_Ref_Lot",synDateStart:"2025-11-01",synDateEnd:"2025-11-07",synSite:"Lab A",subSite:"Lab A",synYield:"92.5",subYield:"96.0",hplcSyn:"99.50",hplcSub:"99.95",unitCost:"10500",actualOutput:"950.0",isMix:!1,hplcMethodVersion:"v1.0",mainPeakRt:"12.5",hplcGrid:[["Parameter","Peak 1","Peak 2","Peak 3 (Killer)"],["RT","10.5","12.5","14.0"],["RRT","0.84","1.00","1.12"],["Content (%)","0.03","99.95","0.02"]],metalResults:{Fe:"1",Na:"0",K:"0",Ca:"0",Cr:"0",Ni:"0",Mg:"0",Cu:"0"},halogen:{f:"1",cl:"1",br:"0"},ivlEff:"100",lifetime:"100",shipments:[{id:"ship_1",date:"2025-12-01",customer:"Samsung Display",purpose:"MP Qualification",amount:"200",unitPrice:"25000"},{id:"ship_2",date:"2025-12-15",customer:"LG Display",purpose:"Sampling",amount:"100",unitPrice:"28000"}],costData:{price:0,fixedCost:5e5,targetMw:650.5,processCostPerDay:6e5,processDays:3,subYield1:96,subYield2:98,theoreticalOutput:1500,varCostPerG:100,steps:[{id:"s1",name:"Suzuki Coupling",yield:92,materials:[{id:"m1",name:"Core A",mw:320.5,price:3e3,eq:1,mol:2.3}]}]}},{id:"lot_ex_2",name:"GH_unknown_Bad_Lot",synDateStart:"2025-11-10",synDateEnd:"2025-11-15",synSite:"Lab B",subSite:"Lab B",synYield:"92.0",subYield:"96.0",hplcSyn:"99.10",hplcSub:"99.85",unitCost:"13200",actualOutput:"1100.0",isMix:!1,hplcMethodVersion:"v1.0",mainPeakRt:"12.5",hplcGrid:[["Parameter","Peak 1","Peak 2","Peak 3 (Killer)"],["RT","10.5","12.5","14.0"],["RRT","0.84","1.00","1.12"],["Content (%)","0.05","99.50","0.45"]],metalResults:{Fe:"2",Na:"1",K:"0",Ca:"0",Cr:"0",Ni:"0",Mg:"0",Cu:"0"},halogen:{f:"2",cl:"1",br:"0"},ivlEff:"98",lifetime:"55",shipments:[],costData:{price:0,fixedCost:5e5,targetMw:650.5,processCostPerDay:8e5,processDays:3,subYield1:95,subYield2:97,theoreticalOutput:1500,varCostPerG:200,steps:[{id:"s1",name:"Suzuki Coupling",yield:92,materials:[{id:"m1",name:"Core A",mw:320.5,price:5e3,eq:1,mol:2.3}]}]}},{id:"lot_ex_3",name:"GH_unknown_Mid_Lot",synDateStart:"2025-11-15",synDateEnd:"2025-11-20",synSite:"Factory",subSite:"Factory",synYield:"95.0",subYield:"97.0",hplcSyn:"99.30",hplcSub:"99.90",unitCost:"8500",actualOutput:"2500.0",isMix:!1,hplcMethodVersion:"v1.0",mainPeakRt:"12.5",hplcGrid:[["Parameter","Peak 1","Peak 2","Peak 3 (Killer)"],["RT","10.5","12.5","14.0"],["RRT","0.84","1.00","1.12"],["Content (%)","0.04","99.74","0.22"]],metalResults:{Fe:"1",Na:"0",K:"0",Ca:"0",Cr:"0",Ni:"0",Mg:"0",Cu:"0"},halogen:{f:"0",cl:"2",br:"0"},ivlEff:"102",lifetime:"80",shipments:[{id:"ship_3",date:"2025-12-20",customer:"BOE",purpose:"Mass Prod (Batch 1)",amount:"1000",unitPrice:"22000"},{id:"ship_4",date:"2025-12-25",customer:"CSOT",purpose:"Mass Prod (Batch 2)",amount:"800",unitPrice:"21500"}],costData:{price:0,fixedCost:1e6,targetMw:650.5,processCostPerDay:9e5,processDays:5,subYield1:95,subYield2:97,theoreticalOutput:3e3,varCostPerG:80,steps:[{id:"s1",name:"Mass Production",yield:95,materials:[{id:"m1",name:"Core A",mw:320.5,price:2500,eq:1,mol:5}]}]}},{id:"lot_ex_4",name:"GH_unknown_Impruved",synDateStart:"2025-11-25",synDateEnd:"2025-11-30",synSite:"Lab A",subSite:"Lab A",synYield:"88.0",subYield:"94.0",hplcSyn:"99.40",hplcSub:"99.92",unitCost:"12500",actualOutput:"800.0",isMix:!1,hplcMethodVersion:"v1.1",mainPeakRt:"12.5",hplcGrid:[["Parameter","Peak 1","Peak 2","Peak 3 (Killer)"],["RT","10.5","12.5","14.0"],["RRT","0.84","1.00","1.12"],["Content (%)","0.03","99.92","0.05"]],metalResults:{Fe:"0",Na:"0",K:"0",Ca:"0",Cr:"0",Ni:"0",Mg:"0",Cu:"0"},halogen:{f:"1",cl:"1",br:"0"},ivlEff:"101",lifetime:"98",shipments:[{id:"ship_5",date:"2025-12-28",customer:"Samsung Display",purpose:"Improved Sample",amount:"50",unitPrice:"35000"}],costData:{price:0,fixedCost:5e5,targetMw:650.5,processCostPerDay:5e5,processDays:2,subYield1:88,subYield2:94,theoreticalOutput:1e3,varCostPerG:150,steps:[{id:"s1",name:"Recrystallization x2",yield:88,materials:[{id:"m1",name:"Core A",mw:320.5,price:4e3,eq:1,mol:1.5}]}]}}],sf=[],uo=[{id:"u1",username:"admin",password:"123",name:"Chief Manager",roleId:"ADMIN",status:"APPROVED",managerRole:"SYN_MANAGER"},{id:"u2",username:"lab",password:"123",name:"Senior Researcher",roleId:"RESEARCHER",status:"APPROVED",managerRole:"ANA_MANAGER"},{id:"u3",username:"guest",password:"123",name:"Visitor",roleId:"GUEST",status:"APPROVED",managerRole:"NONE"}],co=[{id:"ginv_1",fullname:"Bis(4-biphenyl)amine",manufacturer:"Alpha Chem",lotNo:"AC-2025-001",totalQty:"1000",currentStock:"1000",unitPrice:"5000",receiveDate:"2025-01-01",location:"Cabinet A",structureImg:null}],af=({onLogin:e,users:t,setUsers:n})=>{const[l,s]=z.useState("LOGIN"),[a,i]=z.useState({username:"",password:"",name:"",roleId:"GUEST"}),[o,u]=z.useState(""),[c,b]=z.useState(""),f=m=>{if(m.preventDefault(),u(""),b(""),l==="LOGIN"){const g=t.find(y=>y.username===a.username&&y.password===a.password);if(!g)return u("Invalid credentials");if(g.status==="PENDING")return u("Account pending approval.");e(g)}else{if(!a.username||!a.password||!a.name)return u("All fields required");if(t.some(S=>S.username===a.username))return u("Username exists");const g={...a,id:Ie(),status:"PENDING",managerRole:"NONE"},y=[...t,g];n(y),localStorage.setItem("oled_matflow_users_v1",JSON.stringify(y)),b("Registration successful!"),setTimeout(()=>s("LOGIN"),1500)}};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-100",children:r.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-2xl border border-slate-200 shadow-2xl relative z-10 animate-in",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-brand-50 mb-4 border border-brand-100",children:r.jsx(D,{name:"fingerprint",size:32,className:"text-brand-600"})}),r.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"OLED Matflow"}),r.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"v1.0 System"})]}),c?r.jsx("div",{className:"text-emerald-600 text-center p-4 bg-emerald-50 rounded border border-emerald-100 mb-4",children:c}):r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Username"}),r.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 text-slate-800 outline-none focus:border-brand-500 transition",value:a.username,onChange:m=>i({...a,username:m.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Password"}),r.jsx("input",{type:"password",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 text-slate-800 outline-none focus:border-brand-500 transition",value:a.password,onChange:m=>i({...a,password:m.target.value})})]}),l==="SIGNUP"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"animate-in",children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Full Name"}),r.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 text-slate-800 outline-none focus:border-brand-500 transition",value:a.name,onChange:m=>i({...a,name:m.target.value})})]}),r.jsxs("div",{className:"animate-in",children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Role Request"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{type:"button",onClick:()=>i({...a,roleId:"GUEST"}),className:`p-2 rounded border text-sm font-bold ${a.roleId==="GUEST"?"bg-brand-600 border-brand-500 text-white":"bg-white border-slate-200 text-slate-500"}`,children:"Guest"}),r.jsx("button",{type:"button",onClick:()=>i({...a,roleId:"RESEARCHER"}),className:`p-2 rounded border text-sm font-bold ${a.roleId==="RESEARCHER"?"bg-brand-600 border-brand-500 text-white":"bg-white border-slate-200 text-slate-500"}`,children:"Researcher"})]})]})]}),o&&r.jsx("div",{className:"text-rose-500 text-sm text-center bg-rose-50 p-2 rounded border border-rose-100",children:o}),r.jsx("button",{type:"submit",className:"w-full bg-brand-600 hover:bg-brand-700 text-white font-bold py-3 rounded-lg transition shadow-md",children:l==="LOGIN"?"Sign In":"Submit Registration"})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100 text-center",children:r.jsx("button",{onClick:()=>{s(l==="LOGIN"?"SIGNUP":"LOGIN"),u(""),b("")},className:"text-sm text-brand-600 hover:text-brand-700 font-bold",children:l==="LOGIN"?"Create an Account":"Back to Login"})})]})})},of=({onActivate:e})=>{const[t,n]=z.useState(""),[l,s]=z.useState(""),a=async()=>{(await Ye.license.activate(t)).success?e():s("Invalid License Key")};return r.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-100",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-96 text-center border border-slate-200",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-brand-100 p-4 rounded-full text-brand-600",children:r.jsx(D,{name:"key",size:32})})}),r.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"Product Activation"}),r.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Enter your product key to activate your 1-year license."}),r.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 text-center font-mono font-bold text-slate-700 outline-none focus:border-brand-500 mb-4 transition",placeholder:"XXXX-XXXX-XXXX-XXXX",value:t,onChange:i=>n(i.target.value.toUpperCase())}),l&&r.jsxs("div",{className:"text-xs text-rose-500 font-bold mb-4 flex items-center justify-center gap-1",children:[r.jsx(D,{name:"alert-circle",size:12})," ",l]}),r.jsx("button",{onClick:a,className:"w-full bg-brand-600 hover:bg-brand-700 text-white font-bold py-3 rounded-lg transition shadow-md shadow-brand-200",children:"Activate License"}),r.jsx("div",{className:"mt-4 text-[10px] text-slate-400",children:"License valid for 365 days from activation."})]})})},X=({children:e,className:t="",title:n,icon:l,color:s="text-slate-800",action:a})=>r.jsxs("div",{className:`glass-panel p-5 rounded-xl relative group ${t}`,children:[(n||a)&&r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n?r.jsxs("h4",{className:`text-sm font-bold flex items-center gap-2 ${s}`,children:[r.jsx(D,{name:l,size:16})," ",n]}):r.jsx("div",{}),r.jsx("div",{className:"mr-8",children:a})]}),e]}),uf=({users:e,setUsers:t})=>{const n=o=>{t(o),Ye.users.saveAll(o)},l=o=>n(e.map(u=>u.id===o?{...u,status:"APPROVED"}:u)),s=o=>n(e.filter(u=>u.id!==o)),a=(o,u)=>n(e.map(c=>c.id===o?{...c,managerRole:u}:c)),i=e.filter(o=>o.status==="PENDING");return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[r.jsx(D,{name:"shield",className:"text-purple-600"})," Admin Control Panel"]}),r.jsx(X,{title:`New Account Requests (${i.length})`,icon:"users",color:"text-brand-600",children:i.length===0?r.jsx("p",{className:"text-slate-400 text-sm italic",children:"No pending signups."}):r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-slate-100 text-slate-500 text-xs uppercase",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Name"}),r.jsx("th",{className:"p-3",children:"User"}),r.jsx("th",{className:"p-3",children:"Role"}),r.jsx("th",{className:"p-3 text-right",children:"Action"})]})}),r.jsx("tbody",{children:i.map(o=>{var u;return r.jsxs("tr",{className:"border-b border-slate-100",children:[r.jsx("td",{className:"p-3 font-bold text-slate-800",children:o.name}),r.jsx("td",{className:"p-3 text-slate-500",children:o.username}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs text-brand-600",children:(u=ea[o.roleId])==null?void 0:u.name})}),r.jsxs("td",{className:"p-3 text-right flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>l(o.id),className:"px-3 py-1 bg-emerald-600 text-white text-xs rounded font-bold",children:"Approve"}),r.jsx("button",{onClick:()=>s(o.id),className:"px-3 py-1 bg-rose-600 text-white text-xs rounded font-bold",children:"Reject"})]})]},o.id)})})]})}),r.jsx(X,{title:"All Users",icon:"users",color:"text-slate-500",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-slate-100 text-slate-500 text-xs uppercase",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Name"}),r.jsx("th",{className:"p-3",children:"Role"}),r.jsx("th",{className:"p-3",children:"Mgr Role (Edit)"}),r.jsx("th",{className:"p-3 text-right",children:"Delete"})]})}),r.jsx("tbody",{children:e.filter(o=>o.status==="APPROVED").map(o=>{var u;return r.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[r.jsx("td",{className:"p-3 text-slate-800 font-medium",children:o.name}),r.jsx("td",{className:"p-3 text-slate-500",children:(u=ea[o.roleId])==null?void 0:u.name}),r.jsx("td",{className:"p-3",children:r.jsxs("select",{className:"bg-white border border-slate-300 rounded px-2 py-1 text-xs text-slate-700 outline-none",value:o.managerRole,onChange:c=>a(o.id,c.target.value),children:[r.jsx("option",{value:"NONE",children:"None"}),r.jsx("option",{value:"SYN_MANAGER",children:"Synthesis Manager"}),r.jsx("option",{value:"ANA_MANAGER",children:"Analysis Manager"})]})}),r.jsx("td",{className:"p-3 text-right",children:o.roleId!=="ADMIN"&&r.jsx("button",{onClick:()=>s(o.id),className:"text-rose-500 hover:text-rose-700",children:r.jsx(D,{name:"trash-2",size:14})})})]},o.id)})})]})})]})},cf=({globalInventory:e,updateGlobalInventory:t,materials:n=[],readOnly:l})=>{const[s,a]=z.useState(""),i=(b,f,m)=>{l||t(e.map(g=>g.id===b?{...g,[f]:m,lastUpdated:new Date().toISOString().slice(0,10)}:g))},o=()=>{if(l)return;const b={id:Ie(),name:"",casNo:"",category:"Raw Material",purity:"",currentStock:0,unit:"g",location:"",lastUpdated:new Date().toISOString().slice(0,10)};t([...e,b])},u=b=>{l||window.confirm("Delete this item?")&&t(e.filter(f=>f.id!==b))},c=e.filter(b=>(b.name||"").toLowerCase().includes(s.toLowerCase())||(b.casNo||"").includes(s)||(b.category||"").toLowerCase().includes(s.toLowerCase()));return r.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar p-6 bg-slate-50 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"bg-white p-2 rounded-lg border border-slate-200 shadow-sm text-slate-500",children:r.jsx(D,{name:"package",size:20})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Master Inventory"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Real-time stock monitoring across all projects."})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(D,{name:"search",size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",className:"pl-8 pr-4 py-2 rounded-lg border border-slate-200 text-sm outline-none focus:border-brand-500 w-64 shadow-sm",placeholder:"Search by Name, CAS No...",value:s,onChange:b=>a(b.target.value)})]}),!l&&r.jsxs("button",{onClick:o,className:"bg-slate-800 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-slate-700 transition shadow-md",children:[r.jsx(D,{name:"plus",size:16})," Add Item"]})]})]}),r.jsx(X,{className:"p-0 overflow-hidden border border-slate-200 shadow-sm",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200 text-xs uppercase font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 w-16 text-center",children:"Status"}),r.jsx("th",{className:"px-4 py-3 w-40",children:"Material Name"}),r.jsx("th",{className:"px-4 py-3 w-28",children:"CAS No."}),r.jsx("th",{className:"px-4 py-3 w-28",children:"Category"}),r.jsx("th",{className:"px-4 py-3 w-20",children:"Purity"}),r.jsxs("th",{className:"px-4 py-3 w-32 text-right",children:["Available ",r.jsx("span",{className:"text-[9px] text-slate-400 normal-case",children:"(Real)"})]}),r.jsx("th",{className:"px-4 py-3 w-24 text-right",children:"Total Stock"}),r.jsx("th",{className:"px-4 py-3 w-20",children:"Unit"}),r.jsx("th",{className:"px-4 py-3 w-24",children:"Location"}),r.jsx("th",{className:"px-4 py-3 w-28",children:"Last Updated"}),r.jsx("th",{className:"px-4 py-3 w-16 text-center",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:c.length>0?c.map(b=>{const f=n.reduce((h,d)=>{const x=(d.inventory||[]).find(N=>N.masterId===b.id);return h+(x&&parseFloat(x.projectStock)||0)},0),g=(parseFloat(b.currentStock)||0)-f,y=g<10,S=g<0;return r.jsxs("tr",{className:"hover:bg-slate-50 transition group",children:[r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("div",{className:`w-2 h-2 rounded-full mx-auto ${S?"bg-rose-600 animate-pulse":y?"bg-amber-400":"bg-emerald-500"}`,title:S?"Stock Shortage!":y?"Low Stock":"Sufficient"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{disabled:l,className:"w-full bg-transparent outline-none font-bold text-slate-700 focus:text-brand-600 transition",value:b.name,onChange:h=>i(b.id,"name",h.target.value),placeholder:"Name"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{disabled:l,className:"w-full bg-transparent outline-none font-mono text-slate-500 text-xs",value:b.casNo||"",onChange:h=>i(b.id,"casNo",h.target.value),placeholder:"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("select",{disabled:l,className:"w-full bg-transparent outline-none text-slate-600 cursor-pointer text-xs",value:b.category,onChange:h=>i(b.id,"category",h.target.value),children:[r.jsx("option",{value:"Raw Material",children:"Raw Material"}),r.jsx("option",{value:"Reagent",children:"Reagent"}),r.jsx("option",{value:"Solvent",children:"Solvent"}),r.jsx("option",{value:"Catalyst",children:"Catalyst"}),r.jsx("option",{value:"Consumable",children:"Consumable"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{disabled:l,type:"number",className:"w-full bg-transparent outline-none text-slate-600 text-right",value:b.purity,onChange:h=>i(b.id,"purity",h.target.value),placeholder:"-"})}),r.jsxs("td",{className:"px-4 py-3 text-right",children:[r.jsx("span",{className:`font-bold ${S?"text-rose-600":"text-emerald-600"}`,children:g.toFixed(1)}),f>0&&r.jsxs("div",{className:"text-[9px] text-slate-400",children:["-",f.toFixed(1)," used"]})]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{disabled:l,type:"number",className:"w-full bg-transparent outline-none font-bold text-slate-800 text-right border-b border-transparent hover:border-slate-200 focus:border-brand-500 transition",value:b.currentStock,onChange:h=>i(b.id,"currentStock",h.target.value)})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("select",{disabled:l,className:"w-full bg-transparent outline-none text-slate-500 text-xs cursor-pointer",value:b.unit,onChange:h=>i(b.id,"unit",h.target.value),children:[r.jsx("option",{value:"g",children:"g"}),r.jsx("option",{value:"kg",children:"kg"}),r.jsx("option",{value:"mg",children:"mg"}),r.jsx("option",{value:"L",children:"L"}),r.jsx("option",{value:"mL",children:"mL"}),r.jsx("option",{value:"ea",children:"ea"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{disabled:l,className:"w-full bg-transparent outline-none text-slate-500 text-xs",value:b.location,onChange:h=>i(b.id,"location",h.target.value),placeholder:"-"})}),r.jsx("td",{className:"px-4 py-3 text-xs text-slate-400",children:b.lastUpdated}),r.jsx("td",{className:"px-4 py-3 text-center",children:!l&&r.jsx("button",{onClick:()=>u(b.id),className:"text-slate-300 hover:text-rose-500 transition",children:r.jsx(D,{name:"trash-2",size:14})})})]},b.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:"11",className:"p-8 text-center text-slate-400 italic bg-slate-50/50",children:"No items found."})})})]})})})]})},yn=e=>new Intl.NumberFormat("ko-KR",{style:"decimal",maximumFractionDigits:0}).format(e),xl=(e,t=2)=>new Intl.NumberFormat("en-US",{maximumFractionDigits:t}).format(e),df=({material:e,updateMaterial:t,readOnly:n})=>{var h;const[l,s]=z.useState(((h=e.lots[0])==null?void 0:h.id)||null),a=e.lots.find(d=>d.id===l),i=a?a.costData:null,o=d=>{if(n)return;const p=ml(d);t({...e,lots:e.lots.map(x=>x.id===l?{...x,costData:d,...p}:x)})},u=(d,p,x)=>{if(n)return;const N=i.steps.map(w=>w.id===d?{...w,[p]:x}:w);o({...i,steps:ot(N)})},c=()=>{if(n)return;const d={id:`step-${Date.now()}`,name:`Step ${i.steps.length+1}`,yield:90,materials:[{id:Date.now(),name:"",price:0,mw:0,eq:1,mol:0}]};o({...i,steps:ot([...i.steps,d])})},b=d=>{n||o({...i,steps:ot(i.steps.filter(p=>p.id!==d))})},f=d=>{if(n)return;const p=i.steps.map(x=>x.id===d?{...x,materials:[...x.materials,{id:Date.now(),name:"",mw:0,price:0,eq:0,mol:0}]}:x);o({...i,steps:ot(p)})},m=(d,p,x,N)=>{if(n)return;const w=i.steps.map(j=>j.id===d?{...j,materials:j.materials.map(v=>v.id===p?{...v,[x]:N}:v)}:j);o({...i,steps:ot(w)})},g=(d,p)=>{if(n)return;const x=i.steps.map(N=>N.id===d?{...N,materials:N.materials.filter(w=>w.id!==p)}:N);o({...i,steps:ot(x)})},y=(d,p,x,N)=>{if(n)return;d.preventDefault();const j=d.clipboardData.getData("text").split(/\r?\n/).filter(T=>T.trim()!=="");if(!j.length)return;const v=["name","mw","price","eq"],k=v.indexOf(N);if(k===-1)return;let R=[...i.steps];const P=R.findIndex(T=>T.id===p);if(P===-1)return;let E=[...R[P].materials];j.forEach((T,I)=>{const $=x+I,U=T.split("	");$>=E.length&&E.push({id:Date.now()+Math.random(),name:"",mw:0,price:0,eq:0,mol:0}),U.forEach((V,ne)=>{const _=k+ne;if(_<v.length){const L=v[_];let A=V.trim();["mw","price","eq"].includes(L)&&(A=parseFloat(A.replace(/,/g,""))||0),E[$][L]=A}})}),R[P]={...R[P],materials:E},o({...i,steps:ot(R)})},S=z.useMemo(()=>ml(i),[i]);return a?r.jsxs("div",{className:"flex h-full bg-slate-50",children:[r.jsxs("div",{className:"w-64 border-r border-slate-200 bg-white flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-slate-200 font-bold text-xs text-slate-500",children:"SELECT LOT"}),r.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:e.lots.map(d=>r.jsx("div",{onClick:()=>s(d.id),className:`p-3 rounded-lg text-sm cursor-pointer flex justify-between ${l===d.id?"bg-emerald-50 text-emerald-700 font-bold border border-emerald-200":"text-slate-600 hover:bg-slate-100"}`,children:d.name},d.id))})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 custom-scrollbar",children:[r.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200",children:[r.jsx("div",{className:"bg-emerald-100 text-emerald-600 p-2 rounded-lg",children:r.jsx(D,{name:"coins",size:24})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Cost Simulation"}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Lot: ",a.name]})]})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[r.jsxs("div",{className:"col-span-4 glass-panel p-5 rounded-xl bg-white",children:[r.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-4 flex gap-2",children:[r.jsx(D,{name:"activity",size:14})," Output"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-slate-50 p-3 rounded border border-slate-200",children:[r.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[r.jsx("span",{children:"Total Yield"}),r.jsxs("span",{className:"text-brand-600 font-bold",children:[S.synYield,"%"]})]}),r.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-brand-500",style:{width:`${Math.min(S.synYield,100)}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:"Theoretical (g)"}),r.jsx("input",{disabled:n,className:"w-full bg-white border border-slate-300 rounded px-2 py-1.5 text-sm font-bold text-right outline-none text-slate-800 focus:border-brand-500 transition",value:xl(S.theoreticalOutput,1).replace(/,/g,""),onChange:d=>{var j;const p=parseFloat(d.target.value)||0,x=parseFloat(i.targetMw)||1,N=p/x,w=[...i.steps];(j=w[0])!=null&&j.materials[0]&&(w[0].materials[0].mol=N),o({...i,steps:ot(w)})}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:"Actual (g)"}),r.jsx("div",{className:"w-full bg-slate-100 border border-slate-200 rounded px-2 py-1.5 text-sm font-bold text-slate-800 text-right",children:xl(S.actualOutput,1)})]})]}),r.jsxs("div",{className:"pt-2 border-t border-slate-200 space-y-2",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[r.jsx("span",{className:"text-slate-500",children:"Sub 1"}),r.jsxs("span",{children:[i.subYield1,"%"]})]}),r.jsx("input",{disabled:n,type:"range",min:"0",max:"100",value:i.subYield1,onChange:d=>o({...i,subYield1:d.target.value}),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-brand-600"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[r.jsx("span",{className:"text-slate-500",children:"Sub 2"}),r.jsxs("span",{children:[i.subYield2,"%"]})]}),r.jsx("input",{disabled:n,type:"range",min:"0",max:"100",value:i.subYield2,onChange:d=>o({...i,subYield2:d.target.value}),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-brand-600"})]})]})]})]}),r.jsxs("div",{className:"col-span-8 space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center bg-white p-5 rounded-xl border border-slate-200 shadow-sm",children:[r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block",children:"Target MW"}),r.jsx("input",{disabled:n,className:"bg-transparent text-xl font-bold text-slate-800 w-24 outline-none border-b border-transparent hover:border-slate-300 focus:border-brand-500 transition",value:i.targetMw,onChange:d=>o({...i,targetMw:d.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block",children:"Process/Day"}),r.jsx("input",{disabled:n,className:"bg-transparent text-xl font-bold text-slate-800 w-32 outline-none border-b border-transparent hover:border-slate-300 focus:border-brand-500 transition",value:i.processCostPerDay,onChange:d=>o({...i,processCostPerDay:d.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block",children:"Total Days"}),r.jsx("input",{disabled:n,className:"bg-transparent text-xl font-bold text-slate-800 w-24 outline-none border-b border-transparent hover:border-slate-300 focus:border-brand-500 transition",value:i.processDays,onChange:d=>o({...i,processDays:d.target.value})})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Unit Cost"}),r.jsxs("div",{className:"text-3xl font-black text-emerald-600",children:["",yn(S.unitCost),r.jsx("span",{className:"text-sm text-slate-400 font-normal",children:"/g"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[i.steps.map((d,p)=>r.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:[r.jsxs("div",{className:"bg-slate-50 p-3 flex justify-between items-center border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-xs font-bold text-slate-500 bg-white px-2 py-1 rounded border border-slate-200",children:["Step ",p+1]}),r.jsx("input",{disabled:n,className:"bg-transparent font-bold text-slate-700 outline-none w-48 hover:text-brand-600 focus:text-brand-600",value:d.name,onChange:x=>u(d.id,"name",x.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-slate-400",children:"Yield"}),r.jsx("input",{disabled:n,className:"bg-white border border-slate-300 text-slate-700 text-xs p-1 rounded w-12 text-center outline-none focus:border-brand-500 font-bold",value:d.yield,onChange:x=>u(d.id,"yield",x.target.value)}),r.jsx("span",{className:"text-xs text-slate-500",children:"%"}),!n&&r.jsx("button",{onClick:()=>b(d.id),className:"ml-2 text-slate-400 hover:text-rose-500 transition",children:r.jsx(D,{name:"x",size:14})})]})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-xs text-left",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 w-1/3",children:"Material"}),r.jsx("th",{className:"px-4 py-2 w-20",children:"MW"}),r.jsx("th",{className:"px-4 py-2 w-24",children:"Price"}),r.jsx("th",{className:"px-4 py-2 w-16",children:"Eq"}),r.jsx("th",{className:"px-4 py-2 w-20",children:"Mol"}),r.jsx("th",{className:"px-4 py-2 text-right",children:"Cost"}),r.jsx("th",{className:"w-8"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:d.materials.map((x,N)=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"px-4 py-1.5",children:r.jsx("input",{disabled:n,className:"bg-transparent w-full outline-none text-slate-800",value:x.name,onChange:w=>m(d.id,x.id,"name",w.target.value),onPaste:w=>y(w,d.id,N,"name")})}),r.jsx("td",{className:"px-4 py-1.5",children:r.jsx("input",{disabled:n,className:"bg-transparent w-full outline-none text-slate-500",type:"number",value:x.mw,onChange:w=>m(d.id,x.id,"mw",w.target.value),onPaste:w=>y(w,d.id,N,"mw")})}),r.jsx("td",{className:"px-4 py-1.5",children:r.jsx("input",{disabled:n,className:"bg-transparent w-full outline-none text-slate-500",type:"number",value:x.price,onChange:w=>m(d.id,x.id,"price",w.target.value),onPaste:w=>y(w,d.id,N,"price")})}),r.jsx("td",{className:"px-4 py-1.5",children:r.jsx("input",{disabled:n,className:"bg-transparent w-full outline-none text-brand-600 font-bold",type:"number",value:x.eq,onChange:w=>m(d.id,x.id,"eq",w.target.value),onPaste:w=>y(w,d.id,N,"eq")})}),r.jsx("td",{className:"px-4 py-1.5 text-slate-500 font-mono",children:x.mol.toFixed(3)}),r.jsx("td",{className:"px-4 py-1.5 text-right font-mono text-slate-500",children:yn(x.mol*x.mw/1e3*x.price)}),r.jsx("td",{className:"px-4 py-1.5 text-center",children:!n&&r.jsx("button",{onClick:()=>g(d.id,x.id),className:"text-slate-400 hover:text-rose-500 transition",children:r.jsx(D,{name:"minus-circle",size:14})})})]},x.id))})]}),!n&&r.jsx("button",{className:"w-full py-2 text-xs text-slate-500 hover:bg-slate-100 transition border-t border-slate-100 font-bold",onClick:()=>f(d.id),children:"+ Add Material"})]})]},d.id)),!n&&r.jsxs("button",{onClick:c,className:"w-full py-3 border border-dashed border-slate-300 rounded-lg text-slate-500 hover:border-brand-500 hover:text-brand-500 transition flex items-center justify-center gap-2 bg-slate-50 font-bold",children:[r.jsx(D,{name:"git-merge",size:16})," Add Synthesis Step"]})]})]})]})]})]}):r.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Select Lot"})},ff=({data:e,xKey:t,xLabel:n,yLabel:l,width:s=600,height:a=400})=>{if(!e||e.length===0)return r.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"No Data"});const i=e.filter(L=>{const A=parseFloat(L[t]),O=parseFloat(L.lifetime);return!isNaN(A)&&isFinite(A)&&!isNaN(O)&&isFinite(O)});if(i.length===0)return r.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"Invalid Data"});const o=i.map(L=>L[t]),u=i.map(L=>L.lifetime);let c=Math.min(...o),b=Math.max(...o);c===b&&(c-=1,b+=1),c*=.95,b*=1.05;let f=Math.min(...u),m=Math.max(...u);f===m&&(f-=1,m+=1),f*=.95,m*=1.05,m<100&&(m=105);const g=40,y=s-g*2,S=a-g*2,h=b-c||1,d=m-f||1,p=L=>g+(L-c)/h*y,x=L=>a-g-(L-f)/d*S,N=i.length,w=o.reduce((L,A)=>L+A,0),j=u.reduce((L,A)=>L+A,0),v=i.reduce((L,A)=>L+A[t]*A.lifetime,0),k=i.reduce((L,A)=>L+A[t]*A[t],0),R=N*k-w*w,P=R===0?0:(N*v-w*j)/R,E=N===0?0:(j-P*w)/N,T=c,I=P*T+E,$=b,U=P*$+E,V=x(103),ne=x(97),_=z.useMemo(()=>"chart-clip-"+Math.random().toString(36).substr(2,9),[]);return r.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${s} ${a}`,className:"overflow-visible",children:[r.jsx("defs",{children:r.jsx("clipPath",{id:_,children:r.jsx("rect",{x:g,y:g,width:y,height:S})})}),r.jsx("line",{x1:g,y1:a-g,x2:s-g,y2:a-g,stroke:"#cbd5e1",strokeWidth:"1"}),r.jsx("line",{x1:g,y1:a-g,x2:g,y2:g,stroke:"#cbd5e1",strokeWidth:"1"}),r.jsx("text",{x:s/2,y:a-5,textAnchor:"middle",fontSize:"12",fill:"#64748b",fontWeight:"bold",children:n}),r.jsxs("text",{x:10,y:a/2,textAnchor:"middle",fontSize:"12",fill:"#64748b",fontWeight:"bold",transform:`rotate(-90, 10, ${a/2})`,children:[l," (%)"]}),r.jsxs("g",{clipPath:`url(#${_})`,children:[m>=103&&f<=97&&r.jsx("rect",{x:g,y:V,width:y,height:Math.abs(ne-V),fill:"#e2e8f0",opacity:"0.5"}),!isNaN(P)&&P!==0&&r.jsx("line",{x1:p(T),y1:x(I),x2:p($),y2:x(U),stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"4 2",opacity:"0.6"})]}),m>=103&&f<=97&&r.jsx("text",{x:s-g-10,y:V+15,textAnchor:"end",fontSize:"10",fill:"#94a3b8",children:"Machine Error Range (3%)"}),i.map((L,A)=>{const O=p(L[t]),Q=x(L.lifetime);if(!isFinite(O)||!isFinite(Q))return null;const Pt=L.lifetime>=97&&L.lifetime<=103;return O<g||O>s-g||Q<g||Q>a-g?null:r.jsxs("g",{className:"group/scatter",children:[r.jsx("circle",{cx:O,cy:Q,r:Pt?4:5,fill:Pt?"#94a3b8":"#3b82f6",stroke:"white",strokeWidth:"1.5",className:"hover:scale-150 transition cursor-pointer"}),r.jsx("title",{children:`${L.name}
${n}: ${L[t]}
Life: ${L.lifetime}%`})]},A)})]})},pf=({material:e,lots:t=[]})=>{const[n,l]=z.useState("MAIN"),[s,a]=z.useState("purity"),i=z.useMemo(()=>{var h;return((h=e.specification)==null?void 0:h.metalElements)||Ml},[e]),o=["f","cl","br"],u=z.useMemo(()=>Ec(t),[t]),c=z.useMemo(()=>!t||t.length===0?[]:t.map(h=>{var P,E,T;const d=parseFloat(h.lifetime)||0,p=parseFloat(h.hplcSub)||0,x=parseFloat(h.synYield)||0,N=parseFloat(h.subYield)||0,w=parseFloat((x*N/100).toFixed(2)),j=Object.values(h.metalResults||{}).reduce((I,$)=>I+(parseFloat($)||0),0),v=(parseFloat((P=h.halogen)==null?void 0:P.f)||0)+(parseFloat((E=h.halogen)==null?void 0:E.cl)||0)+(parseFloat((T=h.halogen)==null?void 0:T.br)||0);let k=0;u.forEach(I=>{I.rrt>=.95&&I.rrt<=1.05||(k+=I.contents[h.id]||0)});const R={id:h.id,name:h.name,lifetime:d,purity:p,metal:j,halogen:v,overallYield:w,totalImpurity:parseFloat(k.toFixed(3))};return i.forEach(I=>{var $;return R[`met_${I}`]=parseFloat((($=h.metalResults)==null?void 0:$[I])||0)}),o.forEach(I=>{var $;return R[`halo_${I}`]=parseFloat((($=h.halogen)==null?void 0:$[I])||0)}),u.forEach(I=>{if(I.rrt<.95||I.rrt>1.05){const $=`peak_${I.rrt.toFixed(2)}`;R[$]=I.contents[h.id]||0}}),R}).filter(h=>h.lifetime>0),[t,i,u]),{correlations:b,top3Factors:f}=z.useMemo(()=>{if(c.length<2)return{correlations:{},top3Factors:[]};const h=N=>{const w=c.length,j=c.map(V=>V[N]||0),v=c.map(V=>V.lifetime);if(j.every(V=>V===j[0]))return 0;const R=j.reduce((V,ne)=>V+ne,0),P=v.reduce((V,ne)=>V+ne,0),E=c.reduce((V,ne)=>V+(ne[N]||0)*ne.lifetime,0),T=j.reduce((V,ne)=>V+ne*ne,0),I=v.reduce((V,ne)=>V+ne*ne,0),$=w*E-R*P,U=Math.sqrt((w*T-R*R)*(w*I-P*P));return U===0?0:$/U},d={},p=[];["purity","totalImpurity","metal","halogen","overallYield"].forEach(N=>{const w=h(N);d[N]=w;let j=N.charAt(0).toUpperCase()+N.slice(1);N==="totalImpurity"&&(j="Total Impurity Sum"),N==="overallYield"&&(j="Overall Yield"),p.push({key:N,r:w,group:"MAIN",label:j})}),i.forEach(N=>{const w=`met_${N}`,j=h(w);d[w]=j,p.push({key:w,r:j,group:"METAL",label:`Metal [${N}]`})}),o.forEach(N=>{const w=`halo_${N}`,j=h(w);d[w]=j,p.push({key:w,r:j,group:"HALOGEN",label:`Halogen [${N.toUpperCase()}]`})}),u.forEach(N=>{if(N.rrt<.95||N.rrt>1.05){const w=`peak_${N.rrt.toFixed(2)}`,j=h(w);d[w]=j,p.push({key:w,r:j,group:"PEAK",label:`Peak (RRT ${N.rrt.toFixed(2)})`})}});const x=p.sort((N,w)=>Math.abs(w.r)-Math.abs(N.r));return{correlations:d,top3Factors:x.slice(0,3)}},[c,i,u]),g=(h=>h==="purity"?{label:"HPLC Purity",unit:"%"}:h==="totalImpurity"?{label:"Total Impurity Sum",unit:"%"}:h==="metal"?{label:"Total Metal",unit:"ppm"}:h==="halogen"?{label:"Total Halogen",unit:"ppm"}:h==="overallYield"?{label:"Overall Yield",unit:"%"}:h.startsWith("met_")?{label:`Metal [${h.split("_")[1]}]`,unit:"ppm"}:h.startsWith("halo_")?{label:`Halogen [${h.split("_")[1].toUpperCase()}]`,unit:"ppm"}:h.startsWith("peak_")?{label:`Impurity Peak (RRT ${h.split("_")[1]})`,unit:"%"}:{label:h,unit:""})(s),y=b[s]!==void 0?b[s]:0,S=h=>{if(l(h),h==="MAIN")a("purity");else if(h==="METAL")a(`met_${i[0]}`);else if(h==="HALOGEN")a(`halo_${o[0]}`);else if(h==="PEAK"){const d=u.find(p=>p.rrt<.95||p.rrt>1.05);d&&a(`peak_${d.rrt.toFixed(2)}`)}};return r.jsxs("div",{className:"p-6 h-full flex flex-col space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[r.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[r.jsx(D,{name:"activity",className:"text-purple-600"})," Regression Analysis"]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Analysis Group"}),r.jsxs("select",{className:"bg-slate-50 border border-slate-200 rounded-lg px-3 py-1.5 text-sm font-bold text-slate-700 outline-none focus:border-purple-500",value:n,onChange:h=>S(h.target.value),children:[r.jsx("option",{value:"MAIN",children:"Key Factors (Totals)"}),r.jsx("option",{value:"PEAK",children:"Individual HPLC Peaks"}),r.jsx("option",{value:"METAL",children:"Individual Metals"}),r.jsx("option",{value:"HALOGEN",children:"Individual Halogens"})]})]}),r.jsxs("div",{className:"flex flex-col min-w-[140px]",children:[r.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Target Element"}),r.jsxs("select",{className:"bg-white border border-brand-200 rounded-lg px-3 py-1.5 text-sm font-bold text-brand-700 outline-none ring-1 ring-brand-100 focus:ring-brand-300",value:s,onChange:h=>a(h.target.value),children:[n==="MAIN"&&r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"purity",children:"HPLC Purity"}),r.jsx("option",{value:"totalImpurity",children:"Total Impurity Sum"}),r.jsx("option",{value:"metal",children:"Total Metal"}),r.jsx("option",{value:"halogen",children:"Total Halogen"}),r.jsx("option",{value:"overallYield",children:"Overall Yield"})]}),n==="METAL"&&i.map(h=>r.jsx("option",{value:`met_${h}`,children:h},h)),n==="HALOGEN"&&o.map(h=>r.jsx("option",{value:`halo_${h}`,children:h.toUpperCase()},h)),n==="PEAK"&&u.filter(h=>h.rrt<.95||h.rrt>1.05).map(h=>r.jsxs("option",{value:`peak_${h.rrt.toFixed(2)}`,children:["RRT ",h.rrt.toFixed(2)]},h.rrt))]})]})]})]}),f.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 rounded-xl p-4 text-white shadow-lg animate-in",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-amber-400 font-bold uppercase text-xs tracking-wider",children:[r.jsx(D,{name:"star",size:14,className:"fill-current"})," Top 3 Critical Factors Affecting Lifetime"]}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:f.map((h,d)=>r.jsxs("div",{onClick:()=>{l(h.group),a(h.key)},className:"bg-white/10 rounded-lg p-3 hover:bg-white/20 transition cursor-pointer border border-white/10",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"text-xs text-slate-300 font-bold mb-1",children:["#",d+1," ",h.label]}),r.jsxs("div",{className:`text-[10px] px-1.5 rounded font-bold ${h.r<0?"bg-rose-500/20 text-rose-300":"bg-emerald-500/20 text-emerald-300"}`,children:["R = ",h.r.toFixed(3)]})]}),r.jsx("div",{className:"text-xs text-slate-400 truncate",children:Math.abs(h.r)>.8?"Critical Impact":Math.abs(h.r)>.5?"Moderate Impact":"Low Impact"})]},d))})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-6",children:[r.jsx("div",{className:"col-span-12 md:col-span-3 flex flex-col gap-6",children:r.jsx(X,{title:"Correlation Result",icon:"trending-up",color:"text-slate-700",children:r.jsxs("div",{className:"text-center py-6",children:[r.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Correlation (R)"}),r.jsx("div",{className:`text-4xl font-black ${y<-.7?"text-rose-600":y>.7?"text-emerald-600":"text-slate-700"}`,children:y.toFixed(3)}),r.jsxs("div",{className:"mt-4 px-4 py-2 bg-slate-50 rounded-lg text-xs text-slate-500 leading-relaxed border border-slate-100",children:["Target: ",r.jsx("strong",{className:"text-slate-800",children:g.label})]})]})})}),r.jsx("div",{className:"col-span-12 md:col-span-9",children:r.jsx(X,{className:"h-full flex flex-col",title:`Scatter Plot: ${g.label} vs Lifetime`,icon:"scatter-chart",children:r.jsx("div",{className:"flex-1 min-h-[350px] mt-4",children:r.jsx(ff,{data:c,xKey:s,xLabel:`${g.label} (${g.unit})`,yLabel:"Lifetime"})})})})]})]})},mf=({material:e,updateMaterial:t,readOnly:n})=>{var c,b;const[l,s]=z.useState(""),a=e.specification,i=(f,m)=>t({...e,specification:{...a,[f]:m}}),o=()=>{if(!l.trim())return;const f=l.trim().charAt(0).toUpperCase()+l.trim().slice(1).toLowerCase();if(a.metalElements.includes(f))return alert("Already exists");t({...e,specification:{...a,metalElements:[...a.metalElements,f]}}),s("")},u=f=>{confirm(`Delete ${f}?`)&&t({...e,specification:{...a,metalElements:a.metalElements.filter(m=>m!==f)}})};return r.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(X,{title:"Purity Spec",icon:"flask-conical",color:"text-brand-600",children:r.jsxs("div",{className:"bg-slate-50 p-3 rounded flex justify-between items-center border border-slate-200",children:[r.jsx("span",{className:"text-sm text-slate-500",children:"Min %"}),r.jsx("input",{disabled:n,className:"bg-transparent text-right font-bold text-xl w-24 outline-none text-brand-600",value:a.subPurityMin,onChange:f=>i("subPurityMin",f.target.value),placeholder:"99.9"})]})}),r.jsx(X,{title:"Halogen Spec (ppm)",icon:"flame",color:"text-rose-600",children:r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["f","cl","br"].map(f=>r.jsxs("div",{className:"bg-slate-50 p-2 rounded text-center border border-slate-200",children:[r.jsx("span",{className:"text-xs uppercase text-slate-400",children:f}),r.jsx("input",{disabled:n,className:"w-full bg-transparent text-center font-bold text-slate-700 outline-none",value:a.halogen[f],onChange:m=>t({...e,specification:{...a,halogen:{...a.halogen,[f]:m.target.value}}})})]},f))})}),r.jsx(X,{title:"Device Spec",icon:"zap",color:"text-emerald-600",children:r.jsx("div",{className:"space-y-2",children:["ivl","life"].map(f=>{var m,g;return r.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded border border-slate-200",children:[r.jsx("span",{className:"text-xs uppercase text-slate-500",children:f==="ivl"?"Eff":"Life"}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("input",{disabled:n,className:"w-14 bg-white border border-slate-300 rounded px-2 text-center text-xs outline-none text-slate-700",placeholder:"Min",value:((m=a[f])==null?void 0:m.min)||"",onChange:y=>t({...e,specification:{...a,[f]:{...a[f],min:y.target.value}}})}),r.jsx("span",{className:"text-slate-400 text-xs",children:"~"}),r.jsx("input",{disabled:n,className:"w-14 bg-white border border-slate-300 rounded px-2 text-center text-xs outline-none text-slate-700",placeholder:"Max",value:((g=a[f])==null?void 0:g.max)||"",onChange:y=>t({...e,specification:{...a,[f]:{...a[f],max:y.target.value}}})})]})]},f)})})}),r.jsx(X,{title:"Thermal (DSC)",icon:"thermometer",color:"text-purple-600",children:r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded border border-slate-200",children:[r.jsx("span",{className:"text-xs uppercase text-slate-500",children:"Ref"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{disabled:n,className:"w-16 bg-white border border-slate-300 rounded px-2 text-right text-xs",placeholder:"Ref",value:((c=a.dsc)==null?void 0:c.ref)||"",onChange:f=>t({...e,specification:{...a,dsc:{...a.dsc,ref:f.target.value}}})}),r.jsx("input",{disabled:n,className:"w-12 bg-white border border-slate-300 rounded px-1 text-center text-xs",placeholder:"%",value:((b=a.dsc)==null?void 0:b.range)||"",onChange:f=>t({...e,specification:{...a,dsc:{...a.dsc,range:f.target.value}}})})]})]})})}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsxs(X,{title:"Metal Spec (ppm)",icon:"alert-triangle",color:"text-slate-600",children:[r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.metalElements.map(f=>r.jsxs("div",{className:"bg-slate-50 p-2 rounded text-center border border-slate-200 relative group min-w-[70px]",children:[r.jsx("span",{className:"text-xs font-bold text-slate-500 block mb-1",children:f}),r.jsx("input",{disabled:n,className:"w-full bg-transparent text-center font-bold text-slate-700 outline-none text-sm",value:a.metal[f]||"",onChange:m=>t({...e,specification:{...a,metal:{...a.metal,[f]:m.target.value}}})}),!n&&r.jsx("button",{onClick:()=>u(f),className:"absolute -top-1 -right-1 bg-rose-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] opacity-0 group-hover:opacity-100 transition z-10",children:""})]},f))}),!n&&r.jsxs("div",{className:"flex gap-2 items-center pt-2 border-t border-slate-100",children:[r.jsx("input",{className:"bg-white border border-slate-300 rounded px-3 py-1.5 text-xs outline-none w-24",placeholder:"e.g. Zn",value:l,onChange:f=>s(f.target.value)}),r.jsx("button",{onClick:o,className:"bg-slate-800 text-white px-3 py-1.5 rounded text-xs font-bold hover:bg-slate-700",children:"Add Type"})]})]})})]})},xf=({gradient:e})=>{if(!e||e.length===0)return r.jsx("div",{children:"No Data"});const t=[...e].sort((s,a)=>parseFloat(s.time)-parseFloat(a.time)),n=Math.max(...t.map(s=>parseFloat(s.time)||0),10),l=t.map(s=>{const a=parseFloat(s.time)/n*100,i=100-(parseFloat(s.b)||0);return`${a},${i}`}).join(" ");return r.jsx("div",{className:"w-full h-64 bg-white border border-slate-200 rounded-xl relative p-6 pt-2 pb-8",children:r.jsx("div",{className:"w-full h-full relative border-l border-b border-slate-300",children:r.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:r.jsx("path",{d:`M ${l}`,fill:"none",stroke:"#3b82f6",strokeWidth:"2",vectorEffect:"non-scaling-stroke"})})})})},fo=["Waters","Thermo UPLC","Thermo HPLC"],hf=({material:e,updateMaterial:t,readOnly:n})=>{const l=e.methods||[],[s,a]=z.useState(l.length>0?l[l.length-1].id:null),[i,o]=z.useState(!1);z.useEffect(()=>{l.length===0&&!n?b():!s&&l.length>0&&a(l[l.length-1].id)},[l.length,s]);const u=l.find(h=>h.id===s),c=(h,d,p)=>{n||t({...e,methods:l.map(x=>x.id===h?{...x,[d]:p}:x)})},b=()=>{if(n)return;const h=l.length>0?JSON.parse(JSON.stringify(l[l.length-1])):{};t({...e,methods:[...l,{...h,id:Ie(),version:`v${l.length+1}`,updatedAt:new Date().toISOString().slice(0,10),gradient:h.gradient||[{time:0,b:10},{time:20,b:90},{time:25,b:90},{time:25.1,b:10},{time:30,b:10}]}]})},f=h=>{if(n||!confirm("Delete?"))return;const d=l.filter(p=>p.id!==h);t({...e,methods:d}),s===h&&a(d.length>0?d[d.length-1].id:null)},m=(h,d,p,x)=>{n||c(h,"gradient",u.gradient.map((N,w)=>w===d?{...N,[p]:x}:N))},g=()=>{n||c(u.id,"gradient",[...u.gradient,{time:"",b:""}])},y=h=>{n||c(u.id,"gradient",u.gradient.filter((d,p)=>p!==h))};if(!u&&l.length===0)return r.jsx("div",{className:"text-center p-10 text-slate-400",children:"Initializing..."});if(!u)return r.jsx("div",{className:"text-center p-10 text-slate-400",children:"Loading Method..."});const S=i||u&&u.instrument&&!fo.includes(u.instrument);return r.jsxs("div",{className:"flex h-full bg-slate-50",children:[r.jsxs("div",{className:"w-64 border-r border-slate-200 bg-white flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[r.jsx("span",{className:"font-bold text-xs text-slate-500",children:"VERSIONS"}),!n&&r.jsx("button",{onClick:b,className:"text-brand-600",children:r.jsx(D,{name:"plus",size:14})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:l.slice().reverse().map(h=>r.jsxs("div",{onClick:()=>a(h.id),className:`p-3 rounded-lg text-sm cursor-pointer mb-1 ${s===h.id?"bg-purple-50 text-purple-700 font-bold border border-purple-200":"text-slate-600 hover:bg-slate-100"}`,children:[h.version,r.jsx("span",{className:"block text-[10px] font-normal text-slate-400",children:h.updatedAt})]},h.id))})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 custom-scrollbar",children:[r.jsxs("div",{className:"flex justify-between items-end border-b border-slate-200 pb-4",children:[r.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Method ",r.jsx("span",{className:"text-purple-600",children:u.version})]}),!n&&r.jsx("button",{onClick:()=>f(u.id),className:"text-rose-500 hover:text-rose-700",children:r.jsx(D,{name:"trash-2",size:18})})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[r.jsx("div",{className:"col-span-4 space-y-6",children:r.jsx(X,{title:"Conditions",icon:"activity",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:"Instrument"}),r.jsxs("select",{disabled:n,className:"w-full bg-slate-50 border border-slate-200 rounded p-1.5 text-sm outline-none",value:S?"Manual":u.instrument||"",onChange:h=>{h.target.value==="Manual"?(o(!0),c(u.id,"instrument","")):(o(!1),c(u.id,"instrument",h.target.value))},children:[r.jsx("option",{value:"",disabled:!0,children:"Select Instrument..."}),fo.map(h=>r.jsx("option",{value:h,children:h},h)),r.jsx("option",{value:"Manual",children:"Direct Input (Manual)"})]}),S&&r.jsx("div",{className:"mt-2 animate-in",children:r.jsx("input",{disabled:n,className:"w-full bg-white border border-brand-200 rounded p-1.5 text-sm outline-none",placeholder:"Enter Instrument Name",value:u.instrument,onChange:h=>c(u.id,"instrument",h.target.value),autoFocus:!0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:"Column"}),r.jsx("input",{disabled:n,className:"w-full bg-slate-50 border border-slate-200 rounded p-1.5 text-sm",value:u.column,onChange:h=>c(u.id,"column",h.target.value)})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:"Temp"}),r.jsx("input",{disabled:n,className:"w-full bg-slate-50 border border-slate-200 rounded p-1.5 text-sm",value:u.temp,onChange:h=>c(u.id,"temp",h.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:"Flow"}),r.jsx("input",{disabled:n,className:"w-full bg-slate-50 border border-slate-200 rounded p-1.5 text-sm",value:u.flowRate,onChange:h=>c(u.id,"flowRate",h.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:"UV (nm)"}),r.jsx("input",{disabled:n,className:"w-full bg-slate-50 border border-slate-200 rounded p-1.5 text-sm",value:u.wavelength,onChange:h=>c(u.id,"wavelength",h.target.value)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:"Eluent A/B"}),r.jsx("input",{disabled:n,className:"w-full bg-blue-50 border border-blue-100 rounded p-1.5 text-sm mb-1",value:u.mobilePhaseA,onChange:h=>c(u.id,"mobilePhaseA",h.target.value),placeholder:"A"}),r.jsx("input",{disabled:n,className:"w-full bg-emerald-50 border border-emerald-100 rounded p-1.5 text-sm",value:u.mobilePhaseB,onChange:h=>c(u.id,"mobilePhaseB",h.target.value),placeholder:"B"})]})]})})}),r.jsx("div",{className:"col-span-3",children:r.jsxs(X,{title:"Gradient",icon:"trending-up",className:"h-full",children:[r.jsx("div",{className:"overflow-hidden border border-slate-200 rounded-lg",children:r.jsxs("table",{className:"w-full text-center text-sm",children:[r.jsx("thead",{className:"bg-slate-100 text-xs text-slate-500",children:r.jsxs("tr",{children:[r.jsx("th",{children:"Time"}),r.jsx("th",{children:"A%"}),r.jsx("th",{children:"B%"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:u.gradient.map((h,d)=>r.jsxs("tr",{className:"border-b border-slate-50",children:[r.jsx("td",{children:r.jsx("input",{disabled:n,className:"w-full text-center bg-transparent",value:h.time,onChange:p=>m(u.id,d,"time",p.target.value)})}),r.jsx("td",{className:"text-blue-500 font-mono",children:(100-(parseFloat(h.b)||0)).toFixed(1)}),r.jsx("td",{children:r.jsx("input",{disabled:n,className:"w-full text-center bg-transparent font-bold text-emerald-600",value:h.b,onChange:p=>m(u.id,d,"b",p.target.value)})}),r.jsx("td",{children:!n&&r.jsx("button",{onClick:()=>y(d),className:"text-slate-300 hover:text-rose-500",children:""})})]},d))})]})}),!n&&r.jsx("button",{onClick:g,className:"w-full mt-2 py-1 bg-slate-100 text-slate-500 text-xs rounded hover:bg-slate-200",children:"+ Step"})]})}),r.jsx("div",{className:"col-span-5",children:r.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 h-full flex flex-col",children:[r.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-4",children:"Gradient Profile"}),r.jsx("div",{className:"flex-1 min-h-[200px]",children:r.jsx(xf,{gradient:u.gradient})})]})})]})]})]})},gf=({data:e,setData:t,title:n,className:l="h-[400px]",readOnly:s=!1})=>{const a=Array.isArray(e)?e:[],i=(f,m,g)=>{if(s)return;const y=a.map((S,h)=>{if(h===m){const d=[...S];return d[g]=f,d}return S});t(y)},o=(f,m,g)=>{if(s)return;f.preventDefault();const S=f.clipboardData.getData("text").split(/\r?\n/).filter(d=>d.trim()!=="");if(S.length===0)return;let h=a.map(d=>[...d]);S.forEach((d,p)=>{const x=m+p,N=d.split("	");if(x>=h.length){const w=h[0]?h[0].length:N.length;h.push(new Array(w).fill(""))}N.forEach((w,j)=>{const v=g+j;h[x]&&v<h[x].length&&(h[x][v]=w.trim())})}),t(h)},u=()=>{var f;s||t([...a,Array(((f=a[0])==null?void 0:f.length)||1).fill("")])},c=()=>{s||t(a.map((f,m)=>m===0?[...f,`Col ${f.length+1}`]:[...f,""]))},b=f=>{!s&&a.length>1&&t(a.filter((m,g)=>g!==f))};return r.jsxs("div",{className:`flex flex-col gap-2 mt-2 ${l}`,children:[r.jsxs("div",{className:"flex justify-between items-center bg-slate-100 p-2 rounded-t-lg border-b border-slate-200 shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:[r.jsx(D,{name:"grid",size:14})," ",n]}),!s&&r.jsxs("span",{className:"text-[10px] text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded border border-emerald-100 font-bold flex items-center gap-1",children:[r.jsx(D,{name:"copy",size:10})," Excel Paste (Ctrl+V)"]})]}),!s&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:u,className:"px-2 py-1 text-xs bg-white border border-slate-300 hover:bg-slate-50 rounded text-slate-600 transition shadow-sm",children:"+ Row"}),r.jsx("button",{onClick:c,className:"px-2 py-1 text-xs bg-white border border-slate-300 hover:bg-slate-50 rounded text-slate-600 transition shadow-sm",children:"+ Col"})]})]}),r.jsx("div",{className:"flex-1 overflow-auto border border-slate-200 rounded-b-lg bg-white custom-scrollbar shadow-inner",children:r.jsx("table",{className:"w-full border-collapse",children:r.jsx("tbody",{children:a.map((f,m)=>r.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[r.jsx("td",{className:"w-8 bg-slate-50 text-center text-slate-400 text-[10px] border-r border-slate-200 sticky left-0 z-10",children:m===0?"#":!s&&r.jsx("button",{onClick:()=>b(m),className:"text-rose-400 hover:text-rose-600 transition",children:""})}),f.map((g,y)=>r.jsx("td",{className:"border-r border-slate-100 min-w-[80px]",children:r.jsx("input",{disabled:s,className:`w-full bg-transparent px-2 py-1.5 text-sm outline-none focus:bg-blue-50 focus:text-blue-800 transition ${m===0?"font-bold text-slate-700 bg-slate-50 text-center":""} ${s?"cursor-default text-slate-500":"text-slate-800"}`,value:g||"",onChange:S=>i(S.target.value,m,y),onPaste:S=>o(S,m,y)})},y))]},m))})})})]})},ta=e=>new Promise(t=>{const n=new FileReader;n.readAsDataURL(e),n.onload=l=>{const s=new Image;s.src=l.target.result,s.onload=()=>{const a=document.createElement("canvas");let i=s.width,o=s.height;const u=1200,c=1200;i>o?i>u&&(o*=u/i,i=u):o>c&&(i*=c/o,o=c),a.width=i,a.height=o,a.getContext("2d").drawImage(s,0,0,i,o),t(a.toDataURL("image/jpeg",.85))}}}),Ve=({value:e,onChange:t,label:n,readOnly:l})=>{const[s,a]=z.useState(!1),i=async u=>{!l&&u.target.files[0]&&t(await ta(u.target.files[0]))},o=async u=>{if(l)return;const c=u.clipboardData.items;for(let b=0;b<c.length;b++)if(c[b].type.indexOf("image")!==-1){u.preventDefault();const f=c[b].getAsFile();t(await ta(f));break}};return r.jsx("div",{className:"flex flex-col gap-1 items-center w-full h-full",children:e?r.jsxs("div",{className:"relative group w-full h-full min-h-[80px]",children:[r.jsx("img",{src:e,className:"w-full h-full object-cover rounded-md border border-slate-200 cursor-zoom-in hover:border-brand-500 transition shadow-sm",onClick:()=>a(!0)}),!l&&r.jsx("button",{className:"absolute -top-2 -right-2 bg-white text-rose-500 border border-rose-100 rounded-full p-1 shadow-md opacity-0 group-hover:opacity-100 z-10 hover:scale-110 transition",onClick:u=>{u.stopPropagation(),t(null)},children:r.jsx(D,{name:"x",size:10})}),s&&r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/80 p-10 backdrop-blur-sm",onClick:()=>a(!1),children:r.jsx("img",{src:e,className:"max-w-full max-h-full rounded-lg shadow-2xl border-4 border-white"})})]}):r.jsxs("label",{className:`w-full h-full min-h-[80px] flex flex-col items-center justify-center border-2 border-dashed border-slate-300 rounded-md transition text-slate-400 bg-slate-50 ${l?"cursor-default opacity-50":"cursor-pointer hover:bg-white hover:border-brand-400 hover:text-brand-500 focus:border-brand-500 focus:bg-white focus:outline-none"}`,onPaste:o,tabIndex:l?-1:0,children:[r.jsx(D,{name:"image-plus",size:18}),r.jsx("span",{className:"mt-1 text-[10px]",children:n||(l?"No Image":"Paste / Drop")}),!l&&r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:i})]})})},po=({files:e,setFiles:t,label:n,readOnly:l})=>r.jsxs("div",{className:`mt-2 p-3 border border-dashed border-slate-300 rounded-lg bg-slate-50 h-full flex flex-col justify-center ${l?"opacity-70":"hover:border-slate-400 hover:bg-slate-100"} transition`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-xs font-semibold text-slate-500 flex gap-2 items-center",children:[r.jsx(D,{name:"paperclip",size:12})," ",n]}),!l&&r.jsxs("label",{className:"cursor-pointer bg-white border border-slate-300 text-slate-600 text-xs px-2 py-1 rounded hover:bg-slate-50 shadow-sm",children:["Upload ",r.jsx("input",{type:"file",className:"hidden",onChange:async s=>{s.target.files[0]&&t([...e,{name:s.target.files[0].name,data:await ta(s.target.files[0])}])}})]})]}),r.jsx("div",{className:"flex flex-col gap-1 overflow-y-auto max-h-24 custom-scrollbar",children:e.map((s,a)=>r.jsxs("div",{className:"flex justify-between items-center bg-white border border-slate-200 px-2 py-1.5 rounded text-xs shadow-sm",children:[r.jsx("span",{className:"text-blue-600 truncate cursor-pointer hover:underline",onClick:()=>{window.open().document.write('<iframe src="'+s.data+'" frameborder="0" style="width:100%;height:100%"></iframe>')},children:s.name}),!l&&r.jsx("button",{onClick:()=>t(e.filter((i,o)=>o!==a)),className:"text-slate-400 hover:text-rose-500",children:r.jsx(D,{name:"trash-2",size:12})})]},a))})]}),vf=({material:e,updateMaterial:t,readOnly:n})=>{var p,x,N,w,j;const[l,s]=z.useState(((p=e.lots[0])==null?void 0:p.id)||null),[a,i]=z.useState("chemical"),[o,u]=z.useState("main");z.useEffect(()=>{!l&&e.lots.length>0&&s(e.lots[0].id)},[e.lots,l]);const c=e.lots.find(v=>v.id===l),b=((x=e.specification)==null?void 0:x.metalElements)||Ml,f=(v,k)=>{n||t({...e,lots:e.lots.map(R=>R.id===l?{...R,[v]:k}:R)})},m=v=>{if(!v||v.length<4)return v;const k=v.map(U=>[...U]),R=1,P=2,E=3;let T=-1,I=-1;for(let U=1;U<k[E].length;U++){const V=parseFloat(k[E][U])||0;V>I&&(I=V,T=U)}const $=parseFloat(k[R][T])||0;if($>0)for(let U=1;U<k[P].length;U++){const V=parseFloat(k[R][U]);!isNaN(V)&&V>0?k[P][U]=(V/$).toFixed(2):k[P][U]=""}return k},g=v=>{n||(v==="PPN"?t({...e,lots:e.lots.map(k=>k.id===l?{...k,mixCount:3,comp1Label:"P1",comp2Label:"P2",comp3Label:"N"}:k)}):v==="PNN"&&t({...e,lots:e.lots.map(k=>k.id===l?{...k,mixCount:3,comp1Label:"P",comp2Label:"N1",comp3Label:"N2"}:k)}))},y=()=>{if(!n){const v={name:`LOT-${new Date().toISOString().slice(2,10).replace(/-/g,"")}-${e.lots.length+1}`},k=Cc(v);t({...e,lots:[...e.lots,k]}),s(k.id)}},h=c?o==="p"?{data:c.hplcGridP,key:"hplcGridP",title:`${c.comp1Label} Impurity Peaks`}:o==="n"?{data:c.hplcGridN,key:"hplcGridN",title:`${c.comp2Label} Impurity Peaks`}:o==="3"?{data:c.hplcGrid3,key:"hplcGrid3",title:`${c.comp3Label} Impurity Peaks`}:{data:c.hplcGrid,key:"hplcGrid",title:"Final Product Impurity Peaks"}:null,d=(v,k,R,P)=>r.jsxs("div",{className:`p-3 rounded-xl border ${k} ${R}`,children:[r.jsxs("div",{className:`text-xs font-bold text-center rounded py-1 mb-2 ${k.replace("/50","").replace("bg-","text-").replace("-50","-600")} ${k.replace("/50","").replace("bg-","bg-").replace("-50","-100")}`,children:[v," Component"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-[9px] text-slate-400 block font-bold",children:["Syn Yield ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("input",{disabled:n,className:"w-full bg-transparent text-sm font-bold text-slate-700 outline-none",value:c[`synYield${P}`],onChange:E=>f(`synYield${P}`,E.target.value),placeholder:"0"}),r.jsx("span",{className:"text-[10px] text-slate-400",children:"%"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-[9px] text-slate-400 block font-bold",children:["Sub Yield ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("input",{disabled:n,className:"w-full bg-transparent text-sm font-bold text-slate-700 outline-none",value:c[`subYield${P}`],onChange:E=>f(`subYield${P}`,E.target.value),placeholder:"0"}),r.jsx("span",{className:"text-[10px] text-slate-400",children:"%"})]})]})]}),r.jsxs("div",{className:`border-t ${R} pt-1`,children:[r.jsxs("label",{className:"text-[9px] text-slate-400 block font-bold",children:["Syn Purity ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("input",{disabled:n,className:"w-full bg-transparent text-lg font-black text-slate-800 outline-none",value:c[`hplcSyn${P}`],onChange:E=>f(`hplcSyn${P}`,E.target.value),placeholder:"0.00"}),r.jsx("span",{className:"text-[10px] text-slate-400",children:"%"})]})]}),r.jsxs("div",{className:`border-t ${R} pt-1`,children:[r.jsxs("label",{className:"text-[9px] text-slate-400 block font-bold",children:["Sub Purity ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("input",{disabled:n,className:"w-full bg-transparent text-lg font-black text-brand-600 outline-none",value:c[`hplcSub${P}`],onChange:E=>f(`hplcSub${P}`,E.target.value),placeholder:"0.00"}),r.jsx("span",{className:"text-[10px] text-slate-400",children:"%"})]})]}),r.jsxs("div",{className:`border-t ${R} pt-1`,children:[r.jsxs("label",{className:"text-[9px] text-slate-400 block font-bold",children:["D-Rate ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("input",{disabled:n,className:"w-full bg-transparent text-lg font-black text-amber-600 outline-none",value:c[`dRate${P}`],onChange:E=>f(`dRate${P}`,E.target.value),placeholder:"0"}),r.jsx("span",{className:"text-[10px] text-slate-400",children:"%"})]})]})]})]});return r.jsxs("div",{className:"flex h-full bg-slate-50",children:[r.jsxs("div",{className:"w-64 border-r border-slate-200 bg-white flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[r.jsx("span",{className:"font-bold text-xs text-slate-500",children:"SELECT LOT"}),!n&&r.jsx("button",{onClick:y,className:"text-brand-600 hover:bg-brand-50 rounded p-1",children:r.jsx(D,{name:"plus",size:14})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:e.lots.map(v=>r.jsx("div",{onClick:()=>s(v.id),className:`p-3 rounded-lg text-sm cursor-pointer flex justify-between ${l===v.id?"bg-blue-50 text-blue-700 font-bold border border-blue-200":"text-slate-600 hover:bg-slate-100"}`,children:v.name},v.id))})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 custom-scrollbar",children:c?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-end pb-4 border-b border-slate-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-slate-400 block mb-1 font-bold",children:"LOT ID"}),r.jsx("input",{disabled:n,className:"bg-transparent text-3xl font-black text-slate-800 outline-none w-full",value:c.name,onChange:v=>f("name",v.target.value)})]}),r.jsxs("div",{className:"flex gap-2 bg-slate-200 p-1 rounded-lg",children:[r.jsx("button",{onClick:()=>i("chemical"),className:`px-4 py-2 rounded text-sm font-bold transition ${a==="chemical"?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Chemical"}),r.jsx("button",{onClick:()=>i("device"),className:`px-4 py-2 rounded text-sm font-bold transition ${a==="device"?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Device"})]})]}),a==="chemical"?r.jsxs("div",{className:"grid grid-cols-12 gap-6 animate-in",children:[r.jsxs("div",{className:"col-span-12 glass-panel p-6 rounded-xl bg-white",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h4",{className:"text-slate-700 font-bold flex items-center gap-2",children:[r.jsx(D,{name:"activity",size:18})," HPLC Purity Analysis"]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-100 transition",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-brand-600 rounded cursor-pointer",checked:c.isMix,onChange:v=>{f("isMix",v.target.checked),u("main")},disabled:n}),r.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Mix Product"})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-200",children:[r.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"Method Ver."}),r.jsxs("select",{disabled:n,className:"bg-transparent text-xs font-mono text-brand-600 font-bold outline-none cursor-pointer",value:c.hplcMethodVersion,onChange:v=>f("hplcMethodVersion",v.target.value),children:[r.jsx("option",{value:"",children:"None"}),e.methods&&e.methods.map(v=>r.jsx("option",{value:v.version,children:v.version},v.id))]})]})]})]}),c.isMix?r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[r.jsxs("span",{className:"text-xs font-bold text-slate-500 mr-2 flex items-center gap-1",children:[r.jsx(D,{name:"git-merge",size:12})," Ratio"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("input",{disabled:n,className:"w-8 text-[10px] font-bold text-center bg-blue-100 text-blue-600 rounded border-none outline-none",value:c.comp1Label,onChange:v=>f("comp1Label",v.target.value)}),r.jsx("input",{disabled:n,type:"number",className:"bg-white border border-slate-300 rounded px-1 py-0.5 w-10 text-center text-xs font-bold outline-none",value:c.pRatio,onChange:v=>f("pRatio",v.target.value),placeholder:"0"})]}),r.jsx("span",{className:"text-slate-300",children:":"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("input",{disabled:n,className:"w-8 text-[10px] font-bold text-center bg-rose-100 text-rose-600 rounded border-none outline-none",value:c.comp2Label,onChange:v=>f("comp2Label",v.target.value)}),r.jsx("input",{disabled:n,type:"number",className:"bg-white border border-slate-300 rounded px-1 py-0.5 w-10 text-center text-xs font-bold outline-none",value:c.nRatio,onChange:v=>f("nRatio",v.target.value),placeholder:"0"})]}),c.mixCount===3&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-slate-300",children:":"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("input",{disabled:n,className:"w-8 text-[10px] font-bold text-center bg-emerald-100 text-emerald-600 rounded border-none outline-none",value:c.comp3Label,onChange:v=>f("comp3Label",v.target.value)}),r.jsx("input",{disabled:n,type:"number",className:"bg-white border border-slate-300 rounded px-1 py-0.5 w-10 text-center text-xs font-bold outline-none",value:c.mixRatio3,onChange:v=>f("mixRatio3",v.target.value),placeholder:"0"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[c.mixCount===3&&!n&&r.jsxs("div",{className:"flex bg-white rounded border border-slate-200 p-0.5",children:[r.jsx("button",{onClick:()=>g("PPN"),className:"px-2 py-0.5 text-[10px] font-bold text-slate-500 hover:text-brand-600 hover:bg-slate-50 rounded transition",title:"Set P1:P2:N",children:"PPN"}),r.jsx("div",{className:"w-px bg-slate-200 my-0.5"}),r.jsx("button",{onClick:()=>g("PNN"),className:"px-2 py-0.5 text-[10px] font-bold text-slate-500 hover:text-brand-600 hover:bg-slate-50 rounded transition",title:"Set P:N1:N2",children:"PNN"})]}),r.jsxs("div",{className:"flex bg-white rounded border border-slate-200 p-0.5",children:[r.jsx("button",{onClick:()=>f("mixCount",2),className:`px-2 py-0.5 text-[10px] font-bold rounded transition ${c.mixCount!==3?"bg-slate-800 text-white":"text-slate-400 hover:text-slate-600"}`,children:"2-Mix"}),r.jsx("button",{onClick:()=>f("mixCount",3),className:`px-2 py-0.5 text-[10px] font-bold rounded transition ${c.mixCount===3?"bg-slate-800 text-white":"text-slate-400 hover:text-slate-600"}`,children:"3-Mix"})]})]})]}),r.jsxs("div",{className:`grid gap-4 ${c.mixCount===3?"grid-cols-3":"grid-cols-2"}`,children:[d(c.comp1Label,"bg-blue-50/50","border-blue-100","P"),d(c.comp2Label,"bg-rose-50/50","border-rose-100","N"),c.mixCount===3&&d(c.comp3Label,"bg-emerald-50/50","border-emerald-100","3")]}),r.jsxs("div",{className:"flex gap-2 border-b border-slate-200 mt-6",children:[r.jsx("button",{onClick:()=>u("main"),className:`px-4 py-2 text-xs font-bold border-b-2 transition ${o==="main"?"border-slate-800 text-slate-800":"border-transparent text-slate-400 hover:text-slate-600"}`,children:"Final Mix"}),r.jsx("button",{onClick:()=>u("p"),className:`px-4 py-2 text-xs font-bold border-b-2 transition ${o==="p"?"border-blue-500 text-blue-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:c.comp1Label}),r.jsx("button",{onClick:()=>u("n"),className:`px-4 py-2 text-xs font-bold border-b-2 transition ${o==="n"?"border-rose-500 text-rose-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:c.comp2Label}),c.mixCount===3&&r.jsx("button",{onClick:()=>u("3"),className:`px-4 py-2 text-xs font-bold border-b-2 transition ${o==="3"?"border-emerald-500 text-emerald-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:c.comp3Label})]})]}):r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm font-bold text-slate-500",children:["Synthesis ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("input",{disabled:n,className:"bg-transparent text-2xl font-black text-slate-800 outline-none w-24 text-right",value:c.hplcSyn,onChange:v=>f("hplcSyn",v.target.value),placeholder:"0.0"}),r.jsx("span",{className:"text-sm font-medium text-slate-400 ml-1",children:"%"})]})]}),r.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm font-bold text-slate-500",children:["Sublimation ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("input",{disabled:n,className:"bg-transparent text-2xl font-black text-brand-600 outline-none w-24 text-right",value:c.hplcSub,onChange:v=>f("hplcSub",v.target.value),placeholder:"0.0"}),r.jsx("span",{className:"text-sm font-medium text-slate-400 ml-1",children:"%"})]})]}),r.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm font-bold text-amber-600",children:["D-Rate ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("input",{disabled:n,className:"bg-transparent text-2xl font-black text-amber-600 outline-none w-24 text-right",value:c.dRate,onChange:v=>f("dRate",v.target.value),placeholder:"0"}),r.jsx("span",{className:"text-sm font-medium text-slate-400 ml-1",children:"%"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsx(po,{files:c.hplcSynFiles,setFiles:v=>f("hplcSynFiles",v),label:"Synthesis Lots HPLC (PDFs)",readOnly:n}),r.jsx(po,{files:c.hplcSubFiles,setFiles:v=>f("hplcSubFiles",v),label:"Sublimation Lot HPLC (PDF)",readOnly:n})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Synthesis History"}),r.jsx("textarea",{disabled:n,className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm text-slate-700 outline-none",rows:"3",value:c.synHistory||"",onChange:v=>f("synHistory",v.target.value)})]}),r.jsx(gf,{data:h.data,setData:v=>{const k=m(v);f(h.key,k)},title:h.title,className:"h-64",readOnly:n},h.key)]}),r.jsxs("div",{className:"col-span-12 glass-panel p-6 rounded-xl bg-white",children:[r.jsxs("h4",{className:"text-slate-700 font-bold mb-4 flex items-center gap-2",children:[r.jsx(D,{name:"alert-triangle",size:18})," Impurity Analysis"]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Halogen (ppm)"}),r.jsx("div",{className:"flex gap-4",children:["f","cl","br"].map(v=>r.jsxs("div",{className:"flex items-center bg-slate-50 border border-slate-200 rounded-lg px-3 py-2",children:[r.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:v}),r.jsx("input",{disabled:n,className:"bg-transparent text-slate-800 font-bold outline-none w-16 text-right",placeholder:"0",value:c.halogen[v],onChange:k=>f("halogen",{...c.halogen,[v]:k.target.value})})]},v))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Metal (ppm)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(v=>{var k;return r.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded p-2 text-center min-w-[60px]",children:[r.jsx("span",{className:"text-[10px] text-slate-400 block font-bold mb-1",children:v}),r.jsx("input",{disabled:n,className:"w-full bg-transparent text-center font-bold text-slate-800 outline-none text-sm",value:((k=c.metalResults)==null?void 0:k[v])||"",onChange:R=>{const P={...c.metalResults||{}};P[v]=R.target.value,f("metalResults",P)},placeholder:"-"})]},v)})})]})]}),r.jsxs("div",{className:"col-span-12 grid grid-cols-2 gap-6",children:[r.jsxs(X,{title:"TGA Analysis",icon:"flame",color:"text-amber-600",action:null,children:[r.jsxs("div",{className:"flex gap-4 mb-3 p-2 bg-amber-50/50 rounded-lg border border-amber-100",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-[10px] font-bold text-amber-600 block mb-1",children:"Td 1% (C)"}),r.jsx("input",{disabled:n,className:"w-full bg-white border border-amber-200 rounded px-2 py-1 text-sm font-bold text-slate-700 outline-none focus:border-amber-500",value:c.td1,onChange:v=>f("td1",v.target.value),placeholder:"-"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-[10px] font-bold text-amber-600 block mb-1",children:"Td 5% (C)"}),r.jsx("input",{disabled:n,className:"w-full bg-white border border-amber-200 rounded px-2 py-1 text-sm font-bold text-slate-700 outline-none focus:border-amber-500",value:c.td5,onChange:v=>f("td5",v.target.value),placeholder:"-"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",style:{height:"160px"},children:[(N=c.tgaImages)==null?void 0:N.map((v,k)=>r.jsx(Ve,{value:v.src,onChange:R=>R?null:f("tgaImages",c.tgaImages.filter((P,E)=>E!==k)),readOnly:n},k)),r.jsx(Ve,{onChange:v=>v&&f("tgaImages",[...c.tgaImages||[],{src:v}]),label:"Add Graph",readOnly:n})]})]}),r.jsx(X,{title:"DSC Analysis",icon:"thermometer",color:"text-amber-600",action:null,children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",style:{height:"160px"},children:[(w=c.dscImages)==null?void 0:w.map((v,k)=>r.jsx(Ve,{value:v.src,onChange:R=>R?null:f("dscImages",c.dscImages.filter((P,E)=>E!==k)),readOnly:n},k)),r.jsx(Ve,{onChange:v=>v&&f("dscImages",[...c.dscImages||[],{src:v}]),label:"Add Graph",readOnly:n})]})})]})]}):r.jsxs("div",{className:"grid grid-cols-12 gap-6 animate-in",children:[r.jsxs("div",{className:"col-span-4 space-y-6",children:[r.jsxs(X,{title:"Efficiency",icon:"zap",color:"text-emerald-600",children:[r.jsx("input",{disabled:n,className:"text-5xl font-black text-slate-800 text-center w-full outline-none bg-transparent",value:c.ivlEff||"",onChange:v=>f("ivlEff",v.target.value)}),r.jsx("span",{className:"text-center block text-slate-400 text-sm",children:"%"})]}),r.jsxs(X,{title:"Lifetime",icon:"clock",color:"text-blue-600",children:[r.jsx("input",{disabled:n,className:"text-5xl font-black text-slate-800 text-center w-full outline-none bg-transparent",value:c.lifetime||"",onChange:v=>f("lifetime",v.target.value)}),r.jsx("span",{className:"text-center block text-slate-400 text-sm",children:"%"})]})]}),r.jsxs("div",{className:"col-span-8 bg-white p-6 rounded-xl border border-slate-200 h-full relative group",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsxs("h4",{className:"text-slate-700 font-bold flex items-center gap-2",children:[r.jsx(D,{name:"image",size:16})," Evaluation Data"]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",style:{gridAutoRows:"150px"},children:[(j=c.deviceImages)==null?void 0:j.map((v,k)=>r.jsx(Ve,{value:v.src,onChange:R=>R?null:f("deviceImages",c.deviceImages.filter((P,E)=>E!==k)),readOnly:n},k)),r.jsx(Ve,{onChange:v=>v&&f("deviceImages",[...c.deviceImages||[],{src:v}]),label:"Add Plot",readOnly:n})]})]})]})]}):r.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-slate-400 gap-4",children:[r.jsx(D,{name:"flask-conical",size:48,className:"opacity-20"}),r.jsx("p",{children:"No Analysis Lot selected."})]})})]})},yf=({value:e,onChange:t,min:n=80,max:l=400})=>r.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-lg border border-slate-200",title:"Adjust Card Size",onClick:s=>s.stopPropagation(),children:[r.jsx(D,{name:"maximize-2",size:12,className:"text-slate-400"}),r.jsx("input",{type:"range",min:n,max:l,value:e,onChange:s=>t(s.target.value),className:"w-16 h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-brand-500"})]}),jf=({material:e,updateMaterial:t,readOnly:n})=>{const[l,s]=z.useState("ampoule"),[a,i]=z.useState(100),o=e.residueData||[],u=()=>{n||t({...e,residueData:[...o,{id:Ie(),lotId:"",hplc:"",residueImg:null,deviceImg:null,lifetime:""}]})},c=(f,m,g)=>{n||t({...e,residueData:o.map(y=>y.id===f?{...y,[m]:g}:y)})},b=f=>{!n&&confirm("Delete?")&&t({...e,residueData:o.filter(m=>m.id!==f)})};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx("button",{onClick:()=>s("ampoule"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${l==="ampoule"?"bg-brand-600 text-white":"bg-slate-200 text-slate-500 hover:text-slate-700"}`,children:"Ampoule Test"}),r.jsx("button",{onClick:()=>s("residue"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${l==="residue"?"bg-brand-600 text-white":"bg-slate-200 text-slate-500 hover:text-slate-700"}`,children:"Residue Test"})]}),l==="ampoule"?r.jsx(X,{title:"Ampoule Thermal Stability",icon:"thermometer",color:"text-amber-600",children:r.jsxs("table",{className:"w-full text-left border-collapse text-sm",children:[r.jsx("thead",{className:"text-slate-500 border-b border-slate-200 bg-slate-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Step"}),r.jsx("th",{className:"p-3",children:"Temp"}),r.jsx("th",{className:"p-3",children:"HPLC"}),r.jsx("th",{className:"p-3",children:"Image"}),r.jsx("th",{className:"p-3",children:"Lifetime"}),r.jsx("th",{className:"p-3",children:"Plot"})]})}),r.jsx("tbody",{children:(e.thermalData||[]).map((f,m)=>r.jsxs("tr",{className:"border-b border-slate-100",children:[r.jsx("td",{className:"p-3 font-bold text-slate-500",children:m+1}),r.jsx("td",{className:"p-3",children:r.jsx("input",{disabled:n,className:"bg-white border border-slate-300 rounded p-1 w-full text-center",value:f.temp,onChange:g=>{const y=[...e.thermalData];y[m].temp=g.target.value,t({...e,thermalData:y})}})}),r.jsx("td",{className:"p-3",children:r.jsx("input",{disabled:n,className:"bg-white border border-slate-300 rounded p-1 w-full text-center",value:f.hplc,onChange:g=>{const y=[...e.thermalData];y[m].hplc=g.target.value,t({...e,thermalData:y})}})}),r.jsx("td",{className:"p-3 h-24",children:r.jsx(Ve,{value:f.hplcImg,onChange:g=>{const y=[...e.thermalData];y[m].hplcImg=g,t({...e,thermalData:y})},label:"Img",readOnly:n})}),r.jsx("td",{className:"p-3",children:r.jsx("input",{disabled:n,className:"bg-white border border-slate-300 rounded p-1 w-full text-center",value:f.device,onChange:g=>{const y=[...e.thermalData];y[m].device=g.target.value,t({...e,thermalData:y})}})}),r.jsx("td",{className:"p-3 h-24",children:r.jsx(Ve,{value:f.deviceImg,onChange:g=>{const y=[...e.thermalData];y[m].deviceImg=g,t({...e,thermalData:y})},label:"Plot",readOnly:n})})]},m))})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h4",{className:"text-lg font-bold text-slate-700 flex items-center gap-2",children:[r.jsx(D,{name:"thermometer",className:"text-rose-500"})," Residue Evaluation"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(yf,{value:a,onChange:i}),!n&&r.jsxs("button",{onClick:u,className:"bg-brand-600 px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-brand-500 text-white transition",children:[r.jsx(D,{name:"plus",size:14})," Add Test"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.map((f,m)=>r.jsxs(X,{className:"relative",children:[!n&&r.jsx("button",{onClick:()=>b(f.id),className:"absolute top-4 right-14 text-slate-400 hover:text-rose-500",children:r.jsx(D,{name:"trash-2",size:16})}),r.jsxs("h5",{className:"text-sm font-bold text-slate-500 mb-4 uppercase",children:["Test #",m+1]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Lot No."}),r.jsx("input",{disabled:n,className:"w-full bg-white border border-slate-300 rounded p-2 text-slate-700 outline-none",placeholder:"Enter Lot No.",value:f.lotId,onChange:g=>c(f.id,"lotId",g.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-brand-600 uppercase block mb-1",children:"HPLC Purity (%)"}),r.jsx("input",{disabled:n,className:"w-full bg-white border border-slate-300 rounded p-2 text-slate-800 font-bold",placeholder:"99.9",value:f.hplc,onChange:g=>c(f.id,"hplc",g.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-bold text-emerald-600 uppercase block mb-1",children:"Lifetime (%)"}),r.jsx("input",{disabled:n,className:"w-full bg-white border border-slate-300 rounded p-2 text-slate-800 font-bold",placeholder:"100",value:f.lifetime,onChange:g=>c(f.id,"lifetime",g.target.value)})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",style:{height:`${a}px`},children:[r.jsx("div",{className:"h-full bg-slate-50 border border-slate-200 rounded overflow-hidden",children:r.jsx(Ve,{value:f.residueImg,onChange:g=>c(f.id,"residueImg",g),label:"Residue",readOnly:n})}),r.jsx("div",{className:"h-full bg-slate-50 border border-slate-200 rounded overflow-hidden",children:r.jsx(Ve,{value:f.deviceImg,onChange:g=>c(f.id,"deviceImg",g),label:"Device",readOnly:n})})]})]})]},f.id)),o.length===0&&r.jsx("div",{className:"text-center py-10 text-slate-400 border border-dashed border-slate-300 rounded-xl",children:"No residue tests added."})]})]})]})},bf=({material:e,updateMaterial:t,readOnly:n})=>{const l=e.impurityData.peaks,s=["rt","rrt","mw","content"],a=(f,m,g=-1)=>{if(n)return;const y=e.lots.map(S=>{let h=(S.hplcGrid||[]).map(d=>[...d||[]]);for(;h.length<4;)h.push([]);if(m==="INSERT")h.forEach((d,p)=>{for(;d.length<=g+1;)d.push("");const x=p===0?"Peak":"";d.splice(g+1,0,x)});else if(m==="DELETE")h.forEach(d=>{d.length>g+1&&d.splice(g+1,1)});else if(m==="APPEND"){const d=h[0].length,x=f.length+1-d;x>0&&h.forEach((N,w)=>{for(let j=0;j<x;j++)N.push(w===0?"Peak":"")})}return h[0]=["Parameter",...f.map((d,p)=>`Peak ${p+1}`)],{...S,hplcGrid:h}});t({...e,impurityData:{...e.impurityData,peaks:f},lots:y})},i=f=>{n||t({...e,impurityData:{...e.impurityData,peaks:f}})},o=f=>{const m={id:Ie(),rt:"",rrt:"",mw:"",content:""},g=[...l];g.splice(f,0,m),a(g,"INSERT",f)},u=f=>{if(confirm("Delete this peak column? This will remove corresponding data from ALL lots.")){const m=l.filter((g,y)=>y!==f);a(m,"DELETE",f)}},c=()=>{const f=[...l,{id:Ie(),rt:"",rrt:"",mw:"",content:""}];a(f,"APPEND")},b=(f,m,g)=>{if(n)return;f.preventDefault();const S=f.clipboardData.getData("text").split(/\r?\n/).filter(p=>p.trim()!=="");if(S.length===0)return;const h=l.map(p=>({...p}));let d=!1;S.forEach((p,x)=>{const N=m+x;if(N>=s.length)return;const w=s[N];p.split("	").forEach((v,k)=>{const R=g+k;for(;h.length<=R;)h.push({id:Ie(),rt:"",rrt:"",mw:"",content:""}),d=!0;h[R]&&(h[R][w]=v.trim())})}),d?a(h,"APPEND"):i(h)};return r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"w-full",children:r.jsxs(X,{title:"Impurity Profile Identification",icon:"fingerprint",color:"text-purple-600",children:[!n&&r.jsx("div",{className:"absolute top-4 right-16 z-20",children:r.jsxs("button",{type:"button",onClick:f=>{f.stopPropagation(),c()},className:"bg-purple-600 px-3 py-1 rounded text-sm text-white hover:bg-purple-700 shadow-sm flex items-center gap-1 transition",children:[r.jsx(D,{name:"plus",size:12})," Append Peak"]})}),r.jsx("div",{className:"mt-4 border border-slate-200 rounded-xl shadow-sm overflow-x-auto custom-scrollbar",children:r.jsxs("table",{className:"w-full text-sm text-center border-collapse whitespace-nowrap",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"bg-slate-100 p-3 border-r border-b border-slate-200 w-32 sticky left-0 z-30 text-slate-500 shadow-sm",children:"Property"}),l.map((f,m)=>r.jsx("th",{className:"bg-slate-50 p-2 border-r border-b border-slate-200 min-w-[140px] group relative",children:r.jsxs("div",{className:"flex justify-between items-center px-1",children:[!n&&r.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),o(m)},className:"p-1 rounded hover:bg-slate-200 text-slate-400 hover:text-brand-600 transition",title:"Insert Peak Here",children:r.jsx(D,{name:"plus",size:12})}),r.jsxs("span",{className:"text-brand-600 font-bold",children:["Peak ",m+1]}),!n&&r.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),u(m)},className:"p-1 rounded hover:bg-slate-200 text-slate-400 hover:text-rose-500 transition",title:"Delete Peak",children:r.jsx(D,{name:"trash-2",size:12})})]})},f.id))]})}),r.jsxs("tbody",{children:[s.map((f,m)=>r.jsxs("tr",{children:[r.jsx("td",{className:"bg-slate-50 p-3 border-r border-b border-slate-200 sticky left-0 font-bold text-slate-600 uppercase z-20 shadow-sm",children:f}),l.map((g,y)=>r.jsx("td",{className:"p-0 border-r border-b border-slate-200",children:r.jsx("input",{disabled:n,className:"w-full p-3 bg-transparent text-center outline-none hover:bg-slate-50 transition",value:g[f],onChange:S=>{const h=l.map((d,p)=>p===y?{...d,[f]:S.target.value}:d);i(h)},onPaste:S=>b(S,m,y)})},g.id))]},f)),r.jsxs("tr",{children:[r.jsx("td",{className:"bg-slate-50 p-3 border-r border-slate-200 sticky left-0 font-bold text-slate-600 z-20 shadow-sm",children:"Structure"}),l.map((f,m)=>r.jsx("td",{className:"p-2 border-r border-slate-200 h-32",children:r.jsx(Ve,{value:f.structureImg,onChange:g=>{const y=l.map((S,h)=>h===m?{...S,structureImg:g}:S);i(y)},label:"Img",readOnly:n})},f.id))]})]})]})})]})})})},Nf=({material:e,updateMaterial:t,readOnly:n})=>{const[l,s]=z.useState("spec"),a=i=>`px-3 py-1.5 rounded-lg text-xs font-bold transition flex items-center gap-2 border ${l===i?"bg-slate-800 text-white border-slate-800 shadow-md":"bg-white border-slate-200 text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`;return r.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[r.jsxs("div",{className:"px-6 pt-4 pb-2 flex gap-2 shrink-0 overflow-x-auto border-b border-slate-200/50",children:[r.jsxs("button",{onClick:()=>s("spec"),className:a("spec"),children:[r.jsx(D,{name:"file-text",size:14})," Specification"]}),r.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1 self-center"}),r.jsxs("button",{onClick:()=>s("method"),className:a("method"),children:[r.jsx(D,{name:"activity",size:14})," HPLC Method"]}),r.jsxs("button",{onClick:()=>s("lot"),className:a("lot"),children:[r.jsx(D,{name:"flask-conical",size:14})," Lot Analysis"]}),r.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1 self-center"}),r.jsxs("button",{onClick:()=>s("thermal"),className:a("thermal"),children:[r.jsx(D,{name:"thermometer",size:14})," Thermal Test"]}),r.jsxs("button",{onClick:()=>s("impurity"),className:a("impurity"),children:[r.jsx(D,{name:"alert-triangle",size:14})," Impurity Profile"]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[l==="spec"&&r.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar",children:r.jsx(mf,{material:e,updateMaterial:t,readOnly:n})}),l==="method"&&r.jsx("div",{className:"h-full",children:r.jsx(hf,{material:e,updateMaterial:t,readOnly:n})}),l==="lot"&&r.jsx("div",{className:"h-full",children:r.jsx(vf,{material:e,updateMaterial:t,readOnly:n})}),l==="thermal"&&r.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar",children:r.jsx(jf,{material:e,updateMaterial:t,readOnly:n})}),l==="impurity"&&r.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar",children:r.jsx(bf,{material:e,updateMaterial:t,readOnly:n})})]})]})},Wt=({data:e,dataKey:t,color:n,label:l,height:s=150,formatVal:a=i=>i})=>{if(!e||e.length<2)return r.jsxs("div",{className:"flex flex-col h-full bg-slate-50 rounded-lg border border-slate-200 p-4 items-center justify-center text-slate-400",children:[r.jsx(D,{name:"bar-chart-2",size:24,className:"mb-2 opacity-50"}),r.jsx("span",{className:"text-xs",children:"Need 2+ Lots"})]});const i=e.map(g=>parseFloat(g[t])||0),o=Math.min(...i)*.98,c=Math.max(...i)*1.02-o||1,b=(g,y)=>[y/(i.length-1)*100,100-(g-o)/c*80-10],m=i.map((g,y)=>b(g,y)).map((g,y)=>y===0?`M ${g[0]},${g[1]}`:`L ${g[0]},${g[1]}`).join(" ");return r.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg border border-slate-200 p-4 relative overflow-hidden group hover:border-slate-300 transition-colors shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2 z-10 relative",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:l}),r.jsx("div",{className:"text-lg font-bold text-slate-800 mt-0.5",children:a(i[i.length-1])})]}),r.jsx("div",{className:`text-xs px-1.5 py-0.5 rounded font-bold ${i[i.length-1]>=i[i.length-2]?"text-emerald-600 bg-emerald-100":"text-rose-600 bg-rose-100"}`,children:i.length>1&&(i[i.length-1]>=i[i.length-2]?"":"")})]}),r.jsx("div",{className:"flex-1 relative w-full min-h-[60px]",children:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[r.jsx("path",{d:m,fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke"}),i.map((g,y)=>{const[S,h]=b(g,y);return r.jsxs("g",{className:"group/point",children:[r.jsx("circle",{cx:S,cy:h,r:"4",fill:n,stroke:"white",strokeWidth:"2",className:"opacity-0 group-hover/point:opacity-100 transition-opacity cursor-pointer"}),r.jsxs("title",{children:[e[y].name,": ",a(g)]})]},y)})]})})]})},wf=({material:e,updateMaterial:t,readOnly:n})=>{const[l,s]=z.useState(e.lots.length>0?[e.lots[0].id]:[]),[a,i]=z.useState(!1),[o,u]=z.useState("main"),c=z.useMemo(()=>{let j="hplcGrid";o==="p"?j="hplcGridP":o==="n"?j="hplcGridN":o==="3"&&(j="hplcGrid3");const v=e.lots.map(k=>({...k,hplcGrid:k[j]}));return Ec(v)},[e.lots,o]),b=z.useMemo(()=>c.map(j=>j.rrt),[c]),f=(j,v,k)=>{n||t({...e,lots:e.lots.map(R=>R.id===j?{...R,[v]:k}:R)})},m=j=>s(v=>v.includes(j)?v.filter(k=>k!==j):[...v,j]),g=(j,v,k="%",R="text-slate-700")=>j.isMix?r.jsxs("div",{className:"flex flex-col text-[10px] leading-tight",children:[r.jsxs("span",{className:"text-blue-600 font-bold",children:[j.comp1Label,": ",j[`${v}P`]||"-",k]}),r.jsxs("span",{className:"text-rose-600 font-bold",children:[j.comp2Label,": ",j[`${v}N`]||"-",k]}),j.mixCount===3&&r.jsxs("span",{className:"text-emerald-600 font-bold",children:[j.comp3Label,": ",j[`${v}3`]||"-",k]})]}):r.jsxs("span",{className:`font-mono font-bold ${R}`,children:[j[v]||"-",k]}),y=j=>j.isMix?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsxs("span",{className:"text-[10px] text-slate-500 font-bold",children:[j.comp1Label,"/",j.comp2Label]}),r.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-0.5 rounded text-xs font-bold",children:[j.pRatio,":",j.nRatio]})]}):"-",S=j=>{const{f:v,cl:k,br:R}=j.halogen||{};return!v&&!k&&!R?"-":r.jsxs("div",{className:"text-[10px] font-mono flex flex-col gap-0.5",children:[r.jsxs("span",{className:"text-slate-600",children:["F: ",v||0]}),r.jsxs("span",{className:"text-slate-600",children:["Cl: ",k||0]})]})},h=j=>{var P,E;const v=((P=e.specification)==null?void 0:P.metal)||{},k=((E=e.specification)==null?void 0:E.metalElements)||Ml;let R=!1;return k.forEach(T=>{var I;(parseFloat((I=j.metalResults)==null?void 0:I[T])||0)>parseFloat(v[T]||9999)&&(R=!0)}),R?r.jsx("span",{className:"text-[10px] font-bold text-rose-500 bg-rose-50 px-2 py-1 rounded",children:"Fail"}):r.jsx("span",{className:"text-[10px] font-bold text-emerald-500 bg-emerald-50 px-2 py-1 rounded",children:"Pass"})},d=e.lots.find(j=>j.isMix),p=(d==null?void 0:d.comp1Label)||"Comp 1",x=(d==null?void 0:d.comp2Label)||"Comp 2",N=(d==null?void 0:d.comp3Label)||"Comp 3",w=!!d;return r.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar bg-slate-50 p-6 space-y-6",children:[r.jsx(X,{title:"Lot Comparison History",icon:"layers",children:r.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg bg-white custom-scrollbar",children:r.jsxs("table",{className:"w-full text-sm text-left whitespace-nowrap",children:[r.jsx("thead",{className:"bg-slate-100 text-slate-600 uppercase text-xs font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 sticky left-0 z-20 bg-slate-100 border-r border-slate-200 shadow-sm",children:"Lot No."}),r.jsx("th",{className:"p-3 w-32",children:"Period"}),r.jsx("th",{className:"p-3",children:"Syn Site"}),r.jsx("th",{className:"p-3",children:"Sub Site"}),r.jsx("th",{className:"p-3",children:"Syn %"}),r.jsx("th",{className:"p-3",children:"Sub %"}),r.jsx("th",{className:"p-3 text-purple-600",children:"Purity"}),r.jsx("th",{className:"p-3 text-amber-600",children:"D-Rate"}),r.jsx("th",{className:"p-3",children:"Mix"}),r.jsx("th",{className:"p-3 text-blue-600",children:"Output"}),r.jsx("th",{className:"p-3",children:"Cost"}),r.jsx("th",{className:"p-3",children:"Halogen"}),r.jsx("th",{className:"p-3",children:"Metal"}),r.jsx("th",{className:"p-3 text-emerald-600",children:"Eff"}),r.jsx("th",{className:"p-3 text-blue-600",children:"Life"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:e.lots.map(j=>r.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[r.jsx("td",{className:"p-3 font-bold text-slate-800 sticky left-0 bg-white z-10 border-r border-slate-100 shadow-sm",children:j.name}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("input",{type:"date",disabled:n,className:"bg-transparent text-[10px] text-slate-500 outline-none w-full",value:j.synDateStart,onChange:v=>f(j.id,"synDateStart",v.target.value)}),r.jsx("input",{type:"date",disabled:n,className:"bg-transparent text-[10px] text-slate-500 outline-none w-full",value:j.synDateEnd,onChange:v=>f(j.id,"synDateEnd",v.target.value)})]})}),r.jsx("td",{className:"p-3",children:r.jsx("input",{disabled:n,className:"bg-transparent w-20 outline-none text-xs",value:j.synSite,onChange:v=>f(j.id,"synSite",v.target.value),placeholder:"-"})}),r.jsx("td",{className:"p-3",children:r.jsx("input",{disabled:n,className:"bg-transparent w-20 outline-none text-xs",value:j.subSite,onChange:v=>f(j.id,"subSite",v.target.value),placeholder:"-"})}),r.jsx("td",{className:"p-3 text-center",children:g(j,"synYield","%")}),r.jsx("td",{className:"p-3 text-center",children:g(j,"subYield","%")}),r.jsx("td",{className:"p-3 text-center",children:g(j,"hplcSub","%","text-purple-600")}),r.jsx("td",{className:"p-3 text-center",children:g(j,"dRate","%","text-amber-600")}),r.jsx("td",{className:"p-3 text-center",children:y(j)}),r.jsxs("td",{className:"p-3 font-mono font-bold text-blue-600",children:[j.actualOutput,"g"]}),r.jsxs("td",{className:"p-3 font-mono text-slate-500",children:["",yn(j.unitCost)]}),r.jsx("td",{className:"p-3",children:S(j)}),r.jsx("td",{className:"p-3 text-center",children:h(j)}),r.jsxs("td",{className:"p-3 font-bold text-emerald-600",children:[j.ivlEff,"%"]}),r.jsxs("td",{className:"p-3 font-bold text-blue-600",children:[j.lifetime,"%"]})]},j.id))})]})})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"h-48",children:r.jsx(Wt,{data:e.lots,dataKey:"synYield",color:"#3b82f6",label:"Syn Yield (%)",formatVal:j=>`${j}%`})}),r.jsx("div",{className:"h-48",children:r.jsx(Wt,{data:e.lots,dataKey:"subYield",color:"#f59e0b",label:"Sub Yield (%)",formatVal:j=>`${j}%`})}),r.jsx("div",{className:"h-48",children:r.jsx(Wt,{data:e.lots,dataKey:"hplcSub",color:"#a855f7",label:"Purity (%)",formatVal:j=>`${j}%`})}),r.jsx("div",{className:"h-48",children:r.jsx(Wt,{data:e.lots,dataKey:"hplcSub",color:"#ec4899",label:"Sub Purity (%)",formatVal:j=>`${j}%`})}),r.jsx("div",{className:"h-48",children:r.jsx(Wt,{data:e.lots,dataKey:"unitCost",color:"#10b981",label:"Unit Cost",formatVal:j=>`${yn(j)}`})}),r.jsx("div",{className:"h-48",children:r.jsx(Wt,{data:e.lots,dataKey:"lifetime",color:"#0ea5e9",label:"Device Life (%)",formatVal:j=>`${j}%`})})]}),r.jsxs(X,{title:"Impurity Comparison (Row: Lot / Col: RRT)",icon:"git-branch",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>u("main"),className:`px-3 py-1 text-xs font-bold rounded-lg border transition ${o==="main"?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:"Final Mix"}),w&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>u("p"),className:`px-3 py-1 text-xs font-bold rounded-lg border transition ${o==="p"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-500 border-slate-200 hover:bg-blue-50"}`,children:p}),r.jsx("button",{onClick:()=>u("n"),className:`px-3 py-1 text-xs font-bold rounded-lg border transition ${o==="n"?"bg-rose-600 text-white border-rose-600":"bg-white text-slate-500 border-slate-200 hover:bg-rose-50"}`,children:x}),d.mixCount===3&&r.jsx("button",{onClick:()=>u("3"),className:`px-3 py-1 text-xs font-bold rounded-lg border transition ${o==="3"?"bg-emerald-600 text-white border-emerald-600":"bg-white text-slate-500 border-slate-200 hover:bg-emerald-50"}`,children:N})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-200 transition select-none",onClick:()=>i(!a),children:[r.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"Ref Lots:"}),r.jsxs("span",{className:"text-xs text-brand-600 font-bold",children:[l.length," Selected"]}),r.jsx(D,{name:"chevron-down",size:12})]}),a&&r.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white border border-slate-200 rounded-xl shadow-xl z-50 p-2 animate-in flex flex-col gap-1",children:[r.jsx("div",{className:"text-[10px] font-bold text-slate-400 px-2 pb-1 border-b border-slate-100 mb-1",children:"Select References"}),e.lots.map(j=>r.jsxs("div",{onClick:v=>{v.stopPropagation(),m(j.id)},className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition ${l.includes(j.id)?"bg-brand-50":"hover:bg-slate-50"}`,children:[r.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${l.includes(j.id)?"bg-brand-600 border-brand-600":"border-slate-300 bg-white"}`,children:l.includes(j.id)&&r.jsx(D,{name:"check",size:10,className:"text-white"})}),r.jsx("span",{className:`text-xs font-medium truncate ${l.includes(j.id)?"text-brand-700":"text-slate-600"}`,children:j.name})]},j.id)),r.jsx("div",{className:"pt-2 border-t border-slate-100 mt-1",children:r.jsx("button",{onClick:j=>{j.stopPropagation(),i(!1)},className:"w-full text-center text-xs font-bold text-slate-500 hover:text-slate-800 py-1",children:"Close"})})]}),a&&r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})]}),r.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg custom-scrollbar",children:r.jsxs("table",{className:"w-full text-xs text-right border-collapse whitespace-nowrap",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-slate-100 text-slate-500 border-b border-slate-200",children:[r.jsx("th",{className:"p-3 text-left font-bold w-40 sticky left-0 bg-slate-100 z-10 border-r border-slate-200 shadow-sm",children:"Lot ID"}),b.map(j=>r.jsxs("th",{className:"p-3 font-bold min-w-[80px] border-l border-slate-200 text-brand-600",children:["RRT ",j.toFixed(2)]},j))]})}),r.jsxs("tbody",{children:[e.lots.map(j=>{const v=l.includes(j.id);return r.jsxs("tr",{className:`hover:bg-slate-50 border-b border-slate-100 ${v?"bg-brand-50/30":""}`,children:[r.jsx("td",{className:"p-3 text-left font-bold sticky left-0 bg-white border-r border-slate-200 shadow-sm z-10",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:j.name}),v&&r.jsx("span",{className:"text-[9px] bg-brand-200 text-brand-700 px-1.5 rounded-full",children:"Ref"})]})}),b.map(k=>{const R=c.find(U=>U.rrt===k),P=R?R.contents[j.id]:void 0,E=l.map(U=>(R==null?void 0:R.contents[U])||0),T=E.length>0?Math.max(...E):0,$=!(k>=.95&&k<=1.05)&&!v&&(P||0)>T&&l.length>0;return r.jsx("td",{className:`p-3 border-l border-slate-100 ${$?"text-rose-600 font-bold bg-rose-50/50":"text-slate-500"}`,children:P!==void 0?`${P}%`:"-"},k)})]},j.id)}),b.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:2,className:"p-6 text-center text-slate-400 italic",children:"No impurity peaks found. Please add peak data in Analysis Tab."})})]})]})})]})]})},Sf=({material:e,updateMaterial:t,readOnly:n,globalInventory:l=[],updateGlobalInventory:s})=>{const[a,i]=z.useState(""),o=Array.isArray(e.inventory)?e.inventory:[],u=m=>{if(n)return;if(o.find(y=>y.masterId===m.id)){alert("Already added to this project.");return}const g={id:Ie(),masterId:m.id,name:m.name,casNo:m.casNo||"",purity:m.purity||"",unit:m.unit||"g",projectStock:0,location:"",note:""};t({...e,inventory:[...o,g]})},c=(m,g,y)=>{if(n)return;const S=o.map(h=>h.id===m?{...h,[g]:y}:h);t({...e,inventory:S})},b=m=>{n||t({...e,inventory:o.filter(g=>g.id!==m)})},f=l.filter(m=>(m.name||"").toLowerCase().includes(a.toLowerCase())||(m.casNo||"").includes(a)||(m.category||"").toLowerCase().includes(a.toLowerCase()));return r.jsxs("div",{className:"flex h-full gap-6 p-6 bg-slate-50",children:[r.jsxs("div",{className:"w-1/2 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[r.jsx(D,{name:"database",size:16,className:"text-slate-400"})," Master DB Source"]}),r.jsxs("div",{className:"relative",children:[r.jsx(D,{name:"search",size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",className:"pl-8 pr-3 py-1.5 rounded-lg border border-slate-200 text-xs outline-none focus:border-brand-500 w-48 shadow-sm",placeholder:"Search Name or CAS...",value:a,onChange:m=>i(m.target.value)})]})]}),r.jsx(X,{className:"flex-1 p-0 overflow-hidden border border-slate-200 shadow-sm",children:r.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar bg-white",children:r.jsxs("table",{className:"w-full text-xs text-left",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200 uppercase font-semibold sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 w-10 text-center"}),r.jsx("th",{className:"px-3 py-2",children:"Material / CAS No."}),r.jsx("th",{className:"px-3 py-2 w-20",children:"Purity"}),r.jsxs("th",{className:"px-3 py-2 w-24 text-right",children:["Available ",r.jsx("span",{className:"text-[9px] normal-case opacity-70",children:"(Total)"})]}),r.jsx("th",{className:"px-3 py-2 w-12"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:f.map(m=>{const g=o.find(x=>x.masterId===m.id),y=!!g,S=g&&parseFloat(g.projectStock)||0,h=parseFloat(m.currentStock)||0,d=h-S,p=d<0;return r.jsxs("tr",{className:`hover:bg-slate-50 transition ${y?"bg-blue-50/30":""}`,children:[r.jsx("td",{className:"px-3 py-2 text-center",children:r.jsx("div",{className:`w-1.5 h-1.5 rounded-full mx-auto ${d<10?"bg-rose-500":"bg-emerald-500"}`})}),r.jsxs("td",{className:"px-3 py-2",children:[r.jsx("div",{className:"font-bold text-slate-700",children:m.name}),r.jsx("div",{className:"text-[10px] text-slate-400 font-mono",children:m.casNo||"-"})]}),r.jsxs("td",{className:"px-3 py-2 text-slate-600",children:[m.purity,"%"]}),r.jsxs("td",{className:"px-3 py-2 text-right",children:[r.jsxs("div",{className:`font-bold ${p?"text-rose-600":"text-emerald-700"}`,children:[d.toFixed(1)," ",r.jsxs("span",{className:"text-[10px] font-normal text-slate-400",children:["/ ",h]})]}),r.jsx("div",{className:"text-[9px] text-slate-400",children:m.unit})]}),r.jsx("td",{className:"px-3 py-2 text-center",children:!n&&r.jsx("button",{onClick:()=>u(m),disabled:y,className:`p-1.5 rounded transition ${y?"text-blue-300 cursor-default":"text-slate-400 hover:text-brand-600 hover:bg-brand-50"}`,children:r.jsx(D,{name:y?"check-circle":"plus-circle",size:16})})})]},m.id)})})]})})})]}),r.jsxs("div",{className:"w-1/2 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[r.jsx(D,{name:"package",size:16,className:"text-brand-600"})," Project Inventory"]}),r.jsxs("span",{className:"text-xs font-bold text-brand-600 bg-brand-50 px-2 py-1 rounded",children:[o.length," Items"]})]}),r.jsx(X,{className:"flex-1 p-0 overflow-hidden border border-brand-100 shadow-sm ring-1 ring-brand-50",children:r.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar bg-white",children:r.jsxs("table",{className:"w-full text-xs text-left",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200 uppercase font-semibold sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2",children:"Material / CAS No."}),r.jsx("th",{className:"px-3 py-2 w-24 text-center",children:"Usage"}),r.jsx("th",{className:"px-3 py-2 w-20",children:"Unit"}),r.jsx("th",{className:"px-3 py-2 w-24",children:"Location"}),r.jsx("th",{className:"px-3 py-2 w-10"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:o.length>0?o.map(m=>r.jsxs("tr",{className:"hover:bg-slate-50 transition group",children:[r.jsxs("td",{className:"px-3 py-2",children:[r.jsx("div",{className:"font-bold text-slate-800",children:m.name}),r.jsx("div",{className:"text-[10px] text-slate-400 font-mono",children:m.casNo||"-"})]}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{disabled:n,type:"number",className:"w-full bg-slate-50 border border-brand-200 rounded px-2 py-1 text-right font-bold text-brand-700 outline-none focus:border-brand-500 focus:bg-white transition",value:m.projectStock,onChange:g=>c(m.id,"projectStock",g.target.value),placeholder:"0"})}),r.jsx("td",{className:"px-3 py-2 text-slate-500",children:m.unit}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{disabled:n,className:"w-full bg-transparent border-b border-transparent hover:border-slate-300 outline-none text-slate-600 focus:border-brand-500 text-center",placeholder:"Loc",value:m.location,onChange:g=>c(m.id,"location",g.target.value)})}),r.jsx("td",{className:"px-3 py-2 text-center",children:!n&&r.jsx("button",{onClick:()=>b(m.id),className:"text-slate-300 hover:text-rose-500 transition opacity-0 group-hover:opacity-100",children:r.jsx(D,{name:"x",size:14})})})]},m.id)):r.jsx("tr",{children:r.jsxs("td",{colSpan:"5",className:"p-8 text-center text-slate-400 italic",children:["Click ",r.jsx(D,{name:"plus-circle",size:12,className:"inline"})," on the left to add materials."]})})})]})})})]})]})},kf=({material:e,updateMaterial:t,readOnly:n})=>{var g;const l=(y,S)=>{n||t({...e,lots:e.lots.map(h=>h.id===y?S:h)})},s=y=>{n||l(y.id,{...y,shipments:[...y.shipments||[],{id:Ie(),date:new Date().toISOString().split("T")[0],customer:"",purpose:"",amount:"",unitPrice:""}]})},a=(y,S,h,d)=>{n||l(y.id,{...y,shipments:y.shipments.map(p=>p.id===S?{...p,[h]:d}:p)})},i=(y,S)=>{!n&&confirm("Delete?")&&l(y.id,{...y,shipments:y.shipments.filter(h=>h.id!==S)})},o=parseFloat((g=e.salesParams)==null?void 0:g.fixedRatio)||0,u=y=>{n||t({...e,salesParams:{...e.salesParams,fixedRatio:y}})},c=e.lots.reduce((y,S)=>{const h=ml(S.costData),d=parseFloat(h.unitCost)||0,p=parseFloat(S.actualOutput)||0,x=(S.shipments||[]).reduce((j,v)=>j+(parseFloat(v.amount)||0),0),N=(S.shipments||[]).reduce((j,v)=>j+(parseFloat(v.amount)||0)*(parseFloat(v.unitPrice)||0),0),w=(S.shipments||[]).reduce((j,v)=>j+(parseFloat(v.amount)||0)*d,0);return{currentStock:y.currentStock+(p-x),totalShipped:y.totalShipped+x,totalRevenue:y.totalRevenue+N,totalVariableCost:y.totalVariableCost+w}},{currentStock:0,totalShipped:0,totalRevenue:0,totalVariableCost:0}),b=c.totalRevenue*(o/100),f=c.totalRevenue-c.totalVariableCost-b,m=y=>{if(!y)return"0";const S=parseFloat(y);return isNaN(S)?"0":(S/1e8).toFixed(2)};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden group",children:[r.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Total Stock"}),r.jsxs("div",{className:"text-2xl font-black text-slate-800",children:[xl(c.currentStock,1)," ",r.jsx("span",{className:"text-sm font-normal text-slate-400",children:"g"})]})]}),r.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden group",children:[r.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Total Revenue"}),r.jsxs("div",{className:"text-2xl font-black text-brand-600",children:["",m(c.totalRevenue),""]})]}),r.jsxs("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700 shadow-sm relative overflow-hidden group text-white",children:[r.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Operating Profit"}),r.jsxs("div",{className:`text-2xl font-black ${f>=0?"text-emerald-400":"text-rose-400"}`,children:["",m(f),""]}),r.jsxs("div",{className:"text-[10px] text-slate-400 mt-1",children:["Margin: ",c.totalRevenue>0?(f/c.totalRevenue*100).toFixed(1):0,"%"]})]}),r.jsxs("div",{className:"bg-amber-50 p-5 rounded-xl border border-amber-100 shadow-sm relative overflow-hidden group",children:[r.jsxs("h4",{className:"text-xs font-bold text-amber-700 uppercase mb-2 flex items-center gap-1",children:[r.jsx(D,{name:"coins",size:12})," Project Fixed Ratio"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{disabled:n,type:"number",className:"bg-white border border-amber-200 rounded px-2 py-1 text-xl font-bold text-amber-800 w-24 outline-none focus:border-amber-500 text-right",value:o,onChange:y=>u(y.target.value)}),r.jsx("span",{className:"text-sm font-bold text-amber-600",children:"%"})]}),r.jsx("div",{className:"text-[10px] text-amber-600/70 mt-1",children:"Applied to Sales Revenue"})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.lots.map(y=>{const S=parseFloat(y.actualOutput)||0,h=(y.shipments||[]).reduce((N,w)=>N+(parseFloat(w.amount)||0),0),d=S-h,p=ml(y.costData),x=parseFloat(p.unitCost)||0;return r.jsx(X,{title:`${y.name} (Stock: ${xl(d,1)} g)`,icon:"box",className:"p-0",action:r.jsxs("div",{className:"text-xs font-bold text-slate-500 bg-slate-100 px-3 py-1.5 rounded-lg border border-slate-200",children:["Mfg Cost: ",yn(x),"/g"]}),children:r.jsxs("div",{className:"p-4 bg-slate-50",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("h5",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[r.jsx(D,{name:"truck",size:14})," Shipment History"]}),!n&&r.jsxs("button",{onClick:()=>s(y),className:"text-xs bg-white border border-slate-300 hover:bg-slate-100 text-slate-600 px-2 py-1 rounded transition flex items-center gap-1 shadow-sm",children:[r.jsx(D,{name:"plus",size:12})," New Shipment"]})]}),y.shipments&&y.shipments.length>0?r.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg bg-white",children:r.jsxs("table",{className:"w-full text-xs text-left",children:[r.jsx("thead",{className:"bg-slate-100 text-slate-500 uppercase",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2 w-24",children:"Date"}),r.jsx("th",{className:"p-2",children:"Customer"}),r.jsx("th",{className:"p-2",children:"Purpose"}),r.jsx("th",{className:"p-2 text-right w-24 text-slate-400",children:"Mfg Cost"}),r.jsx("th",{className:"p-2 text-right w-24 text-blue-600",children:"Sales Price"}),r.jsx("th",{className:"p-2 text-right w-20",children:"Amount"}),r.jsx("th",{className:"p-2 text-right w-28",children:"Revenue"}),r.jsx("th",{className:"p-2 text-right w-28 text-emerald-600 font-bold",children:"Op. Profit"}),r.jsx("th",{className:"p-2 w-10 text-center"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:y.shipments.map(N=>{const w=parseFloat(N.unitPrice)||0,j=parseFloat(N.amount)||0,v=w*j,k=x*j,R=v*(o/100),P=v-k-R;return r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"p-2",children:r.jsx("input",{disabled:n,type:"date",className:"bg-transparent text-slate-600 w-full outline-none",value:N.date,onChange:E=>a(y,N.id,"date",E.target.value)})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{disabled:n,className:"bg-transparent text-slate-800 w-full outline-none",placeholder:"Customer",value:N.customer,onChange:E=>a(y,N.id,"customer",E.target.value)})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{disabled:n,className:"bg-transparent text-slate-600 w-full outline-none",placeholder:"Purpose",value:N.purpose,onChange:E=>a(y,N.id,"purpose",E.target.value)})}),r.jsxs("td",{className:"p-2 text-right font-mono text-slate-400",children:["",yn(x)]}),r.jsx("td",{className:"p-2",children:r.jsx("input",{disabled:n,type:"number",className:"bg-transparent text-blue-600 font-bold text-right w-full outline-none",placeholder:"0",value:N.unitPrice,onChange:E=>a(y,N.id,"unitPrice",E.target.value)})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{disabled:n,type:"number",className:"bg-transparent text-slate-700 font-bold text-right w-full outline-none",placeholder:"0.0",value:N.amount,onChange:E=>a(y,N.id,"amount",E.target.value)})}),r.jsx("td",{className:"p-2 text-right font-mono text-slate-700",children:v>0?`${m(v)}`:"-"}),r.jsx("td",{className:`p-2 text-right font-mono font-bold ${P>=0?"text-emerald-600":"text-rose-500"}`,children:v>0?`${m(P)}`:"-"}),r.jsx("td",{className:"p-2 text-center",children:!n&&r.jsx("button",{onClick:()=>i(y,N.id),className:"text-slate-400 hover:text-rose-500",children:r.jsx(D,{name:"x",size:14})})})]},N.id)})})]})}):r.jsx("div",{className:"text-center p-4 text-xs text-slate-400 italic border border-dashed border-slate-300 rounded-lg",children:"No shipment history"})]})},y.id)})})]})},Ef=({material:e,updateMaterial:t,readOnly:n,globalInventory:l,updateGlobalInventory:s})=>{const[a,i]=z.useState("raw");return r.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[r.jsxs("div",{className:"px-6 pt-6 pb-0 flex gap-2 shrink-0",children:[r.jsxs("button",{onClick:()=>i("raw"),className:`px-4 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${a==="raw"?"bg-slate-800 text-white shadow-md":"bg-white border border-slate-200 text-slate-500 hover:text-slate-700"}`,children:[r.jsx(D,{name:"package",size:14})," Material Inventory"]}),r.jsxs("button",{onClick:()=>i("product"),className:`px-4 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${a==="product"?"bg-slate-800 text-white shadow-md":"bg-white border border-slate-200 text-slate-500 hover:text-slate-700"}`,children:[r.jsx(D,{name:"layers",size:14})," Product Stock"]})]}),r.jsx("div",{className:"flex-1 overflow-hidden relative",children:a==="raw"?r.jsx("div",{className:"h-full -mt-2",children:r.jsx(Sf,{material:e,updateMaterial:t,readOnly:n,globalInventory:l,updateGlobalInventory:s})}):r.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar -mt-2",children:r.jsx(kf,{material:e,updateMaterial:t,readOnly:n})})})]})},Cf=({currentUser:e,onLogout:t,users:n,setUsers:l,isLicenseExpired:s,globalInventory:a,updateGlobalInventory:i})=>{const[o,u]=z.useState([]),[c,b]=z.useState(null),[f,m]=z.useState("history"),[g,y]=z.useState(!1),S=z.useRef(null);z.useEffect(()=>{(async()=>{let T=await Ye.materials.getAll();!T||T.length===0?(T=[_r({name:"GH_unknown_Project",stage:"PRE_MASS",lots:lf,inventory:sf})],await Ye.materials.saveAll(T)):T=T.map(_r),u(T),T.length>0&&!c&&b(T[0].id)})()},[]);const h=async()=>{if(s){alert("License Expired.");return}await Ye.materials.saveAll(o),alert("Saved successfully!")},d=E=>{u(T=>T.map(I=>I.id===E.id?E:I))},p=()=>{if(s){alert("License Expired.");return}const E=new Date().getFullYear(),T=window.prompt("Enter Project Year:",E);if(T===null)return;const I=parseInt(T,10);if(isNaN(I)||I<2e3||I>2100){alert("Please enter a valid 4-digit year (e.g., 2025).");return}const $=_r({name:"New Project",year:I});u([...o,$]),b($.id)},x=()=>{const E="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o)),T=document.createElement("a");T.href=E,T.download="oled_matflow_backup.json",T.click(),T.remove()},N=E=>{const T=E.target.files[0];if(!T)return;const I=new FileReader;I.onload=$=>{try{const U=JSON.parse($.target.result).map(_r);u(U),U.length&&b(U[0].id),alert("Loaded!")}catch{alert("Error loading file.")}},I.readAsText(T),E.target.value=null},w=o.find(E=>E.id===c),j=ea[e.roleId],v=s?!0:!j.canEdit,k=z.useMemo(()=>{const E={};return o.forEach(T=>{const I=T.year||new Date().getFullYear();E[I]||(E[I]=[]),E[I].push(T)}),Object.entries(E).sort((T,I)=>I[0]-T[0])},[o]),R=()=>w?f==="stock"?r.jsx(Ef,{material:w,updateMaterial:d,readOnly:v,globalInventory:a,updateGlobalInventory:i}):f==="history"?r.jsx(wf,{material:w,updateMaterial:d,readOnly:v}):f==="analysis"?r.jsx(Nf,{material:w,updateMaterial:d,readOnly:v}):f==="cost"?r.jsx(df,{material:w,updateMaterial:d,readOnly:v}):f==="regression"?r.jsx(pf,{material:w,lots:w.lots}):f==="master"?r.jsx(cf,{globalInventory:a,updateGlobalInventory:i,materials:o,readOnly:v}):null:r.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:"Select Project"}),P=[{id:"history",label:"History"},{id:"analysis",label:"Analysis"},{id:"cost",label:"Cost"},{id:"stock",label:"Inventory"},{id:"master",label:"Master Stock"},{id:"regression",label:"Regression"}].filter(E=>{var T;return!((T=j.restrictedTabs)!=null&&T.includes(E.id))});return r.jsxs("div",{className:"flex h-screen bg-slate-100 text-slate-800 font-sans",children:[r.jsxs("div",{className:"w-64 border-r border-slate-200 bg-white flex flex-col z-20 shadow-lg",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-800 font-black text-xl mb-1",children:[r.jsx(D,{name:"layers",size:24,className:"text-brand-600"})," OLED",r.jsx("span",{className:"text-brand-600",children:" Matflow"})]}),r.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"v1.0 Analysis"})]}),r.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs text-white shadow-sm ${e.roleId==="ADMIN"?"bg-purple-600":"bg-slate-600"}`,children:e.username.substring(0,2).toUpperCase()}),r.jsxs("div",{className:"flex-1 overflow-hidden",children:[r.jsx("div",{className:"text-sm font-bold text-slate-800 truncate",children:e.name}),r.jsx("div",{className:"text-[10px] text-brand-600 font-bold",children:j.name})]}),r.jsx("button",{onClick:t,className:"text-slate-400 hover:text-rose-500 transition",children:r.jsx(D,{name:"log-out",size:16})})]}),s&&r.jsx("div",{className:"mt-2 text-[10px] font-bold text-rose-600 bg-rose-50 px-2 py-1 rounded text-center",children:"LICENSE EXPIRED"})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",children:[j.manageUsers&&r.jsxs("button",{onClick:()=>y(!0),className:`w-full text-left p-3 rounded-lg text-sm font-bold flex items-center gap-2 transition mb-4 ${g?"bg-purple-600 text-white shadow-md":"bg-purple-50 text-purple-700 hover:bg-purple-100"}`,children:[r.jsx(D,{name:"shield",size:16})," User Management"]}),r.jsxs("div",{className:"text-xs font-bold text-slate-400 px-3 mb-2 mt-2 flex justify-between items-center",children:[r.jsx("span",{children:"PROJECTS"}),!s&&r.jsx("button",{onClick:p,className:"text-brand-600 hover:bg-brand-50 rounded p-0.5",title:"Add New Project",children:r.jsx(D,{name:"plus",size:14})})]}),k.map(([E,T])=>r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 px-3 mb-2",children:[r.jsx("div",{className:"h-px bg-slate-200 flex-1"}),r.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:E}),r.jsx("div",{className:"h-px bg-slate-200 flex-1"})]}),r.jsx("div",{className:"space-y-1",children:T.map(I=>{var $,U;return r.jsx("div",{onClick:()=>{b(I.id),y(!1)},className:`flex justify-between items-center p-3 rounded-lg cursor-pointer transition border ${c===I.id&&!g?"bg-white border-brand-200 shadow-md ring-1 ring-brand-100":"border-transparent text-slate-500 hover:bg-slate-50"}`,children:r.jsxs("div",{className:"overflow-hidden",children:[r.jsx("div",{className:`font-bold truncate ${c===I.id&&!g?"text-slate-800":"text-slate-600"}`,children:I.name}),r.jsx("div",{className:`text-[10px] inline-block px-1.5 rounded-full mt-1 border ${($=Lr[I.stage])==null?void 0:$.color}`,children:(U=Lr[I.stage])==null?void 0:U.name})]})},I.id)})})]},E))]}),r.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50",children:r.jsxs("div",{className:"text-[10px] text-center text-slate-400 font-medium leading-tight",children:["Copyright  2025 ",r.jsx("span",{className:"text-slate-600 font-bold",children:"Sun Min Kim"}),".",r.jsx("br",{}),"All rights reserved."]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col bg-slate-50 overflow-hidden relative",children:[s&&r.jsx("div",{className:"bg-rose-600 text-white text-xs font-bold text-center py-1 z-50 shadow-md",children:"LICENSE EXPIRED - READ ONLY MODE."}),g?r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-slate-50",children:r.jsx(uf,{users:n,setUsers:l})}):w?r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:"bg-white/80 backdrop-blur-md border-b border-slate-200 p-4 z-10 flex justify-between items-center shadow-sm",children:[r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("input",{disabled:v,className:"bg-transparent text-2xl font-black text-slate-800 outline-none w-64 border-b-2 border-transparent hover:border-slate-300 focus:border-brand-500 transition",value:w.name,onChange:E=>d({...w,name:E.target.value})}),r.jsxs("div",{className:"relative group",children:[r.jsx("select",{disabled:v,className:`appearance-none pl-3 pr-8 py-1 rounded-full text-xs font-bold border outline-none cursor-pointer bg-white ${Lr[w.stage].color}`,value:w.stage,onChange:E=>d({...w,stage:E.target.value}),children:Object.values(Lr).map(E=>r.jsx("option",{value:E.id,children:E.name},E.id))}),r.jsx("div",{className:"absolute right-2 top-1.5 pointer-events-none text-current opacity-50",children:r.jsx(D,{name:"chevron-down",size:12})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:x,className:"bg-white border border-slate-200 text-slate-500 hover:text-brand-600 hover:border-brand-200 p-2 rounded-lg transition shadow-sm",children:r.jsx(D,{name:"download",size:18})}),j.canEdit&&!s&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S.current.click(),className:"bg-white border border-slate-200 text-slate-500 hover:text-brand-600 hover:border-brand-200 p-2 rounded-lg transition shadow-sm",children:r.jsx(D,{name:"upload",size:18})}),r.jsx("input",{type:"file",ref:S,className:"hidden",accept:".json",onChange:N}),r.jsx("div",{className:"w-px h-8 bg-slate-200 mx-1"}),r.jsxs("button",{onClick:h,className:"bg-brand-600 hover:bg-brand-700 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 shadow-md shadow-brand-200 transition",children:[r.jsx(D,{name:"save",size:16})," Save"]})]})]})]}),r.jsx("div",{className:"border-b border-slate-200 bg-white px-6 flex gap-6 overflow-x-auto shadow-sm z-0",children:P.map(E=>r.jsx("button",{onClick:()=>m(E.id),className:`py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${f===E.id?"border-brand-600 text-brand-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:E.label.toUpperCase()},E.id))}),r.jsx("main",{className:"flex-1 overflow-hidden relative custom-scrollbar bg-slate-50",children:R()})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:"Select Project"})]})]})},Pf=()=>{const[e,t]=z.useState(null),[n,l]=z.useState([]),[s,a]=z.useState([]),[i,o]=z.useState(!1),[u,c]=z.useState(!1),[b,f]=z.useState(!0);z.useEffect(()=>{(async()=>{const y=Ye.users.getAll();y&&y.length>0?l(y):(l(uo),Ye.users.saveAll(uo));const S=await Ye.inventory.getGlobal();S&&S.length>0?a(S):(a(co),Ye.inventory.saveGlobal(co));const h=await Ye.license.get();h.isValid?(o(!0),h.isExpired&&c(!0)):o(!1),f(!1)})()},[]);const m=async()=>{o(!0),c(!1)};return b?r.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50 text-slate-400 font-bold",children:"Initializing System..."}):i?e?r.jsx(Cf,{currentUser:e,onLogout:()=>t(null),users:n,setUsers:l,isLicenseExpired:u,globalInventory:s,updateGlobalInventory:g=>{a(g),Ye.inventory.saveGlobal(g)}}):r.jsx(af,{onLogin:t,users:n,setUsers:l}):r.jsx(of,{onActivate:m})};is.createRoot(document.getElementById("root")).render(r.jsx(Hc.StrictMode,{children:r.jsx(Pf,{})}));
